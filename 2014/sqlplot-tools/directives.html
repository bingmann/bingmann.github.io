<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=iso-8859-1" http-equiv="content-type" /><meta name="viewport" content="initial-scale=1"><title>SqlPlotTools - List of Directives - panthema.net</title><link rel="stylesheet" type="text/css" href="/css/base.css" /><link rel="stylesheet" type="text/css" href="/css/fonts.css" /><link rel="alternate" type="application/rss+xml" title="panthema.net Weblog Feed RSS 2.0" href="http://panthema.net/xmlfeed/weblog-rss20.xml" /><link rel="alternate" type="application/atom+xml" title="panthema.net Weblog Feed Atom 1.0" href="http://panthema.net/xmlfeed/weblog-atom10.xml" /><script type="text/javascript" src="/js/base.js"></script><script type="text/javascript">/* <!-- */makeIEHover = function() {var lis = document.getElementById('ptnav').getElementsByTagName('li');for (var i = 0; i < lis.length; i++) {lis[i].onmouseover = function() {this.className += ' sfhover';};lis[i].onmouseout = function() {this.className = this.className.replace(new RegExp(' sfhover\b'), '');};}};if (window.attachEvent) window.attachEvent('onload', makeIEHover);/* --> */</script></head><body style="background-image: url(/img/bgfractal7.jpg)" lang="en"><div class="pttopbar"><div style="float: right"><ul id="ptnav"><li class="top"><a class="ni" href="/"><i class="icon-book"></i> Weblog</a><ul style="margin-left: -6px; margin-top: 4px" class="nx"><li><a href="/2019/">2019</a></li><li><a href="/2018/">2018</a></li><li><a href="/2017/">2017</a></li><li><a href="/2016/">2016</a></li><li><a href="/2015/">2015</a></li><li><a href="/2014/">2014</a></li><li><a href="/2013/">2013</a></li><li><a href="/2012/">2012</a></li><li><a href="/2011/">2011</a></li><li><a href="/2010/">2010</a></li><li><a href="/2009/">2009</a></li><li><a href="/2008/">2008</a></li><li><a href="/2007/">2007</a></li><li><a href="/2006/">2006</a></li><li class="nt"><a href="/2005/">2005</a></li><li class="ns"><a href="/xmlfeed/weblog-rss20.xml">RSS Feed</a></li><li class="nt"><a href="/xmlfeed/weblog-atom10.xml">XML Atom</a></li><li class="ns"><a href="/search.html">Search</a></li></ul></li><li class="top"><a class="ni" href="/tags/"><i class="icon-tags"></i> Tags</a><div style="width: 14em; margin-left: -9em; margin-top: 4px"><a style="font-size: 10pt" href="/tags/algebra.html">algebra</a> <a style="font-size: 16pt" href="/tags/c++.html">c++</a> <a style="font-size: 12pt" href="/tags/code-example.html">code-example</a> <a style="font-size: 14pt" href="/tags/code-snippet.html">code-snippet</a> <a style="font-size: 11pt" href="/tags/coding_tricks.html">coding tricks</a> <a style="font-size: 10pt" href="/tags/compsci.html">compsci</a> <a style="font-size: 10pt" href="/tags/compsci_study_thesis.html">compsci study thesis</a> <a style="font-size: 9pt" href="/tags/crypto-speedtest.html">crypto-speedtest</a> <a style="font-size: 10pt" href="/tags/cryptography.html">cryptography</a> <a style="font-size: 9pt" href="/tags/cryptote.html">cryptote</a> <a style="font-size: 11pt" href="/tags/dissertation.html">dissertation</a> <a style="font-size: 12pt" href="/tags/flex-bison-cpp-example.html">flex-bison-cpp-example</a> <a style="font-size: 16pt" href="/tags/frontpage.html">frontpage</a> <a style="font-size: 15pt" href="/tags/fun.html">fun</a> <a style="font-size: 10pt" href="/tags/graphviz.html">graphviz</a> <a style="font-size: 9pt" href="http://www.hmtg.de">hartmetall</a> <a style="font-size: 9pt" href="/tags/helppc.html">helppc</a> <a style="font-size: 9pt" href="/tags/hifi_selbstbau.html">hifi selbstbau</a> <a style="font-size: 10pt" href="/tags/latex.html">latex</a> <a style="font-size: 10pt" href="/tags/librivox.html">librivox</a> <a style="font-size: 10pt" href="/tags/linux.html">linux</a> <a style="font-size: 9pt" href="/tags/market.html">market</a> <a style="font-size: 9pt" href="/tags/massive-sorting.html">massive-sorting</a> <a style="font-size: 11pt" href="/tags/maths.html">maths</a> <a style="font-size: 9pt" href="/tags/music.html">music</a> <a style="font-size: 10pt" href="/tags/netfundamentals.html">netfundamentals</a> <a style="font-size: 11pt" href="/tags/ns-3.html">ns-3</a> <a style="font-size: 10pt" href="/tags/parallel-string-sorting.html">parallel-string-sorting</a> <a style="font-size: 14pt" href="/tags/parsing.html">parsing</a> <a style="font-size: 9pt" href="/tags/qtsqlview.html">qtsqlview</a> <a style="font-size: 14pt" href="/tags/research.html">research</a> <a style="font-size: 11pt" href="/tags/sdios06.html">sdios06</a> <a style="font-size: 9pt" href="/tags/sdlfractal.html">sdlfractal</a> <a style="font-size: 14pt" href="/tags/sorting.html">sorting</a> <a style="font-size: 11pt" href="/tags/sound_of_sorting.html">sound of sorting</a> <a style="font-size: 10pt" href="/tags/stringology.html">stringology</a> <a style="font-size: 16pt" href="/tags/stx-btree.html">stx-btree</a> <a style="font-size: 16pt" href="/tags/stxxl.html">stxxl</a> <a style="font-size: 16pt" href="/tags/talk.html">talk</a> <a style="font-size: 15pt" href="/tags/thrill.html">thrill</a> <a style="font-size: 10pt" href="/tags/tutorium.html">tutorium</a> <a style="font-size: 16pt" href="/tags/university.html">university</a> <a style="font-size: 13pt" href="/tags/utilities.html">utilities</a> <a style="font-size: 10pt" href="/tags/vncrec.html">vncrec</a> <a style="font-size: 9pt" href="/tags/webdesign.html">webdesign</a> </div></li><li class="top"> <a class="ni" href="#"><i class="icon-cubes"></i> Projects</a> <ul style="margin-left: -8em; margin-top: 4px;" class="nx"> <li><a href="/2009/cryptote/">CryptoTE</a></li> <li><a href="/2009/digup/">digup</a></li> <li><a href="/2013/disk-filltest/">disk-filltest</a></li> <li><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">eSAIS-LCP</a></li> <li><a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a></li> <li><a href="/2013/malloc_count/">malloc_count</a></li> <li><a href="/2016/0114-diploma-thesis/">On Bispanning Graphs</a></li> <li><a href="/2013/pmbw/">Parallel Memory Bandwidth</a></li> <li><a href="/2013/parallel-string-sorting/">Parallel String Sorting</a></li> <li><a href="/2014/sqlplot-tools/">SqlPlotTools</a></li> <li><a href="/2013/sound-of-sorting/">The Sound of Sorting</a></li> <li><a href="/2007/stx-btree/">STX B+ Tree</a></li> <li><a href="/2010/stx-cbtreedb/">STX Constant BTreeDB</a></li> <li><a href="/2010/stx-execpipe/">STX ExecPipe</a></li> <li><a href="/2007/stx-exparser/">STX Expression Parser</a></li> <li><a href="/tags/stxxl.html">STXXL 1.4</a></li> <li><a href="/tags/thrill.html">Thrill - Big Data Framework</a></li> <li class="nt"><a href="/2014/vncrec-rgb/">VNCrec RGB 0.4</a></li> <li class="ns"><a href="/search.html">Search</a></li> </ul></li><li class="top"> <a class="ni" href="/publications.html"><i class="icon-graduation-cap"></i> Publications</a></li><li class="top"> <a class="ni" href="/about/"><i class="icon-info-circled"></i> About</a> <ul style="margin-left: -6em; margin-top: 4px" class="nx"> <li><a href="/about/">Timo Bingmann</a></li> <li><a href="/about/impressum.html">Impressum</a></li> </ul></li><li class="top"> <a class="ni" href="/subscribe.html"><i class="icon-rss-squared"></i> Subscribe</a></li></ul></div><div style="padding: 6px"><a href="/">panthema</a>  / <a href="/2014/">2014</a> / <a href="/2014/sqlplot-tools/">sqlplot-tools</a> / <a href="/2014/sqlplot-tools/directives.html">directives</a></div></div><div class="ptcontent"><h1>List of LaTeX SqlPlotTools Directives</h1><p>SqlPlotTools directives in LaTeX are written as LaTeX comments, starting with percent signs &apos;%&apos;. Multi-line directives are prefixed with two percent signs &apos;% %&apos; and indented at the same level.</p><h2>Auxiliary Directives</h2><h3><code>SQL [any-statement]</code></h3><p>Executes any arbitrary SQL statement on the database. This can be used to create indices, delete imported rows, etc.</p><p>Examples:</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="symbol">%</span><span class="normal"> SQL </span><span class="keyword">DELETE</span><span class="normal"> </span><span class="keyword">FROM</span><span class="normal"> stats </span><span class="keyword">WHERE</span><span class="normal"> </span><span class="keyword">key</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="string">'bad data'</span></tt></pre></div><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="symbol">%</span><span class="normal"> SQL </span><span class="keyword">CREATE</span><span class="normal"> </span><span class="keyword">INDEX</span><span class="normal"> stats_key </span><span class="keyword">ON</span><span class="normal"> stats</span><span class="symbol">(</span><span class="keyword">key</span><span class="symbol">)</span></tt></pre></div><h3><code>IMPORT-DATA [options] [files...]</code></h3><p>Imports RESULT lines into the current database from given files. By default the imported tables are <b>temporary tables</b> (if available), which means they are discarded after the program exits.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt>Options: 
  -1       Take field types from first line and process stream.
  -a       Process all line, regardless of RESULT marker.
  -C       Enumerate unnamed fields with col# instead of using key names.
  -E       Allow empty tables or globs without matching files.
  -d       Eliminate duplicate RESULT lines.
  -T       Import into TEMPORARY table (for in-file processing).
  -P       Import into non-TEMPORARY table (reverts the default -T).
  -v       Increase verbosity.</tt></pre></div><p>Example:</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="symbol">%</span><span class="normal"> IMPORT</span><span class="symbol">-</span><span class="keyword">DATA</span><span class="normal"> stats plotdata</span><span class="symbol">/</span><span class="normal">experiment1</span><span class="comment">/*.txt</span></tt></pre></div><h3><code>RANGE BEGIN [key]</code> and <code>RANGE END [key]</code></h3><p>To process only parts of a large file, <code>RANGE</code>s can specified in the LaTeX file. The <code>sp-process</code> tool can then be called with parameter <code>-R [key]</code> to process only directives within <code>RANGE BEGIN [key]</code> and <code>RANGE END [key]</code> lines. Ranges can be opened and closed multiple times in any order.</p><h3><code>CONNECT [database-connection]</code></h3><p>Switch connection to database. Common database connection strings are <code>sqlite:file.db</code>, <code>postgresql:dbname=hello host=myhost</code> and <code>mysql:database=foo</code>. By default SqlPlotTools will try PostgreSQL, then MySQL, then use SQLite, depending on which drivers are compiled into the binary.</p><h2>Data Directives</h2><h3><code>PLOT [select-statement]</code></h3><p>The <code>PLOT</code> directive executes one SQL select command. The result must contain at least two columns called <code>x</code> and <code>y</code> which are transformed into (x,y) coordinates. The coordinates are outputted as a single <code>\addplot</code> line for pgfplots. The program tries hard to read the following lines and keep your customizations of the <code>\addplot</code> command. It replaces only the data within the <code>coordinates</code> clause of following <code>\addplot</code> lines.</p><p>Example:</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="symbol">%%</span><span class="normal"> PLOT </span><span class="keyword">SELECT</span><span class="normal"> LOG</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">,</span><span class="normal"> testsize</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">AS</span><span class="normal"> x</span><span class="symbol">,</span><span class="normal"> speed </span><span class="keyword">AS</span><span class="normal"> y </span><span class="keyword">FROM</span><span class="normal"> test</span>
<span class="symbol">%%</span><span class="normal"> </span><span class="keyword">WHERE</span><span class="normal"> funcname</span><span class="symbol">=</span><span class="string">'std::stable_sort'</span><span class="normal"> </span><span class="keyword">ORDER</span><span class="normal"> </span><span class="keyword">BY</span><span class="normal"> x</span>
<span class="symbol">\</span><span class="normal">addplot</span><span class="symbol">[</span><span class="normal">red</span><span class="symbol">]</span><span class="normal"> coordinates { </span><span class="symbol">(</span><span class="number">24</span><span class="symbol">,</span><span class="number">0.144</span><span class="symbol">)</span><span class="normal"> }</span><span class="symbol">;</span></tt></pre></div><p>Since the <code>PLOT</code> directive only outputs an <code>\addplot</code> line, it is usually wrapped in tikz and pgfplot environments. And as such, one can use multiple <code>PLOT</code> lines to generate more than one series per plot.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="keyword">\begin</span><span class="argument">{tikzpicture}</span>
<span class="normal">  </span><span class="keyword">\begin</span><span class="argument">{axis}</span><span class="normal">[</span>
<span class="normal">    title=</span><span class="argument">{Simple C++ Sorting Test}</span><span class="normal">,</span>
<span class="normal">    xlabel=</span><span class="argument">{Item Count [$\log_2(n)$]}</span><span class="normal">,</span>
<span class="normal">    ylabel=</span><span class="argument">{Run Time per Item [Nanoseconds / Item]}</span><span class="normal">,</span>
<span class="normal">    ]</span>

<span class="normal">    </span><span class="comment">%% PLOT SELECT LOG(2, testsize) AS x, speed AS y FROM test</span>
<span class="normal">    </span><span class="comment">%% WHERE funcname='std::stable_sort' ORDER BY x</span>
<span class="normal">    </span><span class="keyword">\add</span><span class="normal"> plot</span><span class="optionalargument">[red]</span><span class="normal"> coordinates </span><span class="argument">{ (24,0.144) }</span><span class="normal">;</span>

<span class="normal">  </span><span class="keyword">\end</span><span class="argument">{axis}</span>
<span class="keyword">\end</span><span class="argument">{tikzpicture}</span></tt></pre></div><h3><code>MULTIPLOT(group) [select-statement]</code></h3><p>Multi-plot is used to generate multiple plot lines in one command. The multiple lines are distinguished by the values in the columns containing in the <code>group</code> clause (e.g. group by hostname and experiment type). Since the <code>group</code> columns are usually contained in the <code>SELECT</code> statement, all occurrences of the string &quot;MULTIPLOT&quot; are replaced by the <code>group</code> clause for convenience.</p><p>The select statement is executed on database, and the result must contain at least two columns called <code>x</code> and <code>y</code>, and additionally all columns in the <code>group</code> clauses. The result must be ordered such that all rows in a common <code>group</code> are in sequences, and within the group the <code>x</code> items are ascending. As with PLOT, the program tries to replace only the data within the <code>coordinates</code> clause of following <code>\addplot</code> lines, such that user changes outside are kept.</p><p>Additionally, the <code>group</code> clause is used to automatically generate legend entries following each plot line. For nicer production legends, these can easily be overridden using a <code>\legend</code> after the <code>MULTIPLOT</code> part.</p><p>Alternatively, the legend title can be defined using SQL by appending &quot;<code>|title</code>&quot; to the <code>group</code> specification and returning a columns <code>title</code> in the SQL statement. LaTeX commands in the legend <code>title</code> column are escaped. If this is undesired, e.g. to use math symbols, use &quot;<code>|ptitle&quot;</code> and return a column <code>ptitle</code> instead.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="symbol">%%</span><span class="normal"> MULTIPLOT</span><span class="symbol">(</span><span class="normal">funcname</span><span class="symbol">)</span>
<span class="symbol">%%</span><span class="normal"> </span><span class="keyword">SELECT</span><span class="normal"> LOG</span><span class="symbol">(</span><span class="normal">testsize</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">/</span><span class="normal"> LOG</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">AS</span><span class="normal"> x</span><span class="symbol">,</span><span class="normal"> AVG</span><span class="symbol">(</span><span class="normal">bandwidth</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">AS</span><span class="normal"> y</span><span class="symbol">,</span><span class="normal"> MULTIPLOT</span>
<span class="symbol">%%</span><span class="normal"> </span><span class="keyword">FROM</span><span class="normal"> test </span><span class="keyword">WHERE</span><span class="normal"> host</span><span class="symbol">=</span><span class="string">'earth'</span><span class="normal"> </span><span class="keyword">GROUP</span><span class="normal"> </span><span class="keyword">BY</span><span class="normal"> MULTIPLOT</span><span class="symbol">,</span><span class="normal">x </span><span class="keyword">ORDER</span><span class="normal"> </span><span class="keyword">BY</span><span class="normal"> MULTIPLOT</span><span class="symbol">,</span><span class="normal">x</span>
<span class="symbol">\</span><span class="normal">addplot coordinates { </span><span class="symbol">(</span><span class="number">10.1699</span><span class="symbol">,</span><span class="number">2.12566e+10</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">...</span><span class="normal"> </span><span class="symbol">(</span><span class="number">34</span><span class="symbol">,</span><span class="number">3.50009e+09</span><span class="symbol">)</span><span class="normal"> }</span><span class="symbol">;</span>
<span class="symbol">\</span><span class="normal">addlegendentry{funcname</span><span class="symbol">=</span><span class="normal">ScanRead64PtrUnrollLoop}</span><span class="symbol">;</span>
<span class="symbol">\</span><span class="normal">addplot coordinates { </span><span class="symbol">(</span><span class="number">10.1699</span><span class="symbol">,</span><span class="number">2.00049e+10</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">...</span><span class="normal"> </span><span class="symbol">(</span><span class="number">34</span><span class="symbol">,</span><span class="number">2.1669e+09</span><span class="symbol">)</span><span class="normal"> }</span><span class="symbol">;</span>
<span class="symbol">\</span><span class="normal">addlegendentry{funcname</span><span class="symbol">=</span><span class="normal">ScanWrite64PtrUnrollLoop}</span><span class="symbol">;</span></tt></pre></div><p>or with explicit legend titles:</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="symbol">%%</span><span class="normal"> MULTIPLOT</span><span class="symbol">(</span><span class="normal">funcname</span><span class="symbol">|</span><span class="normal">title</span><span class="symbol">)</span>
<span class="symbol">%%</span><span class="normal"> </span><span class="keyword">SELECT</span><span class="normal"> LOG</span><span class="symbol">(</span><span class="normal">testsize</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">/</span><span class="normal"> LOG</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">AS</span><span class="normal"> x</span><span class="symbol">,</span><span class="normal"> AVG</span><span class="symbol">(</span><span class="normal">bandwidth</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">AS</span><span class="normal"> y</span><span class="symbol">,</span><span class="normal"> funcname </span><span class="keyword">AS</span><span class="normal"> title</span><span class="symbol">,</span><span class="normal"> MULTIPLOT</span>
<span class="symbol">%%</span><span class="normal"> </span><span class="keyword">FROM</span><span class="normal"> test </span><span class="keyword">WHERE</span><span class="normal"> host</span><span class="symbol">=</span><span class="string">'earth'</span><span class="normal"> </span><span class="keyword">GROUP</span><span class="normal"> </span><span class="keyword">BY</span><span class="normal"> MULTIPLOT</span><span class="symbol">,</span><span class="normal">x </span><span class="keyword">ORDER</span><span class="normal"> </span><span class="keyword">BY</span><span class="normal"> MULTIPLOT</span><span class="symbol">,</span><span class="normal">x</span>
<span class="symbol">\</span><span class="normal">addplot coordinates { </span><span class="symbol">(</span><span class="number">10.1699</span><span class="symbol">,</span><span class="number">2.12566e+10</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">...</span><span class="normal"> </span><span class="symbol">(</span><span class="number">34</span><span class="symbol">,</span><span class="number">3.50009e+09</span><span class="symbol">)</span><span class="normal"> }</span><span class="symbol">;</span>
<span class="symbol">\</span><span class="normal">addlegendentry{ScanRead64PtrUnrollLoop}</span><span class="symbol">;</span>
<span class="symbol">\</span><span class="normal">addplot coordinates { </span><span class="symbol">(</span><span class="number">10.1699</span><span class="symbol">,</span><span class="number">2.00049e+10</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">...</span><span class="normal"> </span><span class="symbol">(</span><span class="number">34</span><span class="symbol">,</span><span class="number">2.1669e+09</span><span class="symbol">)</span><span class="normal"> }</span><span class="symbol">;</span>
<span class="symbol">\</span><span class="normal">addlegendentry{ScanWrite64PtrUnrollLoop}</span><span class="symbol">;</span></tt></pre></div><h3><code>TEXTTABLE [select-statement]</code></h3><p>The directive executes the <code>SELECT</code> statement on the database and inserts the result into LaTeX as text table. The table is similar to the output of the SQL command line tools <code>mysql</code>/<code>psql</code> and can be used to test statements.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="symbol">%%</span><span class="normal"> TEXTTABLE</span>
<span class="symbol">%%</span><span class="normal"> </span><span class="keyword">SELECT</span><span class="normal"> COUNT</span><span class="symbol">(*),</span><span class="normal"> SUM</span><span class="symbol">(</span><span class="type">time</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">/</span><span class="normal"> </span><span class="number">3600</span><span class="normal"> </span><span class="symbol">/</span><span class="normal"> </span><span class="number">24</span><span class="normal"> </span><span class="keyword">AS</span><span class="normal"> </span><span class="type">time</span><span class="symbol">,</span><span class="normal"> SUM</span><span class="symbol">(</span><span class="normal">iovolume</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">/</span><span class="normal"> POW</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">,</span><span class="number">40</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">AS</span><span class="normal"> vol</span>
<span class="symbol">%%</span><span class="normal"> </span><span class="keyword">FROM</span><span class="normal"> </span><span class="string">"20121026-ic1-fullrun32"</span><span class="normal"> </span><span class="keyword">WHERE</span><span class="normal"> sacaname</span><span class="symbol">=</span><span class="string">'skew3'</span><span class="normal"> </span><span class="keyword">OR</span><span class="normal"> sacaname</span><span class="symbol">=</span><span class="string">'eSAIS'</span>
<span class="symbol">+</span><span class="comment">-------+------------------+------------------+</span>
<span class="symbol">|</span><span class="normal"> count </span><span class="symbol">|</span><span class="normal">             </span><span class="type">time</span><span class="normal"> </span><span class="symbol">|</span><span class="normal">              vol </span><span class="symbol">|</span>
<span class="symbol">+</span><span class="comment">-------+------------------+------------------+</span>
<span class="symbol">|</span><span class="normal">    </span><span class="number">90</span><span class="normal"> </span><span class="symbol">|</span><span class="normal"> </span><span class="number">3.22392927893518</span><span class="normal"> </span><span class="symbol">|</span><span class="normal"> </span><span class="number">16.8072862625122</span><span class="normal"> </span><span class="symbol">|</span>
<span class="symbol">+</span><span class="comment">-------+------------------+------------------+</span>
<span class="symbol">%</span><span class="normal"> END TEXTTABLE </span><span class="keyword">SELECT</span><span class="normal"> COUNT</span><span class="symbol">(*),</span><span class="normal"> SUM</span><span class="symbol">(</span><span class="type">time</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">/</span><span class="normal"> </span><span class="number">3600</span><span class="normal"> </span><span class="symbol">/</span><span class="normal"> </span><span class="number">24</span><span class="normal"> </span><span class="keyword">AS</span><span class="normal"> </span><span class="type">time</span><span class="symbol">,</span><span class="normal"> SUM</span><span class="symbol">(</span><span class="normal">iovolume</span><span class="symbol">...)</span></tt></pre></div><h3><code>TABULAR [REFORMAT()] [select-statement]</code></h3><p>The directive executes the <code>SELECT</code> statement on the database and inserts the result into LaTeX as the contents of a tabular. The tabular environment itself is NOT generated!</p><p>Additionally, the columns and rows of the tabular matrix can be <i>reformatted</i> by rules in the optional <code>REFORMAT()</code> clause. Reformatting is experimental.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="keyword">\begin</span><span class="argument">{tabular}{l|rrr}</span>
<span class="math">$n$</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="keyword">\texttt</span><span class="fixed">{std::sort}</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="keyword">\texttt</span><span class="fixed">{std::stable\_sort}</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> STL heap sort </span><span class="symbol">\\</span><span class="normal"> </span><span class="keyword">\hline</span>
<span class="comment">%% TABULAR REFORMAT(col 1-3=(precision=1) row 0-100=(min=bold))</span>
<span class="comment">%% SELECT '$2^{' || FLOOR(LOG(2, size)) || '}$' AS x,</span>
<span class="comment">%% (SELECT MEDIAN(time / repeats / size * 1e9) FROM stats s1 WHERE s1.algo='std::sort' AND s1.size = s.size GROUP BY s1.size),</span>
<span class="comment">%% (SELECT MEDIAN(time / repeats / size * 1e9) FROM stats s1 WHERE s1.algo='std::stable_sort' AND s1.size = s.size GROUP BY s1.size),</span>
<span class="comment">%% (SELECT MEDIAN(time / repeats / size * 1e9) FROM stats s1 WHERE s1.algo='std::heap_sort' AND s1.size = s.size GROUP BY s1.size)</span>
<span class="comment">%% FROM stats s</span>
<span class="comment">%% GROUP BY s.size ORDER BY s.size</span>
<span class="math">$2^{10}$</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="keyword">\bf</span><span class="normal"> 38.0 </span><span class="symbol">&amp;</span><span class="normal">      38.1 </span><span class="symbol">&amp;</span><span class="normal">  71.7 </span><span class="symbol">\\</span>
<span class="math">$2^{11}$</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">     42.9 </span><span class="symbol">&amp;</span><span class="normal">  </span><span class="keyword">\bf</span><span class="normal"> 41.8 </span><span class="symbol">&amp;</span><span class="normal">  77.6 </span><span class="symbol">\\</span>
<span class="math">$2^{12}$</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">     47.8 </span><span class="symbol">&amp;</span><span class="normal">  </span><span class="keyword">\bf</span><span class="normal"> 45.2 </span><span class="symbol">&amp;</span><span class="normal">  83.8 </span><span class="symbol">\\</span>
<span class="math">$2^{13}$</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">     51.2 </span><span class="symbol">&amp;</span><span class="normal">  </span><span class="keyword">\bf</span><span class="normal"> 48.3 </span><span class="symbol">&amp;</span><span class="normal">  89.6 </span><span class="symbol">\\</span>
<span class="normal">...</span>
<span class="comment">% END TABULAR SELECT '$2^{' || FLOOR(LOG(2, size)) || '}$' AS x, (SELECT MEDI...</span>
<span class="keyword">\end</span><span class="argument">{tabular}</span></tt></pre></div><h3><code>DEFMACRO [select-statement]</code></h3><p>The directive executes the <code>SELECT</code> statement on the database and inserts each column of the result into LaTeX as <code>\def\column{value}</code>. The result may only contain one row. The macro result can then be used in the LaTeX text, e.g. to summarize experimental results.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="comment">%% DEFMACRO</span>
<span class="comment">%% SELECT</span>
<span class="comment">%%   ROUND((CE0 - CE1) / CE0 * 100) AS RatioZeroOverOne,</span>
<span class="comment">%%   ROUND((CE1 - CE2) / CE1 * 100) AS RatioOneOverTwo,</span>
<span class="comment">%%   ROUND((CE2 - CE3) / CE2 * 100) AS RatioTwoOverThree,</span>
<span class="comment">%%   ROUND(((CI2 - CE2) / CI2 * 100)::numeric, 1) AS RatioTwoIoverE</span>
<span class="comment">%% FROM</span>
<span class="comment">%% (SELECT</span>
<span class="comment">%%   (SELECT EXP(AVG(LN(time))) FROM seqtime WHERE algo = 'bingmann/msd_CE0') AS CE0,</span>
<span class="comment">%%   (SELECT EXP(AVG(LN(time))) FROM seqtime WHERE algo = 'bingmann/msd_CE1') AS CE1,</span>
<span class="comment">%%   (SELECT EXP(AVG(LN(time))) FROM seqtime WHERE algo = 'bingmann/msd_CE2') AS CE2,</span>
<span class="comment">%%   (SELECT EXP(AVG(LN(time))) FROM seqtime WHERE algo = 'bingmann/msd_CE3_sb') AS CE3,</span>
<span class="comment">%%   (SELECT EXP(AVG(LN(time))) FROM seqtime WHERE algo = 'bingmann/msd_CI2') AS CI2</span>
<span class="comment">%% ) x</span>
<span class="keyword">\def\ratiozerooverone</span><span class="argument">{33}</span>
<span class="keyword">\def\ratiooneovertwo</span><span class="argument">{40}</span>
<span class="keyword">\def\ratiotwooverthree</span><span class="argument">{14}</span>
<span class="keyword">\def\ratiotwoiovere</span><span class="argument">{7.5}</span>

<span class="comment">% RANGE END seqalgo</span></tt></pre></div><hr /><h1>List of Gnuplot SqlPlotTools Directives</h1><p>SqlPlotTools directives in Gnuplot are written as Gnuplot comments, starting with hash signs &apos;#&apos;. Multi-line directives are prefixed with two hash signs &apos;##&apos; and indented at the same level.</p><p>All &quot;auxiliary&quot; directives, <code>SQL</code>, <code>IMPORT-DATA</code>, <code>RANGE BEGIN/END</code>, and <code>CONNECT</code> work identically to LaTeX directives. See above in the LaTeX section for examples.</p><h3><code>SQL [any-statement]</code></h3><p>Executes any arbitrary SQL statement on the database. This can be used to create indices, delete imported rows, etc. </p><h3><code>IMPORT-DATA [options] [files...]</code></h3><p>Imports RESULT lines into the current database from given files.</p><h3><code>RANGE BEGIN [key]</code> and <code>RANGE END [key]</code></h3><p>To process only parts of a large file, <code>RANGE</code>s can specified in the LaTeX file and selected using the <code>-R</code> command line parameter.</p><h3><code>CONNECT [database-connection]</code></h3><p>Switch connection to database.</p><h2>Data Directives</h2><h3><code>PLOT [select-statement]</code></h3><p>The <code>PLOT</code> directive executes one SQL select command. The result must contain at least two columns called <code>x</code> and <code>y</code> which are transformed into (x,y) coordinates. The coordinates are written to an auxiliary data file for Gnuplot to parse.</p><p>Example:</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="comment">## PLOT</span>
<span class="comment">## SELECT LOG(2, size) AS x, MEDIAN(time / repeats / size * 1e9) AS y</span>
<span class="comment">## FROM stats WHERE algo='std::stable_sort' GROUP BY x ORDER BY x</span>
<span class="normal">plot </span><span class="symbol">\</span>
<span class="normal">    </span><span class="string">'speed-data.txt'</span><span class="normal"> </span><span class="keyword">index</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="keyword">with</span><span class="normal"> linespoints</span></tt></pre></div><h3><code>MULTIPLOT(group) [select-statement]</code></h3><p>Multi-plot is used to generate multiple plot lines in one command. The directive works analogously to the LaTeX version, but outputs an entire Gnuplot <code>plot</code> sequence and writes the coordinates to an auxiliary data file.</p><p>The appendixes &quot;<code>|title</code>&quot; and &quot;<code>|ptitle</code>&quot; are currently not available (patch welcome).</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="comment">## MULTIPLOT(algo)</span>
<span class="comment">## SELECT LOG(2, size) AS x, MEDIAN(time / repeats / size * 1e9) AS y, MULTIPLOT</span>
<span class="comment">## FROM stats GROUP BY MULTIPLOT,x ORDER BY MULTIPLOT,x</span>
<span class="normal">plot </span><span class="symbol">\</span>
<span class="normal">    </span><span class="string">'speed-data.txt'</span><span class="normal"> </span><span class="keyword">index</span><span class="normal"> </span><span class="number">1</span><span class="normal"> title </span><span class="string">"algo=std::heap_sort"</span><span class="normal"> </span><span class="keyword">with</span><span class="normal"> linespoints</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">    </span><span class="string">'speed-data.txt'</span><span class="normal"> </span><span class="keyword">index</span><span class="normal"> </span><span class="number">2</span><span class="normal"> title </span><span class="string">"algo=std::sort"</span><span class="normal"> </span><span class="keyword">with</span><span class="normal"> linespoints</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">    </span><span class="string">'speed-data.txt'</span><span class="normal"> </span><span class="keyword">index</span><span class="normal"> </span><span class="number">3</span><span class="normal"> title </span><span class="string">"algo=std::stable_sort"</span><span class="normal"> </span><span class="keyword">with</span><span class="normal"> linespoints</span></tt></pre></div><h3><code>MACRO [select-statement]</code></h3><p>The directive executes the <code>SELECT</code> statement on the database and inserts each column of the result into the Gnuplot file as macros.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="comment">## MACRO SELECT MAX(size) AS max_size, MAX(time) AS max_time FROM stats</span>
<span class="normal">max_size </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1073741824</span>
<span class="normal">max_time </span><span class="symbol">=</span><span class="normal"> </span><span class="number">625.761</span></tt></pre></div><h2>Exits</h2><p>First written 2015-02-15 by Timo Bingmann, updated 2018-11-27.</p></div><div style="text-align: right; padding: 8pt; font-size: 12px"><a href="/xmlfeed/weblog-rss20.xml"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPAgMAAAAOp6AcAAAADFBMVEVmZmb/ZgD///+JjnlbTUWmAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABQAAAADwCexKkxAAAAWUlEQVQYlWNgwAa0VmGAFQyqoSCQ/x8J/CBFMCt0ZdTU/F/7/+1HEkydFpoKVPn+93sUlUujQvP/7UcRTAuNDJ2a//s/imDqtKVZofm/1qGYSZk7sfodGwAAiobBJtffoNAAAAAASUVORK5CYII=" alt="RSS 2.0 Weblog Feed" width="80" height="15"/></a> <a href="/xmlfeed/weblog-atom10.xml"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPAgMAAAAOp6AcAAAADFBMVEVmZmb/ZgD///+JjnlbTUWmAAAAaklEQVQYlWNgwAa0VmGAFQyqoSCQ/x8J/CBFMDV16rTQ/H/7V//69+//v/3/9oMEI6cuAwr+fv/+/b5d///v//0eJBgWOhMo+Gs9UPAdXDBy6lSYyn9wQZCZS0GCYDPXQcykzJ1Y/Y4NAABKvL80wyoMPgAAAABJRU5ErkJggg==" alt="Atom 1.0 Weblog Feed" width="80" height="15"/></a> <a href="http://validator.w3.org/check?uri=referer"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAB1FBMVEUHQIgIRY0MN4QNRYoSRYsXUpIYVJQeUpUhWpgjUJMjWpgmU5QnXJkuYZ0uYpwwV5YyZJ4zaKM3ZaA5aaI6aqM6a6E8ZqA8Z6BAbaRBbqdCbaVHd61KSkpKcaZQUFBUf69UgbBVVVVXfq9Yg7NZhbJZh7RagrNeXVxeh7RfjLdgYGBiiLZmZmZnZ2doirhpkbt0m8F3m8B3ncJ5lb55ocR+ocSDgX+Do8eEpMqGhoaHp8iIpMeJjnmJpseKqMeOqsqPsdCQrcyVlZWVsM2Zs9CZtNCfu9ahoaGhuNShudSivNSjtMWjvNSmpqWnpqSrw9qvxNqyxdmyxdyzsK6zs7Ozx9y0xt21yN22tra4y+K80eK/v7/AwMDExMTEy9DH2ejK2+jM2ujN3uvP0dLR0NDR3uvS3uvS3+zU4u3V1dXY2dnY4u7Y4+3b5e/d3d3d5u/d5/De3t7f39/h4uLj4uHj6/Ll7PXm7fTn7/Xo7/Tp7/bq7Ozr6unr8ffw8PDw9vvx9fny+P7z8/Pz9vnz9vv3+fv4+vz5+vz6+vr6+/36/P36///7+/77/Pz7/f37/f78/Pz8/f38/f79/f39/f79/f/9/v79///+/v7+/v////3///+tYR2LAAABKklEQVQ4y2PQoTJg0JlNVYDPQBsyAMTAqaFes8tdsmdPCtA3MDStr3GKKK6myMAprgJ9pcpWs/MlRExYJBvNZLR0sigycHYOV1S7mtjsQJ4gf+HIFPXoWMs6qIGzIRiKZs9GFoEaMRuZhhrYqqJXy8uZYauRxC/VHew7e3YTPAxnI5swG6JxNrKBNjB1EFmIgV0+HA6C8pqqzhXG7BbJJROQIwViMYQ7G2oDQQNn57JyG7kxiCfObrBmS5+BHMuYLkTzMnYDm5WY4lOZZRPKZocxes+aPbuwCFsYohiICLvZsKBAMrDTQ7K/StveU8icTzrOL8JdLpOyWJ49u8Bx9ozw8DY7UYW03hhdxZAOSg2c3jN79rSJs1vSKmfOnpFXNJmynELlvExlAADnaZpLFGEC2wAAAABJRU5ErkJggg==" alt="Valid XHTML 1.1" width="80" height="15"/></a> <a href="http://jigsaw.w3.org/css-validator/check/referer"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAB1FBMVEUHQIgIRY0MN4QNRYoSRYsXUpIYVJQeUpUhWpgjUJMjWpgmU5QnXJkuYZ0uYpwwV5YyZJ4zaKM3ZaA5aaI6aqM6a6E8ZqA8Z6BAbaRBbqdCbaVHd61KSkpKcaZQUFBUf69UgbBVVVVXfq9Yg7NZhbJZh7RagrNeXVxeh7RfjLdgYGBiiLZmZmZnZ2doirhpkbt0m8F3m8B3ncJ5lb55ocR+ocSDgX+Do8eEpMqGhoaHp8iIpMeJjnmJpseKqMeOqsqPsdCQrcyVlZWVsM2Zs9CZtNCfu9ahoaGhuNShudSivNSjtMWjvNSmpqWnpqSrw9qvxNqyxdmyxdyzsK6zs7Ozx9y0xt21yN22tra4y+K80eK/v7/AwMDExMTEy9DH2ejK2+jM2ujN3uvP0dLR0NDR3uvS3uvS3+zU4u3V1dXY2dnY4u7Y4+3b5e/d3d3d5u/d5/De3t7f39/h4uLj4uHj6/Ll7PXm7fTn7/Xo7/Tp7/bq7Ozr6unr8ffw8PDw9vvx9fny+P7z8/Pz9vnz9vv3+fv4+vz5+vz6+vr6+/36/P36///7+/77/Pz7/f37/f78/Pz8/f38/f79/f39/f79/f/9/v79///+/v7+/v////3///+tYR2LAAABEUlEQVQ4y2PQoTJg0JlNVYDPQBsyAMTAqaFes8tdsmdPCtA3MDStr3GKKK6myMAprgJ9pcpWs/MlRExYJBvNZLR0sigycHYOV1S7mtjsQJ4gf+HIFPXoWMs6mIEQCsIjwhKoga0qerW8nBm2Gkn8Ut3BvrNnN8HCcDYM2cBIogzs8uFwEJTXVHWuMGa3SC6ZgIgUqCEwdxJr4OxcVm4jNwbxxNkN1mzpM2ajGIjsPGK9PLtZiSk+lVk2oWx2GKP3rNmzC4tQwpDoIIQb2Okh2V+lbe8pZM4nHecX4S6XSVksz55d4Dh7Rnh4m52oQlpvjK5iSAelBk7vmT172sTZLWmVM2fPyCuaTFlOoXJepjIAANlljDGY/l5pAAAAAElFTkSuQmCC" alt="Valid CSS (2.1)" width="80" height="15"/></a><br/>Copyright 2005-2019 <a href="/about/">Timo Bingmann</a> - <a href="/about/impressum.html">Impressum</a></div></body></html>