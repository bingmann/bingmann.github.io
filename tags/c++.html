<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=iso-8859-1" http-equiv="content-type" /><title>Blog Entries Tagged with 'c++' - panthema.net</title><link rel="stylesheet" type="text/css" href="/css/base.css" /><link rel="alternate" type="application/rss+xml" title="panthema.net Weblog Feed RSS 2.0" href="http://panthema.net/xmlfeed/weblog-rss20.xml" /><link rel="alternate" type="application/atom+xml" title="panthema.net Weblog Feed Atom 1.0" href="http://panthema.net/xmlfeed/weblog-atom10.xml" /><script type="text/javascript" src="/pt.js"></script><script type="text/javascript">/* <!-- */makeIEHover = function() {var lis = document.getElementById('ptnav').getElementsByTagName('li');for (var i = 0; i < lis.length; i++) {lis[i].onmouseover = function() {this.className += ' sfhover';};lis[i].onmouseout = function() {this.className = this.className.replace(new RegExp(' sfhover\b'), '');};}};if (window.attachEvent) window.attachEvent('onload', makeIEHover);/* --> */</script></head><body style="background-image: url(/img/bgfractal2.jpg)"><div class="pttopbar"><div style="float: right"><ul id="ptnav"><li class="top"><a class="ni" href="/">Weblog</a><ul style="margin-left: -6px; margin-top: 4px" class="nx"><li><a href="/2013/">2013</a></li><li><a href="/2012/">2012</a></li><li><a href="/2011/">2011</a></li><li><a href="/2010/">2010</a></li><li><a href="/2009/">2009</a></li><li><a href="/2008/">2008</a></li><li><a href="/2007/">2007</a></li><li><a href="/2006/">2006</a></li><li class="nt"><a href="/2005/">2005</a></li><li class="ns"><a href="/xmlfeed/weblog-rss20.xml">RSS Feed</a></li><li><a href="/xmlfeed/weblog-atom10.xml">XML Atom</a></li></ul></li><li class="top"><a class="ni" href="/tags/">Tags</a><div style="width: 14em; margin-left: -9em; margin-top: 4px"><a style="font-size: 10pt" href="/tags/algebra.html">algebra</a> <a style="font-size: 16pt" href="/tags/c++.html">c++</a> <a style="font-size: 12pt" href="/tags/code-example.html">code-example</a> <a style="font-size: 14pt" href="/tags/code-snippet.html">code-snippet</a> <a style="font-size: 11pt" href="/tags/coding_tricks.html">coding tricks</a> <a style="font-size: 10pt" href="/tags/compsci.html">compsci</a> <a style="font-size: 10pt" href="/tags/compsci_study_thesis.html">compsci study thesis</a> <a style="font-size: 9pt" href="/tags/crypto-speedtest.html">crypto-speedtest</a> <a style="font-size: 10pt" href="/tags/cryptography.html">cryptography</a> <a style="font-size: 9pt" href="/tags/cryptote.html">cryptote</a> <a style="font-size: 12pt" href="/tags/flex-bison-cpp-example.html">flex-bison-cpp-example</a> <a style="font-size: 13pt" href="/tags/fun.html">fun</a> <a style="font-size: 10pt" href="/tags/graphviz.html">graphviz</a> <a style="font-size: 9pt" href="http://www.hmtg.de">hartmetall</a> <a style="font-size: 9pt" href="/tags/helppc.html">helppc</a> <a style="font-size: 9pt" href="/tags/hifi_selbstbau.html">hifi selbstbau</a> <a style="font-size: 10pt" href="/tags/latex.html">latex</a> <a style="font-size: 10pt" href="/tags/librivox.html">librivox</a> <a style="font-size: 10pt" href="/tags/linux.html">linux</a> <a style="font-size: 10pt" href="/tags/maths.html">maths</a> <a style="font-size: 9pt" href="/tags/music.html">music</a> <a style="font-size: 10pt" href="/tags/netfundamentals.html">netfundamentals</a> <a style="font-size: 11pt" href="/tags/ns-3.html">ns-3</a> <a style="font-size: 9pt" href="/tags/parallel-string-sorting.html">parallel-string-sorting</a> <a style="font-size: 9pt" href="/tags/qtsqlview.html">qtsqlview</a> <a style="font-size: 10pt" href="/tags/research.html">research</a> <a style="font-size: 11pt" href="/tags/sdios06.html">sdios06</a> <a style="font-size: 9pt" href="/tags/sdlfractal.html">sdlfractal</a> <a style="font-size: 11pt" href="/tags/sorting.html">sorting</a> <a style="font-size: 10pt" href="/tags/stringology.html">stringology</a> <a style="font-size: 16pt" href="/tags/stx-btree.html">stx-btree</a> <a style="font-size: 9pt" href="/tags/stx-exparser.html">stx-exparser</a> <a style="font-size: 15pt" href="/tags/talk.html">talk</a> <a style="font-size: 10pt" href="/tags/tutorium.html">tutorium</a> <a style="font-size: 16pt" href="/tags/university.html">university</a> <a style="font-size: 13pt" href="/tags/utilities.html">utilities</a> <a style="font-size: 9pt" href="/tags/webdesign.html">webdesign</a> </div></li><li class="top"><a class="ni" href="#">Projects</a> <ul style="margin-left: -8em; margin-top: 4px" class="nx"> <li><a href="/2009/cryptote/">CryptoTE</a></li> <li><a href="/2009/digup/">digup</a></li> <li><a href="/2013/disk-filltest/">disk-filltest</a></li> <li><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">eSAIS-LCP</a></li> <li><a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a></li> <li><a href="/2013/malloc_count/">malloc_count</a></li> <li><a href="/2013/parallel-string-sorting/">parallel-string-sorting</a></li> <li><a href="/2013/pmbw/">Parallel Memory Bandwidth</a></li> <li><a href="/2013/sound-of-sorting/">The Sound of Sorting</a></li> <li><a href="/2007/stx-btree/">STX B+ Tree</a></li> <li><a href="/2010/stx-cbtreedb/">STX Constant BTreeDB</a></li> <li><a href="/2010/stx-execpipe/">STX ExecPipe</a></li> <li class="nt"><a href="/2007/stx-exparser/">STX Expression Parser</a></li> <li class="ns"><a href="/search.html">Search</a></li> </ul></li><li class="top"><a class="ni" href="/about/timo.html">About Me</a></li></ul></div><div style="padding: 6px"><a href="/">panthema</a>  / <a href="/tags/">tags</a> / <a href="/tags/c++.html">c++</a></div></div><div class="ptcontent"><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2013/0905-Inducing-Suffix-and-LCP-Arrays-in-External-Memory-MASSIVE13/"><img src="/2013/0905-Inducing-Suffix-and-LCP-Arrays-in-External-Memory-MASSIVE13/thumb.png" width="300" height="226" alt="Example of intuition behind the inducing process" title="Example of intuition behind the inducing process" /></a></span>Presented Short Paper about eSAIS at MASSIVE'13 Workshop</h1><p class="info">Posted on 2013-09-05 18:00 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2013/0905-Inducing-Suffix-and-LCP-Arrays-in-External-Memory-MASSIVE13/">Permlink</a> with <a href="/2013/0905-Inducing-Suffix-and-LCP-Arrays-in-External-Memory-MASSIVE13/#notes">0 Comments</a>. Tags: <a href="/tags/research.html">research</a> <a href="/tags/stringology.html">stringology</a> <a href="/tags/c++.html">c++</a> <a href="/tags/talk.html">talk</a></p><div class="textcontent"><p>Today, we presented a shorter version of our work on &quot;<strong>Inducing Suffix and LCP Arrays in External Memory</strong>&quot; at the <a href="http://www.madalgo.au.dk/massive2013/">MASSIVE Workshop 2013</a>, held adjacently with ESA at ALGO 2013 in Sophia Antipolis, France.</p><p>The slides of our presentation <a title="Download 2013-09-05 eSAIS @ MASSIVE'13.pdf (586 KiB)" href="/2013/0905-Inducing-Suffix-and-LCP-Arrays-in-External-Memory-MASSIVE13/2013-09-05 eSAIS @ MASSIVE'13.pdf">2013-09-05 eSAIS @ MASSIVE'13.pdf <img width="13" height="17" style="margin-bottom: -2px" src="/img/filelink-pdf.png" alt="2013-09-05 eSAIS @ MASSIVE'13.pdf"/></a> and the corresponding short paper <a title="Download massive13esais.pdf (490 KiB)" href="/2013/0905-Inducing-Suffix-and-LCP-Arrays-in-External-Memory-MASSIVE13/massive13esais.pdf">massive13esais.pdf <img width="13" height="17" style="margin-bottom: -2px" src="/img/filelink-pdf.png" alt="massive13esais.pdf"/></a> are available online via this webpage.</p><p>Please refer to the <a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">first eSAIS posting</a> for details and source code.</p>Our thanks goes to all the organizers for making such an inspiring workshop possible. </div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2013/sound-of-sorting/"><img src="/2013/sound-of-sorting/thumb.gif" width="300" height="220" alt="The Sound of Sorting demo program" title="The Sound of Sorting demo program" /></a></span>Published "The Sound of Sorting" 0.6</h1><p class="info">Posted on 2013-05-22 23:50 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2013/0522-The-Sound-of-Sorting-0.6.html">Permlink</a> with <a href="/2013/0522-The-Sound-of-Sorting-0.6.html#notes">2 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/university.html">university</a> <a href="/tags/fun.html">fun</a> <a href="/tags/sorting.html">sorting</a></p><div class="textcontent"><p>This post announces the publication of my demo program for integer string sorting algorithms, called &quot;<strong>The Sound of Sorting</strong>&quot;. It both visualizes the internals of sorting algorithms, and generates sound effects from the values being compared!</p><p>The demo is implemented using the <strong>cross-platform</strong> toolkits wxWidgets and SDL, can be executed on Windows, Linux and Mac, and runs in real time.</p><p>There are also many videos of the sorting algorithm on my <a href="http://www.youtube.com/user/tbingmann">new YouTube channel</a>.</p>See the <a href="/2013/sound-of-sorting/">Sound of Sorting project page</a> for the demo program and source code, and more information about version 0.6. </div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2013/parallel-string-sorting/"><img src="/2013/parallel-string-sorting/thumb.jpg" width="300" height="170" alt="Ternary search tree used in parallel super scalar string sample sort" title="Ternary search tree used in parallel super scalar string sample sort" /></a></span>Released parallel-string-sorting 0.5 including Parallel Super Scalar String Sample Sort</h1><p class="info">Posted on 2013-05-08 11:47 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2013/0508-parallel-string-sorting-0.5.html">Permlink</a> with <a href="/2013/0508-parallel-string-sorting-0.5.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/parallel-string-sorting.html">parallel-string-sorting</a> <a href="/tags/sorting.html">sorting</a></p><div class="textcontent"><p>This short post announces the first <strong>public version</strong> of our parallel string sorting project. It is a test framework and algorithm collection containing many sequential and parallel string sorting implementations.</p><p>The collection includes parallel super scalar string sample sort (pS<sup>5</sup>), which we developed and showed to have the <strong>highest parallel speedups</strong> on modern multi-core shared memory systems.</p>See the <a href="/2013/parallel-string-sorting/">parallel-string-sorting project page</a> for our technical report and more information about version 0.5. </div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2013/disk-filltest/"><img src="/2013/disk-filltest/thumb.gif" width="300" height="215" alt="Thumbnail of a pie chart filling to 100%" title="Thumbnail of a pie chart filling to 100%" /></a></span>Released disk-filltest 0.7 - Simple Tool to Detect Bad Disks by Filling with Random Data</h1><p class="info">Posted on 2013-03-27 21:32 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2013/0327-disk-filltest-0.7.html">Permlink</a> with <a href="/2013/0327-disk-filltest-0.7.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/utilities.html">utilities</a></p><div class="textcontent"><p>This post announces the first version of <code>disk-filltest</code>, a very simple tool to test for bad blocks on a disk by filling it with random data. The function of disk-filltest is simple:</p><ul><li><strong>Write</strong> files <code>random-########</code> to the current directory until the disk is full.</li><li><strong>Read</strong> the files again and <strong>verify</strong> the pseudo-random sequence written.</li><li>Any write or read error will be reported, either by the operating system or by checking the pseudo-random sequence.</li><li>Optionally, delete the random files after a successful run.</li></ul>See <a href="/2013/disk-filltest/">the disk-filltest</a> project page for more information about version 0.7. </div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2013/malloc_count/"><img src="/2013/malloc_count/thumb.png" width="300" height="240" alt="Memory profile plot as generated by example in malloc_count tarball" title="Memory profile plot as generated by example in malloc_count tarball" /></a></span>Released malloc_count 0.7 - Tools for Runtime Memory Usage Analysis and Profiling</h1><p class="info">Posted on 2013-03-16 22:17 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2013/0316-malloc_count-0.7.html">Permlink</a> with <a href="/2013/0316-malloc_count-0.7.html#notes">1 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/coding_tricks.html">coding tricks</a></p><div class="textcontent"><p>This post announces the first version of <code>malloc_count</code>, a very useful tool that I have been fine-tuning in the past months. The code library provides facilities to</p><ul><li>measure the current and peak heap memory allocation, and</li><li>write a memory profile for plotting.</li><li>Furthermore, separate <code>stack_count</code> function can measure stack usage.</li></ul><p>The code tool works by intercepting the standard <code>malloc()</code>, <code>free()</code>, etc functions. Thus <strong>no changes</strong> are necessary to the inspected source code.</p>See <a href="/2013/malloc_count/">the malloc_count project page</a> for more information about version 0.7. </div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2013/0124-GCC-Output-Assembler-Code/"><img src="/2013/0124-GCC-Output-Assembler-Code/thumb.jpg" width="300" height="209" alt="Instacode coloring of assembler code" title="Instacode coloring of assembler code" /></a></span>Coding Tricks 101: How to Save the Assembler Code Generated by GCC</h1><p class="info">Posted on 2013-01-24 18:07 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2013/0124-GCC-Output-Assembler-Code/">Permlink</a> with <a href="/2013/0124-GCC-Output-Assembler-Code/#notes">1 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/coding_tricks.html">coding tricks</a></p><div class="textcontent"><p>This is the first issue of a series of blog posts about some Linux coding tricks I have collected in the last few years.</p><p>Folklore says that compilers are among the most complex computer programs written today. They incorporate many optimization algorithms, inline functions and fold constant expressions; all without changing output, correctness or side effects of the code. If you think about it, the work <a class="exp" href="http://gcc.gnu.org"><code>gcc</code></a>, <a class="exp" href="http://www.llvm.org"><code>llvm</code></a> and other compilers do is really amazing and mostly works just great.</p><p>Sometimes, however, you want to know exactly what a compiler does with your C/C++ code. Most straight-forward questions can be answered using a debugger. However, if you want to verify whether the compiler really applies those optimizations to your program, that your intuition expects it to do, then a debugger is usually not useful, because optimized programs can look very different from the original. Some example questions are:</p><ul> <li>Is a local integer variable stored in a register and how long does it exist?</li> <li>Does the compiler use special instructions for a simple copy loop?</li> <li>Are special conditional instructions used for an <code>if</code> or <code>switch</code> statement?</li> <li>Is a specific function inlined or called each time?</li></ul><p>These questions can be answered definitely by investigating the compiler&apos;s output. On the Net, there are multiple &quot;online compilers,&quot; which can visualize the assembler output of popular compilers for small pieces of code: see the &quot;<a href="http://gcc.godbolt.org/">GCC Explorer</a>&quot; or &quot;<a href="http://assembly.ynh.io/">C/C++ to Assembly v2</a>&quot;. However, for inspecting parts of a larger project, these tools are unusable, because the interesting pieces are embedded in much larger source files.</p><p>Luckily, <code>gcc</code> does not output binary machine code directly. Instead, it internally writes assembler code, which then is translated by <code>as</code> into binary machine code (actually, <code>gcc</code> creates more intermediate structures). This internal assembler code can be outputted to a file, with some annotation to make it easier to read.</p><div style="text-align: center"><a href="/2013/0124-GCC-Output-Assembler-Code/">This blog entry continues on the next page ...</a></div></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/"><img src="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/thumb.png" width="300" height="443" alt="Example of the Inducing Process" title="Example of the Inducing Process" /></a></span>eSAIS - Inducing Suffix and LCP Arrays in External Memory</h1><p class="info">Posted on 2012-11-19 15:49 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">Permlink</a> with <a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/#notes">2 Comments</a>. Tags: <a href="/tags/research.html">research</a> <a href="/tags/stringology.html">stringology</a> <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>This web page accompanies our conference paper &quot;Inducing Suffix and LCP Arrays in External Memory&quot;, which we presented at the <a href="http://www.siam.org/meetings/alenex13/">Workshop on Algorithm Engineering and Experiments (ALENEX 2013)</a>. A PDF of the publication is available from this site as <a title="Download alenex13esais.pdf (524 KiB)" href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/alenex13esais.pdf">alenex13esais.pdf <img width="13" height="17" style="margin-bottom: -2px" src="/img/filelink-pdf.png" alt="alenex13esais.pdf"/></a> or from the <a href="http://knowledgecenter.siam.org/0238-000015/0238-000015/1">online proceedings</a>. The paper was joint work with my colleagues Johannes Fischer and Vitaly Osipov.</p><p>The slides to my presentation of the paper on January 7th, 2013 in New Orleans, LA, USA is also available: <a title="Download alenex13esais-slides.pdf (599 KiB)" href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/alenex13esais-slides.pdf">alenex13esais-slides.pdf <img width="13" height="17" style="margin-bottom: -2px" src="/img/filelink-pdf.png" alt="alenex13esais-slides.pdf"/></a>. They contain little text and an example of the eSAIS algorithm with a simplified PQ.</p><p>Our implementations of eSAIS, the eSAIS-LCP variants, DC3 and DC3-LCP algorithms as described in the paper are available below under the <a class="exp" href="http://www.gnu.org/licenses/gpl.html">GNU General Public License v3 (GPL)</a>.</p><table class="darkfullframe"> <tr> <td colspan="3"><b>eSAIS and DC3 with LCP version 0.5.2</b> (current) <span style="color:red">updated 2013-03-30</span></td> </tr> <tr> <td>Source code archive:<br />(includes STXXL)</td> <td><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/eSAIS-DC3-LCP-0.5.2.tar.bz2">eSAIS-DC3-LCP-0.5.2.tar.bz2 (975 KiB)</a><br /><code>MD5: 18abfd0836810d7755b7fcabf09ce5dd</code></td> <td><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/eSAIS-DC3-LCP-0.5.2/">Browse online</a></td> </tr> <tr> <td rowspan="3">Git repositories</td> <td colspan="2">Suffix and LCP construction algorithms<br /> <code>git clone <a href="http://algohub.iti.kit.edu/algo2/eSAIS/">http://algohub.iti.kit.edu/algo2/eSAIS/</a></code><br /> <code>cd eSAIS; git submodule init; git submodule update</code></td> </tr> <tr> <td colspan="2">STXXL with custom patches<br /> <code>git clone <a href="http://algohub.iti.kit.edu/algo2/stxxl/">http://algohub.iti.kit.edu/algo2/stxxl/</a></code></td> </tr> <tr> <td colspan="2">Customized <a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/stxxl-doxygen/">STXXL HTML documentation</a></td> </tr></table><p>The algorithm implementations requires a special version of the <a class="exp" href="http://stxxl.sourceforge.net">STXXL library</a>, which is also listed above. For more information about compiling and testing the implementation, please refer to the <a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/eSAIS-DC3-LCP-0.5.2/README.html">README</a> included in the source.</p><div style="text-align: center"><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">This blog entry continues on the next page ...</a></div></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/"><img src="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/thumb.jpg" width="300" height="226" alt="The QuadClip Algorithm" title="The QuadClip Algorithm" /></a></span>Finding Roots of Polynomials by Clipping - Report and Implementation from my Lab Course in Numerical Mathematics</h1><p class="info">Posted on 2012-03-20 22:29 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/">Permlink</a> with <a href="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/#notes">0 Comments</a>. Tags: <a href="/tags/maths.html">maths</a> <a href="/tags/university.html">university</a> <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>This semester I had the pleasure to take part in a lab exercise course supervised by Prof. Thomas Lin&szlig; at the <a class="exp" href="http://www.fernuni-hagen.de/english/">FernUniversity of Hagen</a>. The objective was to comprehend, implement and evaluate a particular recent advancement in the field of numerical mathematics. My topic was finding the roots of a polynomial by clipping in B&eacute;zier representation using two new methods, one devised by Michael Barto&#328; and Bert J&uuml;ttler [1], the other extended from the first by Ligang Liu, Lei Zhang, Binbin Lin and Guojin Wang [2].</p><p>My implementation of this topic was done for the lab course in C++ and contains many in themselves interesting sub-algorithms, which are combined into the clipping algorithms for finding roots. These sub-algorithms may prove useful for other purposes, which is the main reason for publishing this website. Among these are:</p><ul> <li>Polynomial classes for monomial and B&eacute;zier representations: <a href="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/doxygen-html/classPolynomialStandard.html">PolynomialStandard</a> and <a href="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/doxygen-html/classPolynomialBezier.html">PolynomialBezier</a>.</li> <li>Algorithms to convert from monomial to B&eacute;zier representation and vice versa: PolynomialStandard::toBezier() and PolynomialBezier::toStandard().</li> <li>Evaluation algorithms for both representations: Horner&apos;s Schema and the Algorithm of de Casteljau.</li> <li>Another version of de Casteljau&apos;s Algorithm to split a polynomial in B&eacute;zier representation into two parts.</li> <li>Jarvis&apos; March aka gift wrapping (run time O(hn)) to calculate the convex hull of the B&eacute;zier polygon: PolynomialBezier::getConvexHull().</li> <li>Cardano&apos;s formulas to find all real roots of any cubic polynomial: PolynomialStandard::findRoots().</li></ul><p>For the lab course I wrote two documents, both in German: one is an abstract <a title="Download Kurzfassung.pdf (84.9 KiB)" href="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/Kurzfassung.pdf">Kurzfassung.pdf <img width="13" height="17" style="margin-bottom: -2px" src="/img/filelink-pdf.png" alt="Kurzfassung.pdf"/></a> (1 page), which is translated into English below, and the other a short report <a title="Download Ausarbeitung.pdf (277 KiB)" href="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/Ausarbeitung.pdf">Ausarbeitung.pdf <img width="13" height="17" style="margin-bottom: -2px" src="/img/filelink-pdf.png" alt="Ausarbeitung.pdf"/></a> (6 pages). The report contains a short description of the algorithms together with execution and convergence speed measurements, which verify the original authors experiments. For presenting the lab work I created these <a title="Download Slides.pdf (468 KiB)" href="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/Slides.pdf">Slides.pdf <img width="13" height="17" style="margin-bottom: -2px" src="/img/filelink-pdf.png" alt="Slides.pdf"/></a>, which however are not self-explanatory due to my minimum-text presentation style.</p><div style="text-align: center"><a href="/2012/0320-Finding-Roots-of-Polynomials-by-Clipping/">This blog entry continues on the next page ...</a></div></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/stx-btree/"><img src="/2007/stx-btree/btree-thumb-border.png" width="252" height="193" alt="Small drawing of a B+ tree" title="Small drawing of a B+ tree" /></a></span>Update Release of STX B+ Tree 0.8.6</h1><p class="info">Posted on 2011-05-18 12:44 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2011/0518-STX-B+Tree-0.8.6-Update.html">Permlink</a> with <a href="/2011/0518-STX-B+Tree-0.8.6-Update.html#notes">1 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/stx-btree.html">stx-btree</a></p><div class="textcontent"><p>After four years I have decided to release an updated version 0.8.6 of the <a href="/2007/stx-btree/">STX B+ Tree C++ Template Classes</a> package. The updated release contains all patches that have accumulated in my inbox over the years. So yes, please send me patches for this project, it is not in vain! Below the highlights on the changes in this release:</p><ul> <li>Implemented a missing function: <code>erase(iterator iter)</code> by recursively searching for the referenced leaf node inside the subtree containing equal keys.</li> <li>Applied a patch which adds support for STL allocators as template parameters.</li> <li>Corrected limits of a <code>for</code> loop when shifting pairs from left to right leaf nodes during deletion.</li></ul><p>I also reran the speed test done back in 2007 on my new hardware and compared the results with the old data. Due to the larger L2 cache sizes in my new Intel Core i7, the B-tree speed-up first starts to show at about 100,000 integer items, rather than 16,000 items with my older Pentium 4. This might also have something to do with the new CPU using 64-bit pointers and thus requiring larger nodes for child references. <a href="/2007/stx-btree/stx-btree-0.8.6/doxygen-html/a00001.html">Read the complete speed test here.</a></p><p style="text-align: center"><a href="/2007/stx-btree/stx-btree-0.8.6/doxygen-html/a00001.html"><img src="/2007/stx-btree/stx-btree-0.8.6/doxygen-html/speedtest-2011-03.png" alt="result plot from new speedtest" width="750" height="525" /></a></p><p>The updated source code package is available <a href="/2007/stx-btree/">for download from this webpage</a>.</p></div><br style="clear:right" /><h1>Yet Another Release of digup 0.6.40 - A Digest Updating Tool</h1><p class="info">Posted on 2011-01-31 20:25 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2011/0130-digup-0.6.40.html">Permlink</a> with <a href="/2011/0130-digup-0.6.40.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/utilities.html">utilities</a></p><div class="textcontent"><p>This is yet another release entry of <a href="/2009/digup/">digup</a>. This time, however, it is a major release with lots of new improvements and some old fixes:</p><ul> <li>Added new flags <code>--modify-window=<i>number</i></code> to allow larger deltas in the modification time of files. This is a fixup for checking backups copied onto FAT filesystems, because these store the time stamp with a precision of only 2 seconds. Since this is a common operation, the shortcut <code>-w</code>/<code>--windows</code> will set the allowed modification window to 1.</li> <li>Also added a new flag <code>--exclude-marker=<i>file</i></code>, which makes the recursive file system walk skip all directories (and their sub-directories) containing a special marker file usually called <code>.nobackup</code> in other programs. This option is <i>persistent</i> and stored in the created digest file, so it must only be specified once and then in all subsequent runs the same directory marker is used to selectively skip over special directories.</li> <li>Added a <code>--restrict=<i>pattern</i></code> temporary exclusion flag. If specified, all paths containing the pattern as a substring are temporarily skipped. This allows one to quickly check a specific folder or file structure for modifications. Especially useful in combination with <code>-c</code> to perform a full digest check on only a subset of the files.</li> <li>One more smaller fixup: using 64-bit file offsets on Window, which allows files larger than 2GB to work correctly.</li></ul><p>For more information and the new version see the <a href="/2009/digup/">digup web page</a>.</p></div><br style="clear:right" /><h1>Bugfix Release: digup 0.6.30 - A Digest Updating Tool</h1><p class="info">Posted on 2010-10-03 16:12 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2010/1003-digup-0.6.30.html">Permlink</a> with <a href="/2010/1003-digup-0.6.30.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/utilities.html">utilities</a></p><div class="textcontent"><p>Fixed another severe bug in the <a href="/2009/digup/">digup</a> tool: on the amd64 architecture the tool crashed when writing the digest file, thanks goes to Daniel D. for reporting and fixing this bug.</p><p>The bug was caused by the variable arguments lists <code>va_list</code> used twice in the <code>fprintfcrc()</code> function. Apparently, on the amd64 platform <code>va_start()</code> and <code>va_end()</code> must be called twice even when passed the list to <code>vsprintf()</code>.</p><p>For more information and the new version see the <a href="/2009/digup/">digup web page</a>.</p></div><br style="clear:right" /><h1>Bugfix Release: digup 0.6.27 - A Digest Updating Tool</h1><p class="info">Posted on 2010-08-20 23:05 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2010/0820-digup-0.6.27.html">Permlink</a> with <a href="/2010/0820-digup-0.6.27.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/utilities.html">utilities</a></p><div class="textcontent"><p>Fixed a two bugs in the <a href="/2009/digup/">digup</a> tool: added large file support when compiling the program and fixed a string allocation bug.</p><p>This new version enables large file support by using <code>long long</code> variables for size. Furthermore, a string allocation bug was fixed which occured when using <code>-t</code> and <code>-f</code> command line parameters.</p><p>For more information and the new version see the <a href="/2009/digup/">digup web page</a>.</p></div><br style="clear:right" /><h1>Bugfix Release: stx-execpipe 0.7.1 - STX Execution Pipe C++ Library</h1><p class="info">Posted on 2010-07-30 17:13 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2010/0730-stx-execpipe-0.7.1.html">Permlink</a> with <a href="/2010/0730-stx-execpipe-0.7.1.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>Fixed a small bug in the <a href="/2010/stx-execpipe/">stx-execpipe</a> library: add large file support when compiling the library.</p><p>This bug switches on the large file support functions. Without this fix a pipeline reading or writing files &gt;2GB will not function properly. The fix is to <code>#define _FILE_OFFSET_BITS 64</code> when compiling the library&apos;s code.</p><p>For more information and the source code see the <a href="/2010/stx-execpipe/">stx-execpipe web page</a>.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2010/stx-execpipe/"><img src="/2010/stx-execpipe/thumb.jpg" width="300" height="186" alt="Execution pipe with exec() bubbles" title="Execution pipe with exec() bubbles" /></a></span>Published stx-execpipe 0.7.0 - STX Execution Pipe C++ Library</h1><p class="info">Posted on 2010-07-18 23:31 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2010/0718-stx-execpipe-0.7.0.html">Permlink</a> with <a href="/2010/0718-stx-execpipe-0.7.0.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>The STX C++ library series has been extended today with a new installation: the STX Execution Pipe library, in short STX ExecPipe. It is the solution to an issue that I encountered in writing a small backup application. This backup tool collects some file to backup and then calls <code>tar</code> and <code>xz</code> followed by <code>ncftpput</code>.</p><p>However, I could not find any useful C++ library that allows convenient chaining of external programs like used in everyday shell piping. This pipe line functionality is based on the system calls <code>fork()</code>, <code>exec()</code> and <code>pipe()</code>, which are not easy to use correctly. After writing some ad-hoc functions to call one or two external programs, I decided to tackle this basic problem once and for all. The result is the <a href="/2010/stx-execpipe/">stx-execpipe</a> library.</p><p>Using the library a C++ program can build a sequence of external programs with command line parameters. These programs are connected by the library just like a shell pipe: stdout of the preceding stage goes into stdin of the next one. The input and output of the whole pipeline can be redirected to a plain fd, a file or saved in a std::string.</p><p>One very interesting feature of the library is to insert intermediate processing functions into a pipe line. The data can be intercepted and passed back to the parent process for manipulation or just inspection. This was necessary to calculate the SHA1 digest of a backup tarball simultaneously to uploading it.</p><p>For more information and the source code see the <a href="/2010/stx-execpipe/">stx-execpipe web page</a>.</p><p>The following small code snippet exemplifies the flexibility of the stx-execpipe solution:</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="normal">stx</span><span class="symbol">::</span><span class="usertype">ExecPipe</span><span class="normal"> ep</span><span class="symbol">;</span>

<span class="comment">// first stage calls tar</span>
<span class="normal">std</span><span class="symbol">::</span><span class="usertype">vector&lt;std::string&gt;</span><span class="normal"> tarargs</span><span class="symbol">;</span>
<span class="normal">tarargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"tar"</span><span class="symbol">);</span>
<span class="normal">tarargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"--create"</span><span class="symbol">);</span>
<span class="normal">tarargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"--verbose"</span><span class="symbol">);</span>
<span class="normal">tarargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"--no-recursion"</span><span class="symbol">);</span>
<span class="normal">tarargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"/path/to/some/files"</span><span class="symbol">);</span>
<span class="normal">tarargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"/path/to/more/files"</span><span class="symbol">);</span>
<span class="normal">ep</span><span class="symbol">.</span><span class="function">add_execp</span><span class="symbol">(&amp;</span><span class="normal">tarargs</span><span class="symbol">);</span>

<span class="comment">// second stage compresses the tarball</span>
<span class="normal">ep</span><span class="symbol">.</span><span class="function">add_execp</span><span class="symbol">(</span><span class="string">"xz"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"-9"</span><span class="symbol">);</span>

<span class="comment">// third stage intercepts data for a SHA1 digest</span>
<span class="usertype">Sha1Function</span><span class="normal"> sha1tar</span><span class="symbol">;</span>
<span class="normal">ep</span><span class="symbol">.</span><span class="function">add_function</span><span class="symbol">(&amp;</span><span class="normal">sha1tar</span><span class="symbol">);</span>

<span class="comment">// fourth stage sends the tarball via FTP</span>
<span class="normal">std</span><span class="symbol">::</span><span class="usertype">vector&lt;std::string&gt;</span><span class="normal"> ftpargs</span><span class="symbol">;</span>
<span class="normal">ftpargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"ncftpput"</span><span class="symbol">);</span>
<span class="normal">ftpargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"-c"</span><span class="symbol">);</span>
<span class="normal">ftpargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"ftp.upload-to-host.net"</span><span class="symbol">);</span>
<span class="normal">ftpargs</span><span class="symbol">.</span><span class="function">push_back</span><span class="symbol">(</span><span class="string">"/path/to/ftpfile.tar.gz"</span><span class="symbol">);</span>
<span class="normal">ep</span><span class="symbol">.</span><span class="function">add_execp</span><span class="symbol">(&amp;</span><span class="normal">ftpargs</span><span class="symbol">);</span>

<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">ep</span><span class="symbol">.</span><span class="function">run</span><span class="symbol">().</span><span class="function">all_return_codes_zero</span><span class="symbol">())</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Backup upload complete."</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">endl</span>
<span class="cbracket">}</span>
<span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">// error processing...</span>
<span class="cbracket">}</span></tt></pre></div></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2010/stx-cbtreedb/"><img src="/2010/stx-cbtreedb/thumb.jpg" width="300" height="185" alt="Drawing of cbtreedb tree index structure" title="Drawing of cbtreedb tree index structure" /></a></span>Published stx-cbtreedb 0.7.0 - STX Constant B-Tree Database Template Classes</h1><p class="info">Posted on 2010-04-14 13:34 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2010/0414-stx-cbtreedb-0.7.0.html">Permlink</a> with <a href="/2010/0414-stx-cbtreedb-0.7.0.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>Published yet another C++ template library using a B-tree. This time the solution is a disk-based read-only key-value mapping using a &quot;packed, sequential&quot; B-tree as index structure.</p><p>All applications mapping a large number of constant, integral keys to string or data blobs can benefit from this library. The database structure is highly compact and contains self-verification checksums over both key and value areas.</p><p>stx-cbtreedb is a direct contender with <a class="exp" href="http://cr.yp.to/cdb.html">cdb</a> and <a class="exp" href="http://www.corpit.ru/mjt/tinycdb.html">tinycdb</a>, which however are based on hash tables and do not retain key proximity. Compared to other full-fledged B-tree implementations like <a class="exp" href="http://www.oracle.com/technology/products/berkeley-db/">BerkeleyDB</a> or <a class="exp" href="http://1978th.net/tokyocabinet/">TokyoCabinet</a>, the stx-cbtreedb is very small, faster and the database files have much less overhead due to read-only optimizations.</p><p>For more information and the source code see the <a href="/2010/stx-cbtreedb/">stx-cbtreedb web page</a>.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2009/digup/"><img src="/2009/digup/thumb200.jpg" width="200" height="200" alt="Digup shovel and digest list" title="Digup shovel and digest list" /></a></span>Published digup 0.6.23 - A Digest Updating Tool</h1><p class="info">Posted on 2009-11-10 22:30 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2009/1110-digup-0.6.23.html">Permlink</a> with <a href="/2009/1110-digup-0.6.23.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/utilities.html">utilities</a></p><div class="textcontent"><p>Published a small, but very useful console tool to update md5sum or shasum digest files. It will read existing md5sum.txt files and add new files to it without rereading the whole directory tree.</p><p>This makes digup very useful to update and verify incremental archives like chronological data storages or music collections, which are nowadays commonly stored and backuped on hard disks. Using a full file digest scan even slowly creeping bad blocks on old hard disks can be detected. By using a crontab entry, this check can be performed unattended and routinely.</p><p>For more information, the source code and binaries for various platforms see the <a href="/2009/digup/">digup web page</a>.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/flex-bison-cpp-example/"><img src="/2007/flex-bison-cpp-example/drawing.jpg" width="200" height="200" alt="Funny Drawing with 'C++' 'FLEX' and a Bison" title="Funny Drawing with 'C++' 'FLEX' and a Bison" /></a></span>Published Flex Bison C++ Example 0.1.4</h1><p class="info">Posted on 2009-09-05 10:40 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2009/0905-Flex-Bison-C++-Example-0.1.4.html">Permlink</a> with <a href="/2009/0905-Flex-Bison-C++-Example-0.1.4.html#notes">0 Comments</a>. Tags: <a href="/tags/flex-bison-cpp-example.html">flex-bison-cpp-example</a> <a href="/tags/c++.html">c++</a> <a href="/tags/code-example.html">code-example</a></p><div class="textcontent"><p>Released a minor updated source code version for <a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a>. The example source code is released into the public domain or, at your option, under the <a class="exp" href="http://sam.zoy.org/wtfpl/">Do What The Fuck You Want To Public License (WTFPL)</a>.</p><p>This minor bugfix release fixes up two simple compilation issues with the newest <b>bison version 2.4.1</b>.</p><p>For more information and the download package see the <a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a> web page.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2009/cryptote/"><img src="/2009/cryptote/thumb.png" width="150" height="150" alt="[150x150] CryptoTE Icon" title="[150x150] CryptoTE Icon" /></a></span>Published CryptoTE 0.5.390</h1><p class="info">Posted on 2009-08-08 11:25 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2009/0808-CryptoTE-0.5.390.html">Permlink</a> with <a href="/2009/0808-CryptoTE-0.5.390.html#notes">1 Comments</a>. Tags: <a href="/tags/cryptote.html">cryptote</a> <a href="/tags/c++.html">c++</a> <a href="/tags/cryptography.html">cryptography</a></p><div class="textcontent"><p>After almost one year of personally testing the program, I decided to publicly released the first version of CryptoTE v0.5.390. One year in the making, CryptoTE is a very useful little text-editor with integrated cryptography. The name stands for CRYPTOgraphy Text Editor and it transparently encrypts text files storing them into secure containers. The program incorporates the popular editing component <a href="http://www.scintilla.org" class="exp">Scintilla</a> and makes heavy use of <a href="http://www.wxwidgets.org" class="exp">wxWidgets</a>.</p><p style="text-align: center"><a href="/2009/cryptote/"><img src="/2009/cryptote/screenshot.png" width="754" height="575" alt="Screenshot of CryptoTE on Linux" title="Click image for more information on CryptoTE" /></a></p><p>For more information, the source code and binaries for various platforms see the <a href="/2009/cryptote/">CryptoTE</a> web page.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/flex-bison-cpp-example/"><img src="/2007/flex-bison-cpp-example/drawing.jpg" width="200" height="200" alt="Funny Drawing with 'C++' 'FLEX' and a Bison" title="Funny Drawing with 'C++' 'FLEX' and a Bison" /></a></span>Published Flex Bison C++ Example 0.1.3</h1><p class="info">Posted on 2008-10-23 11:25 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2008/1023-Flex-Bison-C++-Example-0.1.3.html">Permlink</a> with <a href="/2008/1023-Flex-Bison-C++-Example-0.1.3.html#notes">0 Comments</a>. Tags: <a href="/tags/flex-bison-cpp-example.html">flex-bison-cpp-example</a> <a href="/tags/c++.html">c++</a> <a href="/tags/code-example.html">code-example</a></p><div class="textcontent"><p>Released yet another updated source code package for <a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a>. The example source code is released into the public domain or, at your option, under the <a class="exp" href="http://sam.zoy.org/wtfpl/">Do What The Fuck You Want To Public License (WTFPL)</a>.</p><p>This bugfix release <b>solves a subtle, severe bug</b>, which rendered the template code useless. Even the example <code>exprtext</code> program segfaulted with any expression.</p><p>Corrected a very subtle bug with the newly introduced virtual <code>yywrap()</code> function in the <a href="/2007/flex-bison-cpp-example/flex-bison-cpp-example-0.1.3/doxygen-html/classFlexLexer.html">FlexLexer</a> class. Depending on how the header was included, the class contained the virtual <code>yywrap()</code> function or not. These differing class declarations lead to very strange NULL pointer exceptions, because the different compiled objects assume different class memory layouts. Ultimately the exprtest program always segfaulted.</p><p>For more information and the download package see the <a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a> web page.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/stx-btree/"><img src="/2007/stx-btree/btree-thumb-border.png" width="252" height="193" alt="Small drawing of a B+ tree" title="Small drawing of a B+ tree" /></a></span>Update Release of STX B+ Tree 0.8.3</h1><p class="info">Posted on 2008-09-07 18:31 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2008/0907-STX-B+Tree-0.8.3-Update.html">Permlink</a> with <a href="/2008/0907-STX-B+Tree-0.8.3-Update.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/stx-btree.html">stx-btree</a></p><div class="textcontent"><p>Released another updated version 0.8.3 of the <a href="/2007/stx-btree/">STX B+ Tree C++ Template Classes</a> package. The updated release fixes up issues with the root node == NULL when the tree is initially empty.</p><p>Fixed crash when running <a href="/2007/stx-btree/stx-btree-0.8.3/doxygen-html/classstx_1_1btree.html#e382217f25916442745eb83520b20c12">verify()</a> on an empty btree object. Now the root node is freed when the last item is removed. Also fixed crash when attempting to copy an empty btree or when trying to remove a non-existing item from an empty btree.</p><p>Also <a href="/2007/stx-btree/stx-btree-0.8.3/doxygen-html/speedtest.html">enhancing the speedtest</a> to test the hash table container implementation from <code>__gnu_cxx</code>. Extending tests by another set of runs measuring only the find/lookup functions. See the speed results web page for more information.</p><p>The updated source code package is available <a href="/2007/stx-btree/">for download from this webpage</a>.</p><p>Some compiled binaries of <a href="/2007/stx-btree/demo.html">wxBTreeDemo</a> for Win32 and Linux are available on the <a href="/2007/stx-btree/demo.html">demo download page</a>.</p><p>As before, the updated main B+ tree implementation can be found in doxygen <a href="/2007/stx-btree/stx-btree-0.8.3/doxygen-html/btree_8h-source.html">stx/btree.h</a> or with plain text comments <a href="/2007/stx-btree/stx-btree-0.8.3/include/stx/btree.h.html">stx/btree.h</a>.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2008/0901-stacktrace-demangled/"><img src="/2008/0901-stacktrace-demangled/thumb.jpg" width="300" height="191" alt="Instacode coloring of stacktrace" title="Instacode coloring of stacktrace" /></a></span>C++ Code Snippet - Print Stack Backtrace Programmatically with Demangled Function Names</h1><p class="info">Posted on 2008-09-01 22:30 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2008/0901-stacktrace-demangled/">Permlink</a> with <a href="/2008/0901-stacktrace-demangled/#notes">14 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/code-snippet.html">code-snippet</a> <a href="/tags/coding_tricks.html">coding tricks</a></p><div class="textcontent"><p>Yesterday I was tasked to analyzed an inner function of a reasonably complex software package. The inner function was called thousands of times from many different parts of the program, a simple counter print-out showed that. However I was interested in which execution paths reach this inner function and how often the different parts access the function.</p><p>My straight-forward idea was to dump a stack backtrace each time the inner function is called, similar to the one printed by a debugger. However I needed some code snippet to <b>dump the stack backtrace programmatically</b>, without using <code>gdb</code> to halt the program each time.</p><p>Stack backtraces can be saved with <a href="/2008/0901-stacktrace-demangled/backtrace.3.html">backtrace(3)</a>, resolved into symbolic names using <a href="/2008/0901-stacktrace-demangled/backtrace.3.html">backtrace_symbols(3)</a> and printed using <a href="/2008/0901-stacktrace-demangled/backtrace.3.html">backtrace_symbols_fd(3)</a>. These functions are well documented and fairly easy to use.</p><p>However I was debugging a C++ program, which made heavy use of templates and classes. C++ symbols names (including namespace, class and parameters) are mangled by the compiler into plain text symbols: e.g. the function <code>N::A&lt;int&gt;::B::func(int)</code> becomes the symbol <code>_ZN1N1AIiE1B4funcEi</code>. This makes the standard backtrace output very unreadable for C++ programs.</p><p>To demangle these strings the GNU <code>libstdc++</code> library (integrated into the GNU Compiler Collection) provides a function called <a href="/2008/0901-stacktrace-demangled/cxa_demangle.html">__cxa_demangle()</a>. Combined with <a href="/2008/0901-stacktrace-demangled/backtrace.3.html">backtrace(3)</a> a pretty stack backtrace can be outputted. The demangling function only works for programs compiled with <code>g++</code>.</p><p>The following header file contains a function <code>print_stacktrace()</code>, which uses <a href="/2008/0901-stacktrace-demangled/backtrace.3.html">backtrace(3)</a>, <a href="/2008/0901-stacktrace-demangled/backtrace.3.html">backtrace_symbols(3)</a> and <a href="/2008/0901-stacktrace-demangled/cxa_demangle.html">__cxa_demangle()</a> to print a readable C++ stack backtrace.</p><div style="text-align: center"><a href="/2008/0901-stacktrace-demangled/">This blog entry continues on the next page ...</a></div></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/stx-btree/"><img src="/2007/stx-btree/btree-thumb-border.png" width="252" height="193" alt="Small drawing of a B+ tree" title="Small drawing of a B+ tree" /></a></span>Update Release of STX B+ Tree 0.8.2</h1><p class="info">Posted on 2008-08-13 16:48 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2008/0813-STX-B+Tree-0.8.2-Update.html">Permlink</a> with <a href="/2008/0813-STX-B+Tree-0.8.2-Update.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/stx-btree.html">stx-btree</a></p><div class="textcontent"><p>Released an updated version 0.8.2 of the <a href="/2007/stx-btree/">STX B+ Tree C++ Template Classes</a> package. The updated release fixes up all issues with iterators and one harmless bad-memory access.</p><p>The <a href="/2007/stx-btree/stx-btree-0.8.2/doxygen-html/classstx_1_1btree_1_1reverse__iterator.html">reverse_iterator</a> classes of the B+ tree were completely reworked. Now they are real implementations and do not use STL magic. Both <a href="/2007/stx-btree/stx-btree-0.8.2/doxygen-html/classstx_1_1btree_1_1reverse__iterator.html">reverse_iterator</a> and <a href="/2007/stx-btree/stx-btree-0.8.2/doxygen-html/classstx_1_1btree_1_1const__reverse__iterator.html">const_reverse_iterator</a> should work as expected now. Added two large test cases for iterators. Enabled public default-constructors on iterators.</p><p>Also fixed a memory access bug which happens in <a href="/2007/stx-btree/stx-btree-0.8.2/doxygen-html/classstx_1_1btree.html#40e3e935186128e71b90ad2482fc73a7">erase_one_descend()</a>: <code>leaf-&gt;slotkey[leaf-&gt;slotuse - 1]</code> if <code>leaf-slotuse == 0</code>. This doesn&apos;t have any other bad effect, because the case only occurs when <code>leaf == root</code> and then the resulting <code>btree_update_lastkey</code> message is never really processed. However it still is a bad-memory access.</p><p>The updated source code package including the wxBTreeDemo source is available <a href="/2007/stx-btree/">for download from this webpage</a>.</p><p>Some compiled binaries of <a href="/2007/stx-btree/demo.html">wxBTreeDemo</a> for Win32 and Linux are available on the <a href="/2007/stx-btree/demo.html">demo download page</a>.</p><p>As before, the updated main B+ tree implementation can be found in doxygen <a href="/2007/stx-btree/stx-btree-0.8.2/doxygen-html/btree_8h-source.html">stx/btree.h</a> or with plain text comments <a href="/2007/stx-btree/stx-btree-0.8.2/include/stx/btree.h.html">stx/btree.h</a>.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/flex-bison-cpp-example/"><img src="/2007/flex-bison-cpp-example/drawing.jpg" width="200" height="200" alt="Funny Drawing with 'C++' 'FLEX' and a Bison" title="Funny Drawing with 'C++' 'FLEX' and a Bison" /></a></span>Published Flex Bison C++ Example 0.1.2</h1><p class="info">Posted on 2008-08-03 14:26 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2008/0803-Flex-Bison-C++-Example-0.1.2.html">Permlink</a> with <a href="/2008/0803-Flex-Bison-C++-Example-0.1.2.html#notes">0 Comments</a>. Tags: <a href="/tags/flex-bison-cpp-example.html">flex-bison-cpp-example</a> <a href="/tags/c++.html">c++</a> <a href="/tags/code-example.html">code-example</a></p><div class="textcontent"><p>Released an updated source code package for <a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a>. The example source code is released into the public domain or, at your option, under the <a class="exp" href="http://sam.zoy.org/wtfpl/">Do What The Fuck You Want To Public License (WTFPL)</a>.</p><p>This bugfix release <b>solves two problems</b> there were reported to me via e-mail:</p><p>The first problem were <b>compilation errors that occured when no <code>%union</code> directive is used in the grammar</b>: in this case the include headers order is changed around by bison and thereby breaks compilation. This was fixed by never including <a href="/2007/flex-bison-cpp-example/flex-bison-cpp-example-0.1.2/doxygen-html/parser_8h.html">parser.h</a> directly, but always using <a href="/2007/flex-bison-cpp-example/flex-bison-cpp-example-0.1.2/doxygen-html/scanner_8h.html">scanner.h</a>.</p><p>And the second issue was raised because new versions of <a href="http://flex.sourceforge.net">flex</a> were released after years of stagnation. The <b>new flex version 2.5.35</b> adds a virtual function <code>yywrap()</code> to the <code>yyFlexLexer</code> class. This function is automatically defined in any lexer source file generated by flex. However because I copied <a href="/2007/flex-bison-cpp-example/flex-bison-cpp-example-0.1.2/doxygen-html/FlexLexer_8h.html">FlexLexer.h</a> from an older flex distribution, the function definition throughs a <b>&quot;no <code>yywrap()</code> member function&quot; compiler error</b>. Updating the <a href="/2007/flex-bison-cpp-example/flex-bison-cpp-example-0.1.2/doxygen-html/FlexLexer_8h.html">FlexLexer.h</a> with a conditional declaration of <code>yywrap()</code> hopefully did the trick and now works on all versions. Usually this file should be taken from <code>/usr/include</code> and not from the package. However that will break compilation if flex is not installed, and a self-sufficient compilation package was a primary goal of the example.</p><p>For more information and the download package see the <a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a> web page.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/stx-btree/"><img src="/2007/stx-btree/btree-thumb-border.png" width="252" height="193" alt="Small drawing of a B+ tree" title="Small drawing of a B+ tree" /></a></span>Bugfix Release of STX B+ Tree 0.8.1</h1><p class="info">Posted on 2008-01-25 15:48 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2008/0125-STX-B+Tree-0.8.1-Bugfix.html">Permlink</a> with <a href="/2008/0125-STX-B+Tree-0.8.1-Bugfix.html#notes">1 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/stx-btree.html">stx-btree</a></p><div class="textcontent"><p>Released a bugfix version 0.8.1 of the <a href="/2007/stx-btree/">STX B+ Tree C++ Template Classes</a> package. The bug fixed is a possibly illegal memory access during <code>find()</code> function.</p><p>I received a new test case via email in which valgrind detected an uninitialized memory access. By tracing it, I soon found that it happens during any <code>find(key)</code> call with a <code>key</code> that is larger than any item contained in the tree. During the <code>find()</code> function <code>find_lower()</code> is called on a leaf node and returns the slot number with the smallest or equal key. However if the queried key is larger than all keys in a leaf node or in the whole tree, <code>find_lower()</code> returns a slot number past the last valid key slot. Comparison of this invalid slot with the queried key then yields an uninitialized memory error in valgrind.</p><p>The updated source code package including the wxBTreeDemo source is available <a href="/2007/stx-btree/">for download from this webpage</a>.</p><p>Some compiled binaries of <a href="/2007/stx-btree/demo.html">wxBTreeDemo</a> for Win32 and Linux are available on the <a href="/2007/stx-btree/demo.html">demo download page</a>.</p><p>As before, the updated main B+ tree implementation can be found in doxygen <a href="/2007/stx-btree/stx-btree-0.8.1-doxygen/btree_8h-source.html">stx/btree.h</a> or with plain text comments <a href="/2007/stx-btree/stx-btree-0.8.1/include/stx/btree.h.html">stx/btree.h</a>.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/flex-bison-cpp-example/"><img src="/2007/flex-bison-cpp-example/drawing.jpg" width="200" height="200" alt="Funny Drawing with 'C++' 'FLEX' and a Bison" title="Funny Drawing with 'C++' 'FLEX' and a Bison" /></a></span>Published Flex Bison C++ Example 0.1</h1><p class="info">Posted on 2007-08-20 11:53 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0820-Flex-Bison-C++-Example-0.1.html">Permlink</a> with <a href="/2007/0820-Flex-Bison-C++-Example-0.1.html#notes">2 Comments</a>. Tags: <a href="/tags/flex-bison-cpp-example.html">flex-bison-cpp-example</a> <a href="/tags/c++.html">c++</a> <a href="/tags/code-example.html">code-example</a></p><div class="textcontent"><p>Released example source code package <a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a>. The example source code is released into the public domain or, at your option, under the <a class="exp" href="http://sam.zoy.org/wtfpl/">Do What The Fuck You Want To Public License (WTFPL)</a>.</p><p>This example shows how to use <b>both <a class="exp" href="http://flex.sourceforge.net/">Flex</a> and <a class="exp" href="http://www.gnu.org/software/bison/">Bison</a> in C++ mode</b>. This way both lexer and parser code and data is encapsulated into classes. Thus the lexer and parser are <b>fully re-entrant</b>, because all state variables are contained in the class objects. Furthermore <b>multiple different lexer-parser pairs</b> can easily be linked into one binary, because they have different class names and/or are located in a different namespace.</p><p>Why Use These Old Tools? Well, they are here to stay and they work well. But most important, the code generated by <b>Flex and Bison requires no compile-time dependencies</b>, because they generate fully autonomous source code. So far I have not found any modern parser generator which outputs independent code. It is even possible to compile the generated source on Windows with Visual C++ 2005.</p><p>For more information and the download package see the <a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a> web page.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/stx-exparser/"><img src="/2007/stx-exparser/extree-drawing-thumb.jpg" width="250" height="214" alt="Small drawing of a parse tree" title="Small drawing of a parse tree" /></a></span>Published STX Expression Parser Framework Version 0.7</h1><p class="info">Posted on 2007-07-17 17:10 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0717-STX-Expression-Parser-0.7.html">Permlink</a> with <a href="/2007/0717-STX-Expression-Parser-0.7.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/stx-exparser.html">stx-exparser</a> <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>Released the first version 0.7 of the <a href="/2007/stx-exparser/">STX Expression Parser C++ Framework</a> package. The library is licensed under the <a class="exp" href="http://www.gnu.org/copyleft/lgpl.html">GNU Lesser General Public License (LGPL)</a> (2.1 or later).</p><p>The STX Expression Parser provides a C++ framework, which can process user-specified expression strings containing program-specific variables. It can be integrated into applications to allow user-customized data selection and filtering. The expresssion strings are intuitive SQL-like WHERE-clauses and can contain arbitrarily complex arithmetic. At the same time the expression processing time is guaranteed to be fast enough to safely iterate over larger data sets.</p><p>The expression parser can process arbitrarily complex arithmetic expressions like those seen below. To access application-defined data, functions and variables may be included in the expression. An expression can be used as a boolean filter by using comparison and logic operators.</p><ul> <li><a href="/2007/stx-exparser/online.html#expr1"><code>6 + 3 * 12</code></a></li> <li><a href="/2007/stx-exparser/online.html#expr7"><code>a == 6 * 9</code></a></li> <li><a href="/2007/stx-exparser/online.html#expr11"><code>(a - 28) * (int)(e + 0.4 * 2.5 / (PI() - EXP(-0.644) * 4))</code></a></li> <li><a href="/2007/stx-exparser/online.html#expr12"><code>a &gt;= 5 OR (42 &lt;= field2 AND field2 &lt;= 48) || NOT(got == &quot;yes&quot;)</code></a></li></ul><p>For more information see the <a href="/2007/stx-exparser/">STX Expression Parser web page</a>.</p><p>Most impressive are the interactive <a href="/2007/stx-exparser/online.html">online CGI parser demo</a> and the <a href="/2007/stx-exparser/csvfilter/">online CSV file filter</a>.</p></div><br style="clear:right" /><h1>C++ Code Snippet - In-Place and String-Copy Uppercase/Lowercase Conversion of STL Strings</h1><p class="info">Posted on 2007-06-02 13:22 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0602-StdString-Upper-Lower.html">Permlink</a> with <a href="/2007/0602-StdString-Upper-Lower.html#notes">2 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/code-snippet.html">code-snippet</a></p><div class="textcontent"><p>This post completes the small C++ function collection of simple STL string manipulations. The following code snippet shows simple locale-unware uppercase and lowercase conversion functions using <code>tolower</code> and <code>toupper</code>. Nothing revolutionary; I&apos;m just misusing this weblog as a code-paste dump for reuseable code.</p><p>Sometimes it is better to have a case-insensitive string class. More about <code>ci_string</code> can be found at <a href="http://www.gotw.ca/gotw/029.htm">Guru of the Week (GotW) #29: Case-Insensitive Strings</a>.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;string&gt;</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;cctype&gt;</span>

<span class="comment">// functionals for std::transform with correct signature</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="function">string_toupper_functional</span><span class="symbol">(</span><span class="type">char</span><span class="normal"> c</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> std</span><span class="symbol">::</span><span class="function">toupper</span><span class="symbol">(</span><span class="normal">c</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="function">string_tolower_functional</span><span class="symbol">(</span><span class="type">char</span><span class="normal"> c</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> std</span><span class="symbol">::</span><span class="function">tolower</span><span class="symbol">(</span><span class="normal">c</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">string_upper_inplace</span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="function">transform</span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">.</span><span class="function">begin</span><span class="symbol">(),</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">end</span><span class="symbol">(),</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">begin</span><span class="symbol">(),</span><span class="normal"> string_toupper_functional</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">string_lower_inplace</span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="function">transform</span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">.</span><span class="function">begin</span><span class="symbol">(),</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">end</span><span class="symbol">(),</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">begin</span><span class="symbol">(),</span><span class="normal"> string_tolower_functional</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="function">string_upper</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="function">strcopy</span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">(),</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="function">transform</span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">.</span><span class="function">begin</span><span class="symbol">(),</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">end</span><span class="symbol">(),</span><span class="normal"> strcopy</span><span class="symbol">.</span><span class="function">begin</span><span class="symbol">(),</span><span class="normal"> string_toupper_functional</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> strcopy</span><span class="symbol">;</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="function">string_lower</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="function">strcopy</span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">(),</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="function">transform</span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">.</span><span class="function">begin</span><span class="symbol">(),</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">end</span><span class="symbol">(),</span><span class="normal"> strcopy</span><span class="symbol">.</span><span class="function">begin</span><span class="symbol">(),</span><span class="normal"> string_tolower_functional</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> strcopy</span><span class="symbol">;</span>
<span class="cbracket">}</span></tt></pre></div><div style="text-align: center"><a href="/2007/0602-StdString-Upper-Lower.html">This blog entry continues on the next page ...</a></div></div><br style="clear:right" /><h1>C++ Code Snippet - In-Place and String-Copy Space Trimming of STL Strings</h1><p class="info">Posted on 2007-05-30 17:28 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0530-StdString-Trim.html">Permlink</a> with <a href="/2007/0530-StdString-Trim.html#notes">1 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/code-snippet.html">code-snippet</a></p><div class="textcontent"><p>Yesterday I once again stumbled upon whitespace trimming of STL strings: a check was required if the given user input is empty. Where &quot;empty&quot; also means some user-given string containing only spaces. After one hour of unproductive searching for something as simple as a space trimming function, I decided to put the resulting code here for future reference.</p><p>The following code snippet contains two versions of the function: in-place trimming and string-copy trimming. I prefer the copy-trimming function because they allow a more functional programming style. The functions only trim spaces, but can be modified by replacing each <code>&apos; &apos;</code> with something like <code>&quot; \n\r\t&quot;</code>.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;string&gt;</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">string_trim_left_inplace</span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    str</span><span class="symbol">.</span><span class="function">erase</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">find_first_not_of</span><span class="symbol">(</span><span class="string">' '</span><span class="symbol">));</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">string_trim_right_inplace</span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    str</span><span class="symbol">.</span><span class="function">erase</span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">.</span><span class="function">find_last_not_of</span><span class="symbol">(</span><span class="string">' '</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">+</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="function">string_trim_left</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="usertype">size_type</span><span class="normal"> pos </span><span class="symbol">=</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">find_first_not_of</span><span class="symbol">(</span><span class="string">' '</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">pos </span><span class="symbol">==</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">return</span><span class="normal"> std</span><span class="symbol">::</span><span class="function">string</span><span class="symbol">();</span>

<span class="normal">    </span><span class="keyword">return</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">substr</span><span class="symbol">(</span><span class="normal">pos</span><span class="symbol">,</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="function">string_trim_right</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="usertype">size_type</span><span class="normal"> pos </span><span class="symbol">=</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">find_last_not_of</span><span class="symbol">(</span><span class="string">' '</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">pos </span><span class="symbol">==</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">return</span><span class="normal"> std</span><span class="symbol">::</span><span class="function">string</span><span class="symbol">();</span>

<span class="normal">    </span><span class="keyword">return</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">substr</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> pos </span><span class="symbol">+</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="function">string_trim</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">&amp;</span><span class="normal"> str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="usertype">size_type</span><span class="normal"> pos1 </span><span class="symbol">=</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">find_first_not_of</span><span class="symbol">(</span><span class="string">' '</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">pos1 </span><span class="symbol">==</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">return</span><span class="normal"> std</span><span class="symbol">::</span><span class="function">string</span><span class="symbol">();</span>

<span class="normal">    std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="usertype">size_type</span><span class="normal"> pos2 </span><span class="symbol">=</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">find_last_not_of</span><span class="symbol">(</span><span class="string">' '</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">pos2 </span><span class="symbol">==</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">return</span><span class="normal"> std</span><span class="symbol">::</span><span class="function">string</span><span class="symbol">();</span>

<span class="normal">    </span><span class="keyword">return</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">substr</span><span class="symbol">(</span><span class="normal">pos1 </span><span class="symbol">==</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos </span><span class="symbol">?</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> pos1</span><span class="symbol">,</span>
<span class="normal">                      pos2 </span><span class="symbol">==</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos </span><span class="symbol">?</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">.</span><span class="function">length</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">-</span><span class="normal"> </span><span class="number">1</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">pos2 </span><span class="symbol">-</span><span class="normal"> pos1 </span><span class="symbol">+</span><span class="normal"> </span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="keyword">inline</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">string_trim_inplace</span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">&amp;</span><span class="normal"> str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="usertype">size_type</span><span class="normal"> pos </span><span class="symbol">=</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">find_last_not_of</span><span class="symbol">(</span><span class="string">' '</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">pos </span><span class="symbol">!=</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        str</span><span class="symbol">.</span><span class="function">erase</span><span class="symbol">(</span><span class="normal">pos </span><span class="symbol">+</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">        pos </span><span class="symbol">=</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">find_first_not_of</span><span class="symbol">(</span><span class="string">' '</span><span class="symbol">);</span>
<span class="normal">        </span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">pos </span><span class="symbol">!=</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">::</span><span class="normal">npos</span><span class="symbol">)</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">erase</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> pos</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="keyword">else</span>
<span class="normal">        str</span><span class="symbol">.</span><span class="function">erase</span><span class="symbol">(</span><span class="normal">str</span><span class="symbol">.</span><span class="function">begin</span><span class="symbol">(),</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">end</span><span class="symbol">());</span>
<span class="cbracket">}</span></tt></pre></div><div style="text-align: center"><a href="/2007/0530-StdString-Trim.html">This blog entry continues on the next page ...</a></div></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/stx-btree/"><img src="/2007/stx-btree/wxbtreedemo1-thumb1.jpg" width="250" height="281" alt="Screenshot of the wxBTreeDemo v0.8" title="Screenshot of the wxBTreeDemo v0.8" /></a></span>Updated STX B+ Tree to 0.8 which now includes wxBTreeDemo</h1><p class="info">Posted on 2007-05-13 19:48 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0513-STX-B+Tree-0.8-with-wxBTreeDemo.html">Permlink</a> with <a href="/2007/0513-STX-B+Tree-0.8-with-wxBTreeDemo.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/stx-btree.html">stx-btree</a></p><div class="textcontent"><p>Released an updated version 0.8 of the <a href="/2007/stx-btree/">STX B+ Tree C++ Template Classes</a> package. The update fixes a few segmentation faults with empty trees without root node.</p><p>This new release includes the <a href="/2007/stx-btree/demo.html">demonstration program wxBTreeDemo</a>. This program draws illustrations of the B+ trees constructed by the <a href="/2007/stx-btree/">STX B+ Tree</a> template classes. It allows the user to selected different types of B+ tree instantiations: integer or string keys and different slot numbers. The user may insert and erase key/data pairs from the tree and run different search operations. The demo program uses the cross-platform <a class="exp" href="http://www.wxwidgets.org/">wxWidgets</a> toolkit and can be compiled on Linux, Windows and MacOSX.</p><p>The source code package including the wxBTreeDemo source is available <a href="/2007/stx-btree/">for download from this webpage</a>.</p><p>Some compiled binaries of <a href="/2007/stx-btree/demo.html">wxBTreeDemo</a> for Win32 and Linux are available on the <a href="/2007/stx-btree/demo.html">demo download page</a>.</p><p>As before, the only slightly changed main B+ tree implementation can be found in doxygen <a href="/2007/stx-btree/stx-btree-0.8-doxygen/btree_8h-source.html">stx/btree.h</a> or with plain text comments <a href="/2007/stx-btree/stx-btree-0.8/include/stx/btree.h.html">stx/btree.h</a>.</p></div><br style="clear:right" /><h1>lcov: A Good HTML Generator for gcov Results</h1><p class="info">Posted on 2007-05-08 11:08 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0508-lcov-Coverage-Tool.html">Permlink</a> with <a href="/2007/0508-lcov-Coverage-Tool.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/linux.html">linux</a></p><div class="textcontent"><p>Writing test cases is a good way to prevent and detect problems or bugs in source code. They improve understanding of the difficult parts by requiring deeper thought into how to test of those areas. By rerunning the same test sequences one can assure that the code still produces the same results even after making significant changes. <a href="http://cppunit.sourceforge.net/">cppunit</a> provides a C++ test framework which is sort of over-bloated. However reduced to a set of reusable template files the framework gets quite handy.</p><p>To measure how much of the code is tested, <a href="http://gcc.gnu.org/onlinedocs/gcc/Gcov.html">gcov</a> provides a way to determine which lines are executed during a test suite run. Note that this simple line-is-touched metric is only one aspect of how well a piece of code is tested. However <a href="http://gcc.gnu.org/onlinedocs/gcc/Gcov.html">gcov</a>&apos;s results are printed in text mode and it cannot merge the results from multiple coverage files, so multi-file test suites cannot be measured as a whole.</p><p>Yesterday I finally found a good open-source Linux tool to get correct coverage results: <a href="http://ltp.sourceforge.net/coverage/lcov.php">lcov</a>. It was designed to measure coverage in the Linux kernel, but works very well on user-space programs as well. <a href="http://ltp.sourceforge.net/coverage/lcov.php">lcov</a> builds on <a href="http://gcc.gnu.org/onlinedocs/gcc/Gcov.html">gcov</a>&apos;s data files and generates HTML report files. It even highlights the untested source code lines.</p><p>I uploaded the <a href="/2007/stx-btree/stx-btree-0.7-coverage/">test coverage results</a> of the <a href="/2007/stx-btree/">STX B+ Tree</a> test suite. It shows 89.2% coverage of <a href="/2007/stx-btree/stx-btree-0.7-coverage/include/stx/btree.h.gcov.html">the main, most difficult header file</a> implementing the insert and erase algorithms.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2007/stx-btree/"><img src="/2007/stx-btree/btree-thumb-border.png" width="252" height="193" alt="Small drawing of a B+ tree" title="Small drawing of a B+ tree" /></a></span>Published STX B+ Tree C++ Template Classes Version 0.7</h1><p class="info">Posted on 2007-04-27 15:02 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0427-STX-B+Tree-0.7.html">Permlink</a> with <a href="/2007/0427-STX-B+Tree-0.7.html#notes">0 Comments</a>. Tags: <a href="/tags/stx-btree.html">stx-btree</a> <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>Released the first version 0.7 of the <a href="/2007/stx-btree/">STX B+ Tree C++ Template Classes</a> package. The template classes are licensed under the <a class="exp" href="http://www.gnu.org/copyleft/lgpl.html">LGPL</a>.</p><p>The STX B+ Tree package is a set of C++ template classes implementing a <a href="http://en.wikipedia.org/wiki/B+_tree">B+ tree</a> key/data container in main memory. The classes are designed as drop-in replacements of the STL containers <code>set</code>, <code>map</code>, <code>multiset</code> and <code>multimap</code> and follow their interfaces very closely. By packing multiple value pairs into each node of the tree the B+ tree reduces heap fragmentation and utilizes cache-line effects better than the standard red-black binary tree. The tree algorithms are based on the implementation in Cormen, Leiserson and Rivest&apos;s Introduction into Algorithms, Jan Jannink&apos;s paper and other algorithm resources. The classes contain extensive assertion and verification mechanisms to ensure the implementation&apos;s correctness by testing the tree invariants.</p><p>The main B+ tree implementation can be found in doxygen <a href="/2007/stx-btree/stx-btree-0.7-doxygen/btree_8h-source.html">stx/btree.h</a> or with plain text comments <a href="/2007/stx-btree/stx-btree-0.7/include/stx/btree.h.html">stx/btree.h</a>.</p><p>The source code package is available <a href="/2007/stx-btree/">for download from this webpage</a>.</p><p>The classes are documented extensively using doxygen. The generated <a href="/2007/stx-btree/stx-btree-0.7-doxygen/">HTML documentation can be browsed online</a> or <a href="/2007/stx-btree/">downloaded</a>.</p><p>Special interest was put into performing a speed comparison test between the standard red-black tree and the new B+ tree implementation. The <a href="/2007/stx-btree/stx-btree-0.7-doxygen/speedtest.html">speed test results are interesting</a> and show the B+ tree to be significantly faster for trees containing more than 16,000 items.</p></div><br style="clear:right" /><h1>C++ Code Snippet - Compressing STL Strings with zlib</h1><p class="info">Posted on 2007-03-28 18:23 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0328-ZLibString.html">Permlink</a> with <a href="/2007/0328-ZLibString.html#notes">5 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/code-snippet.html">code-snippet</a></p><div class="textcontent"><p>The <a href="http://www.zlib.net">zlib library</a> can be found on virtually every computer. It is THE general-purpose lossless patent-free compression library.</p><p>This small C++ code snippet features a pair of functions which use this ubiquitous library to compress ordinary STL strings. There are many uses for this code snippet, like compressing string data stored in a database or binary data transfered over a network. Keep in mind that the compressed string data is binary, so the string&apos;s <code>c_str()</code> representation must be avoided.</p><p>To compile the following small program use &quot;<code>gcc testzlib.cc -o testzlib -lz</code>&quot; where testzlib.cc is the code.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;string&gt;</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;stdexcept&gt;</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;iostream&gt;</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;iomanip&gt;</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;sstream&gt;</span>

<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;zlib.h&gt;</span>

<span class="comment">/** Compress a STL string using zlib with given compression level and return</span>
<span class="comment">  * the binary data. */</span>
<span class="normal">std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="function">compress_string</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">&amp;</span><span class="normal"> str</span><span class="symbol">,</span>
<span class="normal">                            </span><span class="type">int</span><span class="normal"> compressionlevel </span><span class="symbol">=</span><span class="normal"> Z_BEST_COMPRESSION</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">z_stream</span><span class="normal"> zs</span><span class="symbol">;</span><span class="normal">                        </span><span class="comment">// z_stream is zlib's control structure</span>
<span class="normal">    </span><span class="function">memset</span><span class="symbol">(&amp;</span><span class="normal">zs</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal">zs</span><span class="symbol">));</span>

<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">deflateInit</span><span class="symbol">(&amp;</span><span class="normal">zs</span><span class="symbol">,</span><span class="normal"> compressionlevel</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> Z_OK</span><span class="symbol">)</span>
<span class="normal">        </span><span class="keyword">throw</span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="function">runtime_error</span><span class="symbol">(</span><span class="string">"deflateInit failed while compressing."</span><span class="symbol">));</span>

<span class="normal">    zs</span><span class="symbol">.</span><span class="normal">next_in </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Bytef</span><span class="symbol">*)</span><span class="normal">str</span><span class="symbol">.</span><span class="function">data</span><span class="symbol">();</span>
<span class="normal">    zs</span><span class="symbol">.</span><span class="normal">avail_in </span><span class="symbol">=</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">();</span><span class="normal">           </span><span class="comment">// set the z_stream's input</span>

<span class="normal">    </span><span class="type">int</span><span class="normal"> ret</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">char</span><span class="normal"> outbuffer</span><span class="symbol">[</span><span class="number">32768</span><span class="symbol">];</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> outstring</span><span class="symbol">;</span>

<span class="normal">    </span><span class="comment">// retrieve the compressed bytes blockwise</span>
<span class="normal">    </span><span class="keyword">do</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        zs</span><span class="symbol">.</span><span class="normal">next_out </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">reinterpret_cast</span><span class="symbol">&lt;</span><span class="normal">Bytef</span><span class="symbol">*&gt;(</span><span class="normal">outbuffer</span><span class="symbol">);</span>
<span class="normal">        zs</span><span class="symbol">.</span><span class="normal">avail_out </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal">outbuffer</span><span class="symbol">);</span>

<span class="normal">        ret </span><span class="symbol">=</span><span class="normal"> </span><span class="function">deflate</span><span class="symbol">(&amp;</span><span class="normal">zs</span><span class="symbol">,</span><span class="normal"> Z_FINISH</span><span class="symbol">);</span>

<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">outstring</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">&lt;</span><span class="normal"> zs</span><span class="symbol">.</span><span class="normal">total_out</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="comment">// append the block to the output string</span>
<span class="normal">            outstring</span><span class="symbol">.</span><span class="function">append</span><span class="symbol">(</span><span class="normal">outbuffer</span><span class="symbol">,</span>
<span class="normal">                             zs</span><span class="symbol">.</span><span class="normal">total_out </span><span class="symbol">-</span><span class="normal"> outstring</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">());</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">ret </span><span class="symbol">==</span><span class="normal"> Z_OK</span><span class="symbol">);</span>

<span class="normal">    </span><span class="function">deflateEnd</span><span class="symbol">(&amp;</span><span class="normal">zs</span><span class="symbol">);</span>

<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">ret </span><span class="symbol">!=</span><span class="normal"> Z_STREAM_END</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal">          </span><span class="comment">// an error occurred that was not EOF</span>
<span class="normal">        std</span><span class="symbol">::</span><span class="usertype">ostringstream</span><span class="normal"> oss</span><span class="symbol">;</span>
<span class="normal">        oss </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Exception during zlib compression: ("</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> ret </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">") "</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> zs</span><span class="symbol">.</span><span class="normal">msg</span><span class="symbol">;</span>
<span class="normal">        </span><span class="keyword">throw</span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="function">runtime_error</span><span class="symbol">(</span><span class="normal">oss</span><span class="symbol">.</span><span class="function">str</span><span class="symbol">()));</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="keyword">return</span><span class="normal"> outstring</span><span class="symbol">;</span>
<span class="cbracket">}</span>

<span class="comment">/** Decompress an STL string using zlib and return the original data. */</span>
<span class="normal">std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> </span><span class="function">decompress_string</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">string</span><span class="symbol">&amp;</span><span class="normal"> str</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">z_stream</span><span class="normal"> zs</span><span class="symbol">;</span><span class="normal">                        </span><span class="comment">// z_stream is zlib's control structure</span>
<span class="normal">    </span><span class="function">memset</span><span class="symbol">(&amp;</span><span class="normal">zs</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal">zs</span><span class="symbol">));</span>

<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">inflateInit</span><span class="symbol">(&amp;</span><span class="normal">zs</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> Z_OK</span><span class="symbol">)</span>
<span class="normal">        </span><span class="keyword">throw</span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="function">runtime_error</span><span class="symbol">(</span><span class="string">"inflateInit failed while decompressing."</span><span class="symbol">));</span>

<span class="normal">    zs</span><span class="symbol">.</span><span class="normal">next_in </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Bytef</span><span class="symbol">*)</span><span class="normal">str</span><span class="symbol">.</span><span class="function">data</span><span class="symbol">();</span>
<span class="normal">    zs</span><span class="symbol">.</span><span class="normal">avail_in </span><span class="symbol">=</span><span class="normal"> str</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">();</span>

<span class="normal">    </span><span class="type">int</span><span class="normal"> ret</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">char</span><span class="normal"> outbuffer</span><span class="symbol">[</span><span class="number">32768</span><span class="symbol">];</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> outstring</span><span class="symbol">;</span>

<span class="normal">    </span><span class="comment">// get the decompressed bytes blockwise using repeated calls to inflate</span>
<span class="normal">    </span><span class="keyword">do</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        zs</span><span class="symbol">.</span><span class="normal">next_out </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">reinterpret_cast</span><span class="symbol">&lt;</span><span class="normal">Bytef</span><span class="symbol">*&gt;(</span><span class="normal">outbuffer</span><span class="symbol">);</span>
<span class="normal">        zs</span><span class="symbol">.</span><span class="normal">avail_out </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal">outbuffer</span><span class="symbol">);</span>

<span class="normal">        ret </span><span class="symbol">=</span><span class="normal"> </span><span class="function">inflate</span><span class="symbol">(&amp;</span><span class="normal">zs</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>

<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">outstring</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">&lt;</span><span class="normal"> zs</span><span class="symbol">.</span><span class="normal">total_out</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            outstring</span><span class="symbol">.</span><span class="function">append</span><span class="symbol">(</span><span class="normal">outbuffer</span><span class="symbol">,</span>
<span class="normal">                             zs</span><span class="symbol">.</span><span class="normal">total_out </span><span class="symbol">-</span><span class="normal"> outstring</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">());</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">ret </span><span class="symbol">==</span><span class="normal"> Z_OK</span><span class="symbol">);</span>

<span class="normal">    </span><span class="function">inflateEnd</span><span class="symbol">(&amp;</span><span class="normal">zs</span><span class="symbol">);</span>

<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">ret </span><span class="symbol">!=</span><span class="normal"> Z_STREAM_END</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal">          </span><span class="comment">// an error occurred that was not EOF</span>
<span class="normal">        std</span><span class="symbol">::</span><span class="usertype">ostringstream</span><span class="normal"> oss</span><span class="symbol">;</span>
<span class="normal">        oss </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Exception during zlib decompression: ("</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> ret </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">") "</span>
<span class="normal">            </span><span class="symbol">&lt;&lt;</span><span class="normal"> zs</span><span class="symbol">.</span><span class="normal">msg</span><span class="symbol">;</span>
<span class="normal">        </span><span class="keyword">throw</span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="function">runtime_error</span><span class="symbol">(</span><span class="normal">oss</span><span class="symbol">.</span><span class="function">str</span><span class="symbol">()));</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="keyword">return</span><span class="normal"> outstring</span><span class="symbol">;</span>
<span class="cbracket">}</span>

<span class="comment">/** Small dumb tool (de)compressing cin to cout. It holds all input in memory,</span>
<span class="comment">  * so don't use it for huge files. */</span>
<span class="type">int</span><span class="normal"> </span><span class="function">main</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> argc</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="symbol">*</span><span class="normal"> argv</span><span class="symbol">[])</span>
<span class="cbracket">{</span>
<span class="normal">    std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> allinput</span><span class="symbol">;</span>

<span class="normal">    </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="normal">cin</span><span class="symbol">.</span><span class="function">good</span><span class="symbol">())</span><span class="normal">     </span><span class="comment">// read all input from cin</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="type">char</span><span class="normal"> inbuffer</span><span class="symbol">[</span><span class="number">32768</span><span class="symbol">];</span>
<span class="normal">        std</span><span class="symbol">::</span><span class="normal">cin</span><span class="symbol">.</span><span class="function">read</span><span class="symbol">(</span><span class="normal">inbuffer</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal">inbuffer</span><span class="symbol">));</span>
<span class="normal">        allinput</span><span class="symbol">.</span><span class="function">append</span><span class="symbol">(</span><span class="normal">inbuffer</span><span class="symbol">,</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">cin</span><span class="symbol">.</span><span class="function">gcount</span><span class="symbol">());</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">argc </span><span class="symbol">&gt;=</span><span class="normal"> </span><span class="number">2</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="function">strcmp</span><span class="symbol">(</span><span class="normal">argv</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">],</span><span class="normal"> </span><span class="string">"-d"</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> cstr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">decompress_string</span><span class="symbol">(</span><span class="normal"> allinput </span><span class="symbol">);</span>

<span class="normal">        std</span><span class="symbol">::</span><span class="normal">cerr </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Inflated data: "</span>
<span class="normal">                  </span><span class="symbol">&lt;&lt;</span><span class="normal"> allinput</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">" -&gt; "</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> cstr</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">()</span>
<span class="normal">                  </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">" ("</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> std</span><span class="symbol">::</span><span class="function">setprecision</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">fixed</span>
<span class="normal">                  </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">((</span><span class="type">float</span><span class="symbol">)</span><span class="normal">cstr</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">/</span><span class="normal"> </span><span class="symbol">(</span><span class="type">float</span><span class="symbol">)</span><span class="normal">allinput</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">-</span><span class="normal"> </span><span class="number">1.0</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> </span><span class="number">100.0</span><span class="normal"> </span><span class="symbol">)</span>
<span class="normal">                  </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"% increase).</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>

<span class="normal">        std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> cstr</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="keyword">else</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> cstr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">compress_string</span><span class="symbol">(</span><span class="normal"> allinput </span><span class="symbol">);</span>

<span class="normal">        std</span><span class="symbol">::</span><span class="normal">cerr </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Deflated data: "</span>
<span class="normal">                  </span><span class="symbol">&lt;&lt;</span><span class="normal"> allinput</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">" -&gt; "</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> cstr</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">()</span>
<span class="normal">                  </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">" ("</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> std</span><span class="symbol">::</span><span class="function">setprecision</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">fixed</span>
<span class="normal">                  </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="number">1.0</span><span class="normal"> </span><span class="symbol">-</span><span class="normal"> </span><span class="symbol">(</span><span class="type">float</span><span class="symbol">)</span><span class="normal">cstr</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">/</span><span class="normal"> </span><span class="symbol">(</span><span class="type">float</span><span class="symbol">)</span><span class="normal">allinput</span><span class="symbol">.</span><span class="function">size</span><span class="symbol">())</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> </span><span class="number">100.0</span><span class="symbol">)</span>
<span class="normal">                  </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"% saved).</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>

<span class="normal">        std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> cstr</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt></pre></div></div><br style="clear:right" /><h1>C++ Code Snippet - Using the Boost.Regex Library</h1><p class="info">Posted on 2007-03-14 14:43 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0314-BoostRegex.html">Permlink</a> with <a href="/2007/0314-BoostRegex.html#notes">0 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/code-snippet.html">code-snippet</a></p><div class="textcontent"><p>The <a class="exp" href="http://www.boost.org/">Boost library</a> is a collection of very useful C++ (template) libraries. However <a class="exp" href="http://www.boost.org/libs/libraries.htm">it&apos;s documentation</a> is very complex and using the library straight-forward usually results in <code>g++</code> scrolling endless pages of template instantiation errors.</p><p>This code snippet shows by example how to use the <a href="http://www.boost.org/libs/regex/doc/index.html">Boost.Regex</a> library. It compiles and executes regular expressions on strings. Some test I ran showed that it is not as fast as <a href="http://www.pcre.org/">pcre</a>, however <a href="http://www.boost.org/libs/regex/doc/index.html">Boost.Regex</a> it is easier and more elegant to use in C++ programs. The program must be linked with <code>-lboost_regex</code>.</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;iostream&gt;</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;stdlib.h&gt;</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;boost/regex.hpp&gt;</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;boost/lexical_cast.hpp&gt;</span>

<span class="type">int</span><span class="normal"> </span><span class="function">main</span><span class="symbol">()</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">// This regex is compiled at start-up and matches YYYY-MM-DD dates. If it</span>
<span class="normal">    </span><span class="comment">// contains a syntax error, the program aborts at start-up with an</span>
<span class="normal">    </span><span class="comment">// exception.</span>
<span class="normal">    </span><span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> boost</span><span class="symbol">::</span><span class="normal">regex</span>
<span class="normal">        </span><span class="function">date_regex</span><span class="symbol">(</span><span class="string">"(199[0-9]|200[0-9])-([1-9]|0[1-9]|1[012])-([1-9]|[0-2][1-9]|3[01])"</span><span class="symbol">);</span>

<span class="normal">    </span><span class="comment">// First example: char* c-style input strings use boost::cmatch results.</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">input_cstr </span><span class="symbol">=</span><span class="normal"> </span><span class="string">"2007-03-14"</span><span class="symbol">;</span>
<span class="normal">        boost</span><span class="symbol">::</span><span class="usertype">cmatch</span><span class="normal"> char_matches</span><span class="symbol">;</span>

<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">boost</span><span class="symbol">::</span><span class="function">regex_match</span><span class="symbol">(</span><span class="normal">input_cstr</span><span class="symbol">,</span><span class="normal"> char_matches</span><span class="symbol">,</span><span class="normal"> date_regex</span><span class="symbol">))</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="comment">// Convert the parsed number using boost's lexical_cast library</span>
<span class="normal">            </span><span class="type">int</span><span class="normal"> year </span><span class="symbol">=</span><span class="normal"> boost</span><span class="symbol">::</span><span class="normal">lexical_cast</span><span class="symbol">&lt;</span><span class="type">int</span><span class="symbol">&gt;(</span><span class="normal"> char_matches</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">);</span>
<span class="normal">            </span><span class="comment">// Or use the old way: get the std::string object, then it's char*</span>
<span class="normal">            </span><span class="type">int</span><span class="normal"> month </span><span class="symbol">=</span><span class="normal"> </span><span class="function">atoi</span><span class="symbol">(</span><span class="normal"> char_matches</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">].</span><span class="function">str</span><span class="symbol">().</span><span class="function">c_str</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">);</span>

<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"First example:"</span>
<span class="normal">                      </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">" year "</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> year</span>
<span class="normal">                      </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">" month "</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> month</span>
<span class="normal">                      </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">" day "</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> char_matches</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span><span class="normal"> </span>
<span class="normal">        </span><span class="keyword">else</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"First example should have matched the regex.</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="comment">// Second example: STL strings use boost::smatch results.</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> input_stlstr </span><span class="symbol">=</span><span class="normal"> </span><span class="string">"2007-03-34"</span><span class="symbol">;</span>
<span class="normal">        boost</span><span class="symbol">::</span><span class="usertype">smatch</span><span class="normal"> str_matches</span><span class="symbol">;</span>

<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">boost</span><span class="symbol">::</span><span class="function">regex_match</span><span class="symbol">(</span><span class="normal">input_stlstr</span><span class="symbol">,</span><span class="normal"> str_matches</span><span class="symbol">,</span><span class="normal"> date_regex</span><span class="symbol">))</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Second example shouldn't have matched the regex.</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="keyword">else</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Second example didn't match the regex. This was intended.</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="comment">// Third example: Temporary regex object and no capture results needed.</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">boost</span><span class="symbol">::</span><span class="function">regex_match</span><span class="symbol">(</span><span class="string">"2007"</span><span class="symbol">,</span><span class="normal"> boost</span><span class="symbol">::</span><span class="function">regex</span><span class="symbol">(</span><span class="string">"(199[0-9]|200[0-9])"</span><span class="symbol">)))</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Third example matched the temporary regex object.</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="keyword">else</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Third example should have matched the regex.</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="comment">// Fourth example: regex_match matches the whole string while regex_search</span>
<span class="normal">    </span><span class="comment">// matches substrings just like perl.</span>
<span class="normal">    </span><span class="cbracket">{</span>
<span class="normal">        std</span><span class="symbol">::</span><span class="usertype">string</span><span class="normal"> input </span><span class="symbol">=</span><span class="normal"> </span><span class="string">"Today is 2007-03-14, how are you?"</span><span class="symbol">;</span>

<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">boost</span><span class="symbol">::</span><span class="function">regex_match</span><span class="symbol">(</span><span class="normal">input</span><span class="symbol">,</span><span class="normal"> date_regex</span><span class="symbol">))</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Fourth example (regex_match) shouldn't match.</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="keyword">else</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"As expected, the fourth example (regex_match) didn't match.</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">boost</span><span class="symbol">::</span><span class="function">regex_search</span><span class="symbol">(</span><span class="normal">input</span><span class="symbol">,</span><span class="normal"> date_regex</span><span class="symbol">))</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"While the fourth example using regex_search did matched.</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="keyword">else</span>
<span class="normal">        </span><span class="cbracket">{</span>
<span class="normal">            std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"Fourth example using regex_search should have matched the regex.</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span></tt></pre></div></div><br style="clear:right" /><h1>C++ Code Snippet - Making a Custom Class ostream Outputable</h1><p class="info">Posted on 2007-03-01 14:47 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2007/0301-StdOStreamPrintable.html">Permlink</a> with <a href="/2007/0301-StdOStreamPrintable.html#notes">1 Comments</a>. Tags: <a href="/tags/c++.html">c++</a> <a href="/tags/code-snippet.html">code-snippet</a></p><div class="textcontent"><p>How to get a custom class to work with <code>std::cout &lt;&lt; obj;</code> ? I for my part always forget the exact prototype of the required <code>operator&lt;&lt;</code>. Here is an minimal working example to copy code from:</p><div class="codesnippet codeframe" style="font-size: 10pt; font-family: monospace"><pre><tt><span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;iostream&gt;</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">myclass</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> a</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">myclass</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> _a</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> _b</span><span class="symbol">)</span>
<span class="normal">        </span><span class="symbol">:</span><span class="normal"> </span><span class="function">a</span><span class="symbol">(</span><span class="normal">_a</span><span class="symbol">),</span><span class="normal"> </span><span class="function">b</span><span class="symbol">(</span><span class="normal">_b</span><span class="symbol">)</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="cbracket">}</span>
<span class="cbracket">}</span><span class="symbol">;</span>

<span class="comment">// make myclass ostream outputtable</span>
<span class="normal">std</span><span class="symbol">::</span><span class="normal">ostream</span><span class="symbol">&amp;</span><span class="normal"> </span><span class="keyword">operator</span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">std</span><span class="symbol">::</span><span class="usertype">ostream</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">stream</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">myclass</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">obj</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> stream </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">"("</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> obj</span><span class="symbol">.</span><span class="normal">a </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">","</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> obj</span><span class="symbol">.</span><span class="normal">b </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="string">")"</span><span class="symbol">;</span>
<span class="cbracket">}</span>

<span class="type">int</span><span class="normal"> </span><span class="function">main</span><span class="symbol">()</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">myclass</span><span class="normal"> </span><span class="function">obj</span><span class="symbol">(</span><span class="number">42</span><span class="symbol">,</span><span class="normal"> </span><span class="number">46</span><span class="symbol">);</span>

<span class="normal">    std</span><span class="symbol">::</span><span class="normal">cout </span><span class="symbol">&lt;&lt;</span><span class="normal"> obj </span><span class="symbol">&lt;&lt;</span><span class="normal"> std</span><span class="symbol">::</span><span class="normal">endl</span><span class="symbol">;</span>
<span class="cbracket">}</span></tt></pre></div></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2006/1010-QtSqlView.html"><img src="/2006/qtsqlview/thumbnail1.jpg" width="250" height="200" alt="QtSqlView Screenshot 1" title="QtSqlView Screenshot 1" /></a></span>QtSqlView 0.8.0 Released</h1><p class="info">Posted on 2006-10-10 12:56 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2006/1010-QtSqlView.html">Permlink</a> with <a href="/2006/1010-QtSqlView.html#notes">0 Comments</a>. Tags: <a href="/tags/qtsqlview.html">qtsqlview</a> <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>Released the first version 0.8.0 of <a href="/2006/qtsqlview/">QtSqlView</a> under the <a class="exp" href="http://www.gnu.org/copyleft/gpl.html">GPL</a>.</p><p>QtSqlView is a simple and easy to use SQL <b>database browser</b> written in <b><a class="exp" href="http://www.trolltech.com/">Qt</a> 4.x</b> using the excellent QtSql components. Using QtSql drivers it can natively connect to <a class="exp" href="http://www.mysql.com/">MySQL</a>, <a class="exp" href="http://www.postgresql.org/">PostgreSQL</a> and <a class="exp" href="http://www.sqlite.org/">SQLite</a> databases. Furthermore other database systems may be accessed using their ODBC drivers. QtSqlView is released under the <a class="exp" href="http://www.gnu.org/licenses/licenses.html#GPL">GNU General Public License</a>: <a href="/2006/qtsqlview/#downloads">source code and win32 binary</a> may be downloaded here.</p><p>This short program was initially written for a set of windows users, who need to access and edit a PostgreSQL database. All this is possible with M$ Access and ODBC, but the configuration of PostgreSQL&apos;s ODBC driver and the ODBC DSN is far too complicated for the average database editor. Thus <b>problem-free access of open-source databases</b> was top priority for QtSqlView.</p><p>QtSqlView boasts the following features:</p><ul> <li><b>Problem-free</b> connecting to MySQL, PostgreSQL and SQLite databases on Windows.</li> <li>Add, delete and modify a list of database connections.</li> <li>Browse, edit, save and revert SQL tables, system tables and views of registered connections</li> <li>Copy selected cells as tab-separated text to the clipboard.</li> <li>View table schema including primary key.</li> <li>Execute custom SQL queries on the database connect and view results.</li> <li>SQL syntax highlighting in query editor.</li> <li>Uses Qt4&apos;s greatly improved SQL components.</li></ul><p>You may <a href="/2006/qtsqlview/#downloads">download the source code for Linux/OSX or a setup package for Windows</a>.</p><p><a href="/2006/qtsqlview/#screenshots">More screenshots</a> are available as well.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2006/0914-SDIOS06.html"><img src="/2006/0727-SDI-Demo/sdios06-thumb.jpg" width="250" height="165" alt="SDIOS06 Shell Screenshot" title="SDIOS06 Shell Screenshot" /></a></span>SDIOS06 - Source Code and Ready-To-Run Image</h1><p class="info">Posted on 2006-09-14 09:26 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2006/0914-SDIOS06.html">Permlink</a> with <a href="/2006/0914-SDIOS06.html#notes">2 Comments</a>. Tags: <a href="/tags/sdios06.html">sdios06</a> <a href="/tags/university.html">university</a> <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>As promised the source code to SDIOS06 was released under the <a class="exp" href="http://www.gnu.org/copyleft/gpl.html">GPL</a>.</p><p>SDIOS06 is a toy operating system developed during the practical course <a href="http://i30www.ira.uka.de/teaching/courses/lecture.php?courseid=133&amp;amp;lid=en">SDI (System Design and Implementation)</a> at the <a href="http://i30www.ira.uka.de/">Systems Architecture Group</a> of the University of Karlsruhe. It was designed and written by Timo Bingmann, Matthias Braun, Torsten Geiger and Andreas M&auml;hler. Two games were ported to a custom SDL implementation using the VMware &quot;hard&quot;-ware: <a class="exp" href="http://sdljump.sourceforge.net/">SDLjump</a> and <a class="exp" href="http://supertux.berlios.de/">SuperTux</a>. For more information and screenshots see my blog entry <a href="/2006/0727-SDI-Demo/">20060727-SDI-Demo</a>.</p><p>The source code archive was published on the <a class="exp" href="http://www.l4ka.org/">L4Ka.org</a> page: <a href="http://www.l4ka.org/86.php">http://www.l4ka.org/86.php</a></p><p>A <a href="/2006/SDIOS06/sdios06-src.tar.bz2">local copy of the source archive</a> (7.4 MB) is available as well. The <a href="/2006/SDIOS06/README.source.html">README file</a> contains a great deal of information about SDIOS06&apos;s design and modules. The complete source code can be <a href="/2006/SDIOS06/sdios06/">browsed on the web</a>.</p><p>To make demonstration as easy as possible a <a href="/2006/SDIOS06/sdios06-vmware-image-v1.0.tar.bz2">ready-to-run binary vmware image</a> (3.8 MB) can be downloaded. The image contains SDIOS06 installed on a virtual vmware disk image. The VMware image can be run using the free <a href="http://www.vmware.com/products/player/">VMware Player</a>.</p></div><br style="clear:right" /><h1><span style="float: right; margin: 0em 0em 1.5em 1.5em; font-size: 10pt; text-align: center"><a href="/2006/0809-sdlfractal-0.1.html"><img src="/2006/sdlfractal/mandelbrot1.png" width="230" height="250" alt="Mandelbrot Example" title="Mandelbrot Example" /></a></span>sdlfractal 0.1</h1><p class="info">Posted on 2006-08-09 21:33 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2006/0809-sdlfractal-0.1.html">Permlink</a> with <a href="/2006/0809-sdlfractal-0.1.html#notes">0 Comments</a>. Tags: <a href="/tags/sdlfractal.html">sdlfractal</a> <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>Sdlfractal is a port of a simple little fractal generator which I wrote some five years ago. It is not supposed to replace wonderful tools like xfractint so it is very simple and not very fast. The main goal of this project was to learn <a class="exp" href="http://www.libsdl.org/">SDL</a> and it turned out that <a class="exp" href="http://www.fltk.org/">fltk</a> was also required. The main construction is an SDL surface extended by a canvas class which simulates a high-resolution coordinate system. On this coordinate system the fractals can be drawn.</p><p>To control fractal parameters the generator displays a second window using the fltk engine. From this dialog the currently displayed fractal and it&apos;s parameters can be changed. This requires a dual engine event loop in the program.</p><p>By dragging the mouse on the drawing canvas you can zoom into all fractals. If fractal drawing takes too long (and nothing is shown), then just click the canvas and the generator will stop.</p><p>The fractal generator can also save high-resolution <a class="exp" href="http://www.libpng.org/pub/png/">PNG</a> files. The following images are some examples created by the fractal generator.</p><p>The source code to sdlfractal 0.1 can be <a href="/2006/sdlfractal/sdlfractal-0.1.tar.bz2">downloaded in a tar.bz2 archive</a> (121 KB). It is also <a href="/2006/sdlfractal/sdlfractal-0.1/">browsable on the web</a>.</p><p>Sdlfractal was designed to the portable to Win32 using SDL and fltk compiled with <a class="exp" href="http://www.mingw.org/">MinGW</a>. A compiled version which should run out of the box on most windows. <a href="/2006/sdlfractal/sdlfractal-0.1-win32.zip">Download the zip archive</a>(267 KB) containing the executable.</p><p>MD5sums of the source and binary archives:<br /><tt>538da60a5ef2d427fbb901d6080e631e </tt><a href="/2006/sdlfractal/sdlfractal-0.1.tar.bz2">sdlfractal-0.1.tar.bz2</a><br /><tt>5bab1ccb93e170f5c42d995a6761ca7a </tt><a href="/2006/sdlfractal/sdlfractal-0.1-win32.zip">sdlfractal-0.1-win32.zip</a></p><table> <tr> <td><img src="/2006/sdlfractal/snowstorm250.png" alt="Mandelbrot snow storm" width="250" height="187" /></td> <td><p>This section of the mandelbrot fractal is so beautiful that it is my current wallpaper. It can be downloaded at <a href="/2006/sdlfractal/snowstorm800.png">800x600</a> (242 KB), <a href="/2006/sdlfractal/snowstorm1024.png">1024x768</a> (372 KB) or <a href="/2006/sdlfractal/snowstorm1280.png">1280x960</a> (552 KB).</p></td> </tr></table><div style="text-align: center"><a href="/2006/0809-sdlfractal-0.1.html">This blog entry continues on the next page ...</a></div></div><br style="clear:right" /><h1>Studienarbeit "Visualisierung sehr groer Graphen" fertiggestellt</h1><p class="info">Posted on 2006-06-20 17:31 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2006/0620-Studienarbeit.html">Permlink</a> with <a href="/2006/0620-Studienarbeit.html#notes">0 Comments</a>. Tags: <a href="/tags/compsci_study_thesis.html">compsci study thesis</a> <a href="/tags/graphviz.html">graphviz</a> <a href="/tags/university.html">university</a> <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>Heute habe ich meine Studienarbeit &quot;Visualisierung sehr gro&szlig;er Graphen&quot; am <a href="http://i10www.ira.uka.de/">Institut f&uuml;r Theoretische Informatik</a> fertig gestellt und abgegeben. Die Studienarbeit ist eine 3-4 monatige wissenschaftliche Arbeit und dient als Vorbereitung auf die Diplomarbeit.</p><p>Die Studienarbeit kann <a href="/2006/Studienarbeit/studienarbeit-visualisierung-sehr-grosser-graphen.pdf">zum Durchlesen als PDF (2,4 MB)</a> herunter geladen werden. Auf diesen Abschnitt folgenden die deutsche und englische Zusammenfassung der Arbeit. Weiter gibt es eine Version <a href="/2006/Studienarbeit/studienarbeit-visualisierung-sehr-grosser-graphen-print.pdf">zum Ausdrucken (PDF 15,3 MB)</a> mit einer hochaufl&ouml;senden Vektorgraphik im Anhang.</p><div class="cite"><h2>Zusammenfassung</h2><p>In dieser Studienarbeit wird untersucht, mit welchen Methoden sehr gro&szlig;e Graphen wie ein Stra&szlig;ennetzwerk von Europa effizient und komfortabel visualisiert werden k&ouml;nnen. Als Ausarbeitung entsteht ein C++ Rahmenwerk f&uuml;r die Datenhaltung eines Graphen mit Attributen und ein Java Applet, das mit dem Datenhaltungs-Server mittels CORBA kommuniziert. Das Rahmenwerk kann leicht in bestehende Graphanwendungen integriert werden, um deren Algorithmen zu animieren.</p><p>Als Basis-Graphstruktur wird ein Adjazenz-Array verwendet und um Strukturen erweitert, die zu jedem Knoten und jeder Kante beliebig viele Attributwerte speichern. Zwei der Knotenattribute werden als Zeichenkoordinaten verwendet. Der Grundgraph und die Datenhaltung der Attributwerte wird auf m&ouml;glichst kompakte Art und Weise gel&ouml;st. Graphanwendungen k&ouml;nnen eine Liste von tempor&auml;ren &Auml;nderungen erzeugen, die mit dem gro&szlig;en globalen Graphen zusammengef&uuml;hrt werden k&ouml;nnen. Um das Vorgehen der Graph-Algorithmen zu visualisieren, werden deren Funktionsaufrufe in einer &Auml;nderungsfolge kodiert, welche als Animation zum Java Client &uuml;bertragen wird.</p><p>Um die Geschwindigkeit einer Ausschnittsanfrage zu erh&ouml;hen, wird die mehrdimensionale Indexstruktur R-Tree verwendet. Diese erm&ouml;glicht Anfragezeiten, die linear zur Anzahl der zur&uuml;ckgelieferten Kanten und unabh&auml;ngig vom gew&auml;hlten Ausschnitt sind. Es k&ouml;nnen komplexe Filterausdr&uuml;cke aus Vergleichsbedingungen mit boolschen und arithmetische Operatoren verwendet werden, um die angezeigten Kanten in einem Visualisierungsauschnitt einzuschr&auml;nken und so komfortabel bestimmte Aspekte der Anwendungs-Algorithmen zu untersuchen oder hervorzuheben.</p><p>Als Referenzanwendung wird das Rahmenwerk von der am Institut f&uuml;r Theoretische Informatik in Karlsruhe entwickelten Routenplanungsanwendung zur Visualisiserung mittels Web Applet verwendet.</p><h2>Abstract</h2><p>This study thesis investigates and implements methods used to efficiently visualize very large graphs like a street network of Europe. A C++ server framework is designed, which implements a data management library for graphs with attributes. A Java applet communicates with the data server via CORBA and draws sections of the graph. The graph data management library can easily be integrated into existing graph application to visual and animate calculations.</p><p>The data management library uses the adjacency array structure for representing the base graph. It is extended by similar data structures to hold an arbitrary number of attributes for each vertex and edge. The data structures are optimized towards highest storage efficiency. To modify the static global graph an application may construct a list of changes, which are efficiently merged into permanent data storage. To visualize the workings of an algorithm its function call sequence can be recorded into a list of graph changes. This change time line can be transfered to the Java client and displayed as an animation.</p><p>To accelerate access to arbitrary sections of the graph the spatial index structure R-Tree is used. It enables query times to linearly increase with the number of returned edges and be independent of the section size or position.</p><p>Furthermore complex filter expressions including comparisons and arithmetic operators can be applied to limit the displayed edges. This enables the client to explore the graph&apos;s details comfortably and highlight interesting aspects of an algorithm.</p><p>The graph data management library is used in a route planning application, which is being developed in a research group of the University of Karlsruhe. It will be used to visualize the route using a web applet.</p></div></div><br style="clear:right" /><h1>Vortrag "Objekt-orientiertes Programmieren in C"</h1><p class="info">Posted on 2005-06-14 16:19 by <a href="/about/timo.html">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2005/0614-RLP-Vortrag-OOC/">Permlink</a> with <a href="/2005/0614-RLP-Vortrag-OOC/#notes">0 Comments</a>. Tags: <a href="/tags/university.html">university</a> <a href="/tags/talk.html">talk</a> <a href="/tags/c++.html">c++</a></p><div class="textcontent"><p>Im Sommersemester 2005 habe ich am Praktikum &quot;<a href="http://www.info.uni-karlsruhe.de/lehre/2005SS/rlp/">Real-Life Programming</a>&quot; am IPD Lehrstuhl der UniKa teilgenommen. Hier platt die Beschreibung von der Homepage zitiert:</p><div class="cite"><p><i>Wie programmiert man richtig?</i></p><p>Viele performancekritische Software wird immer noch in C geschrieben. C erlaubt dem Compiler einen sehr gro&szlig;en Optimierungsspielraum, in diesem Praktikum wird ge&uuml;bt, wie dieser ausgenutzt werden kann und wie die dabei auftretenden Klippen zu umschiffen sind.</p><p>In diesem Kontext k&ouml;nnt ihr lernen:</p><ul> <li>Den Umgang mit den UNIX Entwicklungswerkzeugen</li> <li>Schreiben von portablem Code</li> <li>Verst&auml;ndnis des &Uuml;bersetzungsprozesses von C</li> <li>Analysieren des durch &Uuml;bersetzer erzeugten Assemblertextes</li> <li>Programmieren, so dass der &Uuml;bersetzer guten Code erzeugen kann</li> <li>Wie man die Performance von Programmen steigern kann</li> <li>Umgang mit gro&szlig;en Projekten</li> <li>Das Finden von Fehlern in gro&szlig;en und alten Softwaresystemen</li> <li>Beherrschen von Debugging und Profiling Werkzeugen</li> <li>Kniffe des C-Pr&auml;prozessors</li> <li>Die &quot;Geheimnisse&quot; von C</li></ul></div><p>In diesem Zusammenhang haben zwei Komilitonen und ich einen Vortrag &uuml;ber &quot;Objekt-orientiertes Programmieren in C&quot; (ohne ++) ausgearbeitet und gehalten. Weiteres Schwerpunktthema war die Darstellung von C++ in Maschine, also wie der C++ &Uuml;bersetzer dann die Klassen abbildet.</p><table class="smallwhite"><tr> <td>Vortragsfolien:</td> <td><a href="/2005/0614-RLP-Vortrag-OOC/OOC-Folien.pdf">OOC-Folien.pdf</a></td> <td>179 kB</td></tr><tr> <td>Handout:</td> <td><a href="/2005/0614-RLP-Vortrag-OOC/OOC-Handout.pdf">OOC-Handout.pdf</a></td> <td>122 kB</td></tr><tr> <td>Beispielcode:</td> <td><a href="/2005/0614-RLP-Vortrag-OOC/OOC-Beispiele.tar.gz">OOC-Beispiele.tar.gz</a></td> <td>4 kB</td></tr></table><p>Hier noch ein Auszug des Inhaltsverzeichnisses:</p><ol> <li>Objekt-Orientierte Konzepte</li> <li>OO in C <ul> <li>Kapselung und Geheimnisprinzip</li> <li>Vererbung und Polymorphie</li> <li>Generizti&auml;t</li> </ul> </li> <li>Darstellung von C++ in Maschine <ul> <li>vtable</li> <li>Name-Mangling</li> <li>Run-Time-Type Information (RTTI)</li> </ul> </li></ol><p>Diese Folien geben einen kompetenten &Uuml;berblick &uuml;ber den Themenbereich.</p></div><br style="clear:right" /></div><div style="text-align: left; padding: 8pt"><a href="/xmlfeed/weblog-rss20.xml"><img src="/img/xmlfeed-rss20.png" alt="RSS 2.0 Weblog Feed" height="15" width="80" /></a> <a href="/xmlfeed/weblog-atom10.xml"><img src="/img/xmlfeed-atom10.png" alt="Atom 1.0 Weblog Feed" height="15" width="80" /></a> <a href="http://validator.w3.org/check?uri=referer"><img src="/img/w3c-xhtml10.png" alt="Valid XHTML 1.1" height="15" width="80" /></a> <a href="http://jigsaw.w3.org/css-validator/check/referer"><img src="/img/w3c-css.png" alt="Valid CSS (2.1)" height="15" width="80" /></a></div><script type="text/javascript">var _paq = _paq || []; _paq.push(["trackPageView"]); _paq.push(["enableLinkTracking"]);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://panthema.net/wik-331/"; _paq.push(["setTrackerUrl", u+"js/"]); _paq.push(["setSiteId", "2"]);var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";g.defer=true; g.async=true; g.src=u+"js/"; s.parentNode.insertBefore(g,s);})();</script><noscript><img src="http://panthema.net/wik-331/js/?idsite=2&amp;rec=1" style="border:0" alt="" /></noscript></body></html>