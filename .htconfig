# panthema Web Page Configuration

DirectoryIndex		index.html index.php

# Longer Keep Alive Timeout
KeepAliveTimeout 	60

<Location "/">
    Options		-Indexes
</Location>

# ErrorDocuments

ErrorDocument		404	/404.html

# Redirect some alias domains

RewriteEngine 	On

RewriteCond	%{HTTP_HOST} 	panthema\.(com|de)$ [NC]
RewriteRule	^(.*)$		http://panthema.net$1 [R=301,L]

RewriteCond	%{HTTP_HOST} 	^www\.panthema\.net$ [NC]
RewriteRule	^(.*)$		http://panthema.net$1 [R=301,L]

RewriteCond	%{HTTP_HOST} 	(metaset|starftp)\.(com|net|de)$ [NC]
RewriteRule	^(.*)$		http://panthema.net$1 [R=301,L]

RewriteCond     %{SERVER_PORT}  !^443$
RewriteRule     ^/(oc-42.*)$    https://%{HTTP_HOST}/$1 [NC,R=301,L]

RewriteRule     ^/wik-331(.*)$  /home/www/panthema.net.piwik$1 [L]
RewriteRule     ^/oc-42(.*)$    /home/www/panthema.net.owncloud$1 [L]
RewriteRule     ^/cgit(.*)$     /home/www/panthema.net.cgit$1 [L]

# Expiration Control

ExpiresActive 		On
ExpiresDefault				"access plus 1 hour"
ExpiresByType 		image/gif 	"access plus 1 day"
ExpiresByType 		image/jpeg 	"access plus 1 day"
ExpiresByType 		image/png 	"access plus 1 day"
ExpiresByType 		text/html 	"access plus 1 hour"
ExpiresByType 		text/css 	"access plus 1 hour"

# git-web configuration

<Location /cgit/cgit.cgi>
      Options -Indexes FollowSymlinks +ExecCGI

      AuthType	      Basic
      AuthName	      "cgit Interface"
      AuthUserFile    /home/git/htpasswd      
      Require	      valid-user
</Location>

# Subversion Repositories

<Location /2006/hmtg/svn>
	DAV svn
	SVNPath /home/svn/hmtg

	AuthType Basic
	AuthName "Subversion Repository"
	AuthUserFile /home/svn/hmtg/htpasswd

	Require valid-user
</Location>

<Location /repo/svn>
	DAV svn
	SVNPath /home/svn/repo/

	AuthType Basic
	AuthName "panthema.net Repository Subversion"
	AuthUserFile /home/svn/htpasswd

	<LimitExcept GET PROPFIND OPTIONS REPORT>
		Require valid-user
	</LimitExcept>
</Location>

<Location /repo/gentoo>
	DAV svn
	SVNPath /home/svn/repo-gentoo/

	AuthType Basic
	AuthName "panthema.net Gentoo Subversion Repository"
	AuthUserFile /home/svn/htpasswd

	<LimitExcept GET PROPFIND OPTIONS REPORT>
		Require valid-user
	</LimitExcept>
</Location>
