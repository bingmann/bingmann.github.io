; Script generated by the Inno Setup Script Wizard.
; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!
; $Id: cryptote-win32.iss.in 377 2009-08-02 15:09:37Z tb $

[Setup]
AppName=CryptoTE
AppVersion=@VERSION@
AppVerName=CryptoTE @VERSION@
AppID={{C78E3B78-D047-426F-87CD-2289FEF2202B}
AppPublisher=Timo Bingmann
AppPublisherURL=http://idlebox.net/2009/cryptote/
AppSupportURL=http://idlebox.net/2009/cryptote/
AppUpdatesURL=http://idlebox.net/2009/cryptote/
AppCopyright=GNU General Public License v2.0
DefaultDirName={pf}\CryptoTE
DefaultGroupName=CryptoTE
OutputBaseFilename=CryptoTE-@VERSION@-Win32
SolidCompression=true
Compression=lzma/ultra
InternalCompressLevel=ultra
OutputDir=.
ChangesAssociations=true
UninstallDisplayIcon={app}\cryptote.exe
VersionInfoVersion=@VERSION@
VersionInfoCompany=Timo Bingmann
VersionInfoDescription=http://idlebox.net/2009/cryptote/
VersionInfoCopyright=GNU General Public License v2.0
MinVersion=0,4.0
ShowLanguageDialog=auto
WizardImageFile=SetupModern20.bmp
WizardSmallImageFile=SetupModernSmall20.bmp
LicenseFile=COPYING.rtf

[Languages]
Name: en; MessagesFile: compiler:Default.isl
Name: de; MessagesFile: compiler:Languages\German.isl

[CustomMessages]
PasswordGenerator=Password Generator
de.PasswordGenerator=Passwort-Generator
EncryptedContainer=Encrypted Container
de.EncryptedContainer=Verschlüsselter Container

[Tasks]
Name: desktopicon; Description: {cm:CreateDesktopIcon}; GroupDescription: {cm:AdditionalIcons}

[Files]
Source: ..\src\cryptote\cryptote.exe; DestDir: {app}; Flags: ignoreversion 32bit

[Icons]
Name: {group}\CryptoTE; Filename: {app}\cryptote.exe
Name: {group}\{cm:PasswordGenerator}; Filename: {app}\cryptote.exe; Parameters: -pwgen; IconIndex: 2
Name: {commondesktop}\CryptoTE; Filename: {app}\cryptote.exe; Tasks: desktopicon

[Run]
Filename: {app}\cryptote.exe; Description: "{cm:LaunchProgram,""CryptoTE""}"; Flags: nowait postinstall skipifsilent

[Registry]
Root: HKCR; SubKey: .ect; ValueType: string; ValueData: CryptoTE Encrypted Container; Flags: uninsdeletekey
Root: HKCR; SubKey: CryptoTE Encrypted Container; ValueType: string; ValueData: {cm:EncryptedContainer}; Flags: uninsdeletekey
Root: HKCR; SubKey: CryptoTE Encrypted Container\Shell\Open\Command; ValueType: string; ValueData: """{app}\cryptote.exe"" ""%1"""; Flags: uninsdeletevalue
Root: HKCR; Subkey: CryptoTE Encrypted Container\DefaultIcon; ValueType: string; ValueData: {app}\cryptote.exe,1; Flags: uninsdeletevalue
Root: HKCU; Subkey: Software\idlebox.net\CryptoTE; Flags: dontcreatekey uninsdeletekey
Root: HKCU; Subkey: Software\idlebox.net; Flags: dontcreatekey uninsdeletekeyifempty
