<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=iso-8859-1" http-equiv="content-type" /><title>/2006/SDIOS06/sdios06/include/jpeglib.h - panthema.net</title><link rel="stylesheet" type="text/css" href="/css/base.css" /><link rel="alternate" type="application/rss+xml" title="panthema.net Weblog Feed RSS 2.0" href="http://panthema.net/xmlfeed/weblog-rss20.xml" /><link rel="alternate" type="application/atom+xml" title="panthema.net Weblog Feed Atom 1.0" href="http://panthema.net/xmlfeed/weblog-atom10.xml" /><script type="text/javascript" src="/js/base.js"></script><script type="text/javascript">/* <!-- */makeIEHover = function() {var lis = document.getElementById('ptnav').getElementsByTagName('li');for (var i = 0; i < lis.length; i++) {lis[i].onmouseover = function() {this.className += ' sfhover';};lis[i].onmouseout = function() {this.className = this.className.replace(new RegExp(' sfhover\b'), '');};}};if (window.attachEvent) window.attachEvent('onload', makeIEHover);/* --> */</script></head><body style="background-image: url(/img/bgfractal6.jpg)"><div class="pttopbar"><div style="float: right"><ul id="ptnav"><li class="top"><a class="ni" href="/">Weblog</a><ul style="margin-left: -6px; margin-top: 4px" class="nx"><li><a href="/2013/">2013</a></li><li><a href="/2012/">2012</a></li><li><a href="/2011/">2011</a></li><li><a href="/2010/">2010</a></li><li><a href="/2009/">2009</a></li><li><a href="/2008/">2008</a></li><li><a href="/2007/">2007</a></li><li><a href="/2006/">2006</a></li><li class="nt"><a href="/2005/">2005</a></li><li class="ns"><a href="/xmlfeed/weblog-rss20.xml">RSS Feed</a></li><li class="nt"><a href="/xmlfeed/weblog-atom10.xml">XML Atom</a></li><li class="ns"><a href="/search.html">Search</a></li></ul></li><li class="top"><a class="ni" href="/tags/">Tags</a><div style="width: 14em; margin-left: -9em; margin-top: 4px"><a style="font-size: 10pt" href="/tags/algebra.html">algebra</a> <a style="font-size: 16pt" href="/tags/c++.html">c++</a> <a style="font-size: 12pt" href="/tags/code-example.html">code-example</a> <a style="font-size: 14pt" href="/tags/code-snippet.html">code-snippet</a> <a style="font-size: 11pt" href="/tags/coding_tricks.html">coding tricks</a> <a style="font-size: 10pt" href="/tags/compsci.html">compsci</a> <a style="font-size: 10pt" href="/tags/compsci_study_thesis.html">compsci study thesis</a> <a style="font-size: 9pt" href="/tags/crypto-speedtest.html">crypto-speedtest</a> <a style="font-size: 10pt" href="/tags/cryptography.html">cryptography</a> <a style="font-size: 9pt" href="/tags/cryptote.html">cryptote</a> <a style="font-size: 12pt" href="/tags/flex-bison-cpp-example.html">flex-bison-cpp-example</a> <a style="font-size: 12pt" href="/tags/frontpage.html">frontpage</a> <a style="font-size: 13pt" href="/tags/fun.html">fun</a> <a style="font-size: 10pt" href="/tags/graphviz.html">graphviz</a> <a style="font-size: 9pt" href="http://www.hmtg.de">hartmetall</a> <a style="font-size: 9pt" href="/tags/helppc.html">helppc</a> <a style="font-size: 9pt" href="/tags/hifi_selbstbau.html">hifi selbstbau</a> <a style="font-size: 10pt" href="/tags/latex.html">latex</a> <a style="font-size: 10pt" href="/tags/librivox.html">librivox</a> <a style="font-size: 10pt" href="/tags/linux.html">linux</a> <a style="font-size: 10pt" href="/tags/maths.html">maths</a> <a style="font-size: 9pt" href="/tags/music.html">music</a> <a style="font-size: 10pt" href="/tags/netfundamentals.html">netfundamentals</a> <a style="font-size: 11pt" href="/tags/ns-3.html">ns-3</a> <a style="font-size: 9pt" href="/tags/parallel-string-sorting.html">parallel-string-sorting</a> <a style="font-size: 9pt" href="/tags/qtsqlview.html">qtsqlview</a> <a style="font-size: 10pt" href="/tags/research.html">research</a> <a style="font-size: 11pt" href="/tags/sdios06.html">sdios06</a> <a style="font-size: 9pt" href="/tags/sdlfractal.html">sdlfractal</a> <a style="font-size: 11pt" href="/tags/sorting.html">sorting</a> <a style="font-size: 10pt" href="/tags/stringology.html">stringology</a> <a style="font-size: 16pt" href="/tags/stx-btree.html">stx-btree</a> <a style="font-size: 9pt" href="/tags/stx-exparser.html">stx-exparser</a> <a style="font-size: 10pt" href="/tags/stxxl.html">stxxl</a> <a style="font-size: 15pt" href="/tags/talk.html">talk</a> <a style="font-size: 10pt" href="/tags/tutorium.html">tutorium</a> <a style="font-size: 16pt" href="/tags/university.html">university</a> <a style="font-size: 13pt" href="/tags/utilities.html">utilities</a> <a style="font-size: 9pt" href="/tags/webdesign.html">webdesign</a> </div></li><li class="top"> <a class="ni" href="#">Projects</a> <ul style="margin-left: -8em; margin-top: 4px;" class="nx"> <li><a href="/2009/cryptote/">CryptoTE</a></li> <li><a href="/2009/digup/">digup</a></li> <li><a href="/2013/disk-filltest/">disk-filltest</a></li> <li><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">eSAIS-LCP</a></li> <li><a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a></li> <li><a href="/2013/malloc_count/">malloc_count</a></li> <li><a href="/2013/parallel-string-sorting/">parallel-string-sorting</a></li> <li><a href="/2013/pmbw/">Parallel Memory Bandwidth</a></li> <li><a href="/2013/sound-of-sorting/">The Sound of Sorting</a></li> <li><a href="/2007/stx-btree/">STX B+ Tree</a></li> <li><a href="/2010/stx-cbtreedb/">STX Constant BTreeDB</a></li> <li><a href="/2010/stx-execpipe/">STX ExecPipe</a></li> <li><a href="/2007/stx-exparser/">STX Expression Parser</a></li> <li class="nt"><a href="/2013/1212-stxxl-1.4.0/">STXXL 1.4</a></li> <li class="ns"><a href="/search.html">Search</a></li> </ul></li><li class="top"> <a class="ni" href="#">Research</a> <ul style="margin-left: -16em; margin-top: 4px" class="nx"> <li><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">eSAIS-LCP - External Memory Suffix Sorting</a></li> <li><a href="/2013/parallel-string-sorting/">pS5 - Parallel String Sorting</a></li> <li><a href="/tags/stxxl.html">STXXL - External Memory Algorithms</a></li> <li class="ns"><a href="/search.html">Search</a></li> </ul></li><li class="top"> <a class="ni" href="/about/">About</a> <ul style="margin-left: -6em; margin-top: 4px" class="nx"> <li><a href="/about/">Timo Bingmann</a></li> <li><a href="/about/impressum.html">Impressum</a></li> </ul></li></ul></div><div style="padding: 6px"><a href="/">panthema</a>  / <a href="/2006/">2006</a> / <a href="/2006/SDIOS06/">SDIOS06</a> / <a href="/2006/SDIOS06/sdios06/">sdios06</a> / <a href="/2006/SDIOS06/sdios06/include/">include</a> / <a href="/2006/SDIOS06/sdios06/include/jpeglib.h.html">jpeglib.h</a> (<a href="/2006/SDIOS06/sdios06/include/jpeglib.h">Download File</a>)</div></div><div class="ptfullwidth"><pre class="codesnippet" style="font-family: monospace"><tt><span class="comment">/*</span>
<span class="comment"> * jpeglib.h</span>
<span class="comment"> *</span>
<span class="comment"> * Copyright (C) 1991-1998, Thomas G. Lane.</span>
<span class="comment"> * This file is part of the Independent JPEG Group's software.</span>
<span class="comment"> * For conditions of distribution and use, see the accompanying README file.</span>
<span class="comment"> *</span>
<span class="comment"> * This file defines the application interface for the JPEG library.</span>
<span class="comment"> * Most applications using the library need only include this file,</span>
<span class="comment"> * and perhaps jerror.h if they want to know the exact error codes.</span>
<span class="comment"> */</span>

<span class="preproc">#ifndef</span><span class="normal"> JPEGLIB_H</span>
<span class="preproc">#define</span><span class="normal"> JPEGLIB_H</span>

<span class="comment">/*</span>
<span class="comment"> * First we include the configuration files that record how this</span>
<span class="comment"> * installation of the JPEG library is set up.  jconfig.h can be</span>
<span class="comment"> * generated automatically for many systems.  jmorecfg.h contains</span>
<span class="comment"> * manual configuration options that most people need not worry about.</span>
<span class="comment"> */</span>

<span class="preproc">#ifndef</span><span class="normal"> JCONFIG_INCLUDED	</span><span class="comment">/* in case jinclude.h already did */</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">"jconfig.h"</span><span class="normal">		</span><span class="comment">/* widely used configuration options */</span>
<span class="preproc">#endif</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">"jmorecfg.h"</span><span class="normal">		</span><span class="comment">/* seldom changed options */</span>


<span class="comment">/* Version ID for the JPEG library.</span>
<span class="comment"> * Might be useful for tests like "#if JPEG_LIB_VERSION &gt;= 60".</span>
<span class="comment"> */</span>

<span class="preproc">#define</span><span class="normal"> JPEG_LIB_VERSION  </span><span class="number">62</span><span class="normal">	</span><span class="comment">/* Version 6b */</span>


<span class="comment">/* Various constants determining the sizes of things.</span>
<span class="comment"> * All of these are specified by the JPEG standard, so don't change them</span>
<span class="comment"> * if you want to be compatible.</span>
<span class="comment"> */</span>

<span class="preproc">#define</span><span class="normal"> DCTSIZE		    </span><span class="number">8</span><span class="normal">	</span><span class="comment">/* The basic DCT block is 8x8 samples */</span>
<span class="preproc">#define</span><span class="normal"> DCTSIZE2	    </span><span class="number">64</span><span class="normal">	</span><span class="comment">/* DCTSIZE squared; # of elements in a block */</span>
<span class="preproc">#define</span><span class="normal"> NUM_QUANT_TBLS      </span><span class="number">4</span><span class="normal">	</span><span class="comment">/* Quantization tables are numbered 0..3 */</span>
<span class="preproc">#define</span><span class="normal"> NUM_HUFF_TBLS       </span><span class="number">4</span><span class="normal">	</span><span class="comment">/* Huffman tables are numbered 0..3 */</span>
<span class="preproc">#define</span><span class="normal"> NUM_ARITH_TBLS      </span><span class="number">16</span><span class="normal">	</span><span class="comment">/* Arith-coding tables are numbered 0..15 */</span>
<span class="preproc">#define</span><span class="normal"> MAX_COMPS_IN_SCAN   </span><span class="number">4</span><span class="normal">	</span><span class="comment">/* JPEG limit on # of components in one scan */</span>
<span class="preproc">#define</span><span class="normal"> MAX_SAMP_FACTOR     </span><span class="number">4</span><span class="normal">	</span><span class="comment">/* JPEG limit on sampling factors */</span>
<span class="comment">/* Unfortunately, some bozo at Adobe saw no reason to be bound by the standard;</span>
<span class="comment"> * the PostScript DCT filter can emit files with many more than 10 blocks/MCU.</span>
<span class="comment"> * If you happen to run across such a file, you can up D_MAX_BLOCKS_IN_MCU</span>
<span class="comment"> * to handle it.  We even let you do this from the jconfig.h file.  However,</span>
<span class="comment"> * we strongly discourage changing C_MAX_BLOCKS_IN_MCU; just because Adobe</span>
<span class="comment"> * sometimes emits noncompliant files doesn't mean you should too.</span>
<span class="comment"> */</span>
<span class="preproc">#define</span><span class="normal"> C_MAX_BLOCKS_IN_MCU   </span><span class="number">10</span><span class="normal"> </span><span class="comment">/* compressor's limit on blocks per MCU */</span>
<span class="preproc">#ifndef</span><span class="normal"> D_MAX_BLOCKS_IN_MCU</span>
<span class="preproc">#define</span><span class="normal"> D_MAX_BLOCKS_IN_MCU   </span><span class="number">10</span><span class="normal"> </span><span class="comment">/* decompressor's limit on blocks per MCU */</span>
<span class="preproc">#endif</span>


<span class="comment">/* Data structures for images (arrays of samples and of DCT coefficients).</span>
<span class="comment"> * On 80x86 machines, the image arrays are too big for near pointers,</span>
<span class="comment"> * but the pointer arrays can fit in near memory.</span>
<span class="comment"> */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="usertype">JSAMPLE</span><span class="normal"> </span><span class="usertype">FAR</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">JSAMPROW</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* ptr to one image row of pixel samples. */</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="usertype">JSAMPROW</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">JSAMPARRAY</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* ptr to some rows (a 2-D sample array) */</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="usertype">JSAMPARRAY</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">JSAMPIMAGE</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* a 3-D sample array: top index is color */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="usertype">JCOEF</span><span class="normal"> JBLOCK</span><span class="symbol">[</span><span class="normal">DCTSIZE2</span><span class="symbol">];</span><span class="normal">	</span><span class="comment">/* one block of coefficients */</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="usertype">JBLOCK</span><span class="normal"> </span><span class="usertype">FAR</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">JBLOCKROW</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* pointer to one row of coefficient blocks */</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="usertype">JBLOCKROW</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">JBLOCKARRAY</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* a 2-D array of coefficient blocks */</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="usertype">JBLOCKARRAY</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">JBLOCKIMAGE</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* a 3-D array of coefficient blocks */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="usertype">JCOEF</span><span class="normal"> </span><span class="usertype">FAR</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">JCOEFPTR</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* useful in a couple of places */</span>


<span class="comment">/* Types for JPEG compression parameters and working tables. */</span>


<span class="comment">/* DCT coefficient quantization tables. */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="comment">/* This array gives the coefficient quantizers in natural array order</span>
<span class="comment">   * (not the zigzag order in which they are stored in a JPEG DQT marker).</span>
<span class="comment">   * CAUTION: IJG versions prior to v6a kept this array in zigzag order.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">UINT16</span><span class="normal"> quantval</span><span class="symbol">[</span><span class="normal">DCTSIZE2</span><span class="symbol">];</span><span class="normal">	</span><span class="comment">/* quantization step for each coefficient */</span>
<span class="normal">  </span><span class="comment">/* This field is used only during compression.  It's initialized FALSE when</span>
<span class="comment">   * the table is created, and set TRUE when it's been output to the file.</span>
<span class="comment">   * You could suppress output of a table by setting this to TRUE.</span>
<span class="comment">   * (See jpeg_suppress_tables for an example.)</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> sent_table</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* TRUE when table has been output */</span>
<span class="cbracket">}</span><span class="normal"> JQUANT_TBL</span><span class="symbol">;</span>


<span class="comment">/* Huffman coding tables. */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="comment">/* These two fields directly represent the contents of a JPEG DHT marker */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> bits</span><span class="symbol">[</span><span class="number">17</span><span class="symbol">];</span><span class="normal">		</span><span class="comment">/* bits[k] = # of symbols with codes of */</span>
<span class="normal">				</span><span class="comment">/* length k bits; bits[0] is unused */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> huffval</span><span class="symbol">[</span><span class="number">256</span><span class="symbol">];</span><span class="normal">		</span><span class="comment">/* The symbols, in order of incr code length */</span>
<span class="normal">  </span><span class="comment">/* This field is used only during compression.  It's initialized FALSE when</span>
<span class="comment">   * the table is created, and set TRUE when it's been output to the file.</span>
<span class="comment">   * You could suppress output of a table by setting this to TRUE.</span>
<span class="comment">   * (See jpeg_suppress_tables for an example.)</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> sent_table</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* TRUE when table has been output */</span>
<span class="cbracket">}</span><span class="normal"> JHUFF_TBL</span><span class="symbol">;</span>


<span class="comment">/* Basic info about one component (color channel). */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="comment">/* These values are fixed over the whole image. */</span>
<span class="normal">  </span><span class="comment">/* For compression, they must be supplied by parameter setup; */</span>
<span class="normal">  </span><span class="comment">/* for decompression, they are read from the SOF marker. */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> component_id</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* identifier for this component (0..255) */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> component_index</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* its index in SOF or cinfo-&gt;comp_info[] */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> h_samp_factor</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* horizontal sampling factor (1..4) */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> v_samp_factor</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* vertical sampling factor (1..4) */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> quant_tbl_no</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* quantization table selector (0..3) */</span>
<span class="normal">  </span><span class="comment">/* These values may vary between scans. */</span>
<span class="normal">  </span><span class="comment">/* For compression, they must be supplied by parameter setup; */</span>
<span class="normal">  </span><span class="comment">/* for decompression, they are read from the SOS marker. */</span>
<span class="normal">  </span><span class="comment">/* The decompressor output side may not use these variables. */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> dc_tbl_no</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* DC entropy table selector (0..3) */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> ac_tbl_no</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* AC entropy table selector (0..3) */</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="comment">/* Remaining fields should be treated as private by applications. */</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="comment">/* These values are computed during compression or decompression startup: */</span>
<span class="normal">  </span><span class="comment">/* Component's size in DCT blocks.</span>
<span class="comment">   * Any dummy blocks added to complete an MCU are not counted; therefore</span>
<span class="comment">   * these values do not depend on whether a scan is interleaved or not.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> width_in_blocks</span><span class="symbol">;</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> height_in_blocks</span><span class="symbol">;</span>
<span class="normal">  </span><span class="comment">/* Size of a DCT block in samples.  Always DCTSIZE for compression.</span>
<span class="comment">   * For decompression this is the size of the output from one DCT block,</span>
<span class="comment">   * reflecting any scaling we choose to apply during the IDCT step.</span>
<span class="comment">   * Values of 1,2,4,8 are likely to be supported.  Note that different</span>
<span class="comment">   * components may receive different IDCT scalings.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> DCT_scaled_size</span><span class="symbol">;</span>
<span class="normal">  </span><span class="comment">/* The downsampled dimensions are the component's actual, unpadded number</span>
<span class="comment">   * of samples at the main buffer (preprocessing/compression interface), thus</span>
<span class="comment">   * downsampled_width = ceil(image_width * Hi/Hmax)</span>
<span class="comment">   * and similarly for height.  For decompression, IDCT scaling is included, so</span>
<span class="comment">   * downsampled_width = ceil(image_width * Hi/Hmax * DCT_scaled_size/DCTSIZE)</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> downsampled_width</span><span class="symbol">;</span><span class="normal">	 </span><span class="comment">/* actual width in samples */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> downsampled_height</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* actual height in samples */</span>
<span class="normal">  </span><span class="comment">/* This flag is used only for decompression.  In cases where some of the</span>
<span class="comment">   * components will be ignored (eg grayscale output from YCbCr image),</span>
<span class="comment">   * we can skip most computations for the unused components.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> component_needed</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* do we need the value of this component? */</span>

<span class="normal">  </span><span class="comment">/* These values are computed before starting a scan of the component. */</span>
<span class="normal">  </span><span class="comment">/* The decompressor output side may not use these variables. */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> MCU_width</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* number of blocks per MCU, horizontally */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> MCU_height</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* number of blocks per MCU, vertically */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> MCU_blocks</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* MCU_width * MCU_height */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> MCU_sample_width</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* MCU width in samples, MCU_width*DCT_scaled_size */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> last_col_width</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of non-dummy blocks across in last MCU */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> last_row_height</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of non-dummy blocks down in last MCU */</span>

<span class="normal">  </span><span class="comment">/* Saved quantization table for component; NULL if none yet saved.</span>
<span class="comment">   * See jdinput.c comments about the need for this information.</span>
<span class="comment">   * This field is currently used only for decompression.</span>
<span class="comment">   */</span>
<span class="normal">  JQUANT_TBL </span><span class="symbol">*</span><span class="normal"> quant_table</span><span class="symbol">;</span>

<span class="normal">  </span><span class="comment">/* Private per-component storage for DCT or IDCT subsystem. */</span>
<span class="normal">  </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> dct_table</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="normal"> jpeg_component_info</span><span class="symbol">;</span>


<span class="comment">/* The script for encoding a multiple-scan file is an array of these: */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> comps_in_scan</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* number of components encoded in this scan */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> component_index</span><span class="symbol">[</span><span class="normal">MAX_COMPS_IN_SCAN</span><span class="symbol">];</span><span class="normal"> </span><span class="comment">/* their SOF/comp_info[] indexes */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> Ss</span><span class="symbol">,</span><span class="normal"> Se</span><span class="symbol">;</span><span class="normal">			</span><span class="comment">/* progressive JPEG spectral selection parms */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> Ah</span><span class="symbol">,</span><span class="normal"> Al</span><span class="symbol">;</span><span class="normal">			</span><span class="comment">/* progressive JPEG successive approx. parms */</span>
<span class="cbracket">}</span><span class="normal"> jpeg_scan_info</span><span class="symbol">;</span>

<span class="comment">/* The decompressor can save APPn and COM markers in a list of these: */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_marker_struct</span><span class="normal"> FAR </span><span class="symbol">*</span><span class="normal"> jpeg_saved_marker_ptr</span><span class="symbol">;</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_marker_struct</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="usertype">jpeg_saved_marker_ptr</span><span class="normal"> next</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* next in list, or NULL */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> marker</span><span class="symbol">;</span><span class="normal">			</span><span class="comment">/* marker code: JPEG_COM, or JPEG_APP0+n */</span>
<span class="normal">  </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> original_length</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # bytes of data in the file */</span>
<span class="normal">  </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> data_length</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # bytes of data saved at data[] */</span>
<span class="normal">  </span><span class="usertype">JOCTET</span><span class="normal"> FAR </span><span class="symbol">*</span><span class="normal"> data</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* the data contained in the marker */</span>
<span class="normal">  </span><span class="comment">/* the marker length word is not counted in data_length or original_length */</span>
<span class="cbracket">}</span><span class="symbol">;</span>

<span class="comment">/* Known color spaces. */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">enum</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	JCS_UNKNOWN</span><span class="symbol">,</span><span class="normal">		</span><span class="comment">/* error/unspecified */</span>
<span class="normal">	JCS_GRAYSCALE</span><span class="symbol">,</span><span class="normal">		</span><span class="comment">/* monochrome */</span>
<span class="normal">	JCS_RGB</span><span class="symbol">,</span><span class="normal">		</span><span class="comment">/* red/green/blue */</span>
<span class="normal">	JCS_YCbCr</span><span class="symbol">,</span><span class="normal">		</span><span class="comment">/* Y/Cb/Cr (also known as YUV) */</span>
<span class="normal">	JCS_CMYK</span><span class="symbol">,</span><span class="normal">		</span><span class="comment">/* C/M/Y/K */</span>
<span class="normal">	JCS_YCCK		</span><span class="comment">/* Y/Cb/Cr/K */</span>
<span class="cbracket">}</span><span class="normal"> J_COLOR_SPACE</span><span class="symbol">;</span>

<span class="comment">/* DCT/IDCT algorithm options. */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">enum</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	JDCT_ISLOW</span><span class="symbol">,</span><span class="normal">		</span><span class="comment">/* slow but accurate integer algorithm */</span>
<span class="normal">	JDCT_IFAST</span><span class="symbol">,</span><span class="normal">		</span><span class="comment">/* faster, less accurate integer method */</span>
<span class="normal">	JDCT_FLOAT		</span><span class="comment">/* floating-point: accurate, fast on fast HW */</span>
<span class="cbracket">}</span><span class="normal"> J_DCT_METHOD</span><span class="symbol">;</span>

<span class="preproc">#ifndef</span><span class="normal"> JDCT_DEFAULT		</span><span class="comment">/* may be overridden in jconfig.h */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="usertype">JDCT_DEFAULT</span><span class="normal">  JDCT_ISLOW</span>
<span class="preproc">#endif</span>
<span class="preproc">#ifndef</span><span class="normal"> JDCT_FASTEST		</span><span class="comment">/* may be overridden in jconfig.h */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="usertype">JDCT_FASTEST</span><span class="normal">  JDCT_IFAST</span>
<span class="preproc">#endif</span>

<span class="comment">/* Dithering options for decompression. */</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">enum</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	JDITHER_NONE</span><span class="symbol">,</span><span class="normal">		</span><span class="comment">/* no dithering */</span>
<span class="normal">	JDITHER_ORDERED</span><span class="symbol">,</span><span class="normal">	</span><span class="comment">/* simple ordered dither */</span>
<span class="normal">	JDITHER_FS		</span><span class="comment">/* Floyd-Steinberg error diffusion dither */</span>
<span class="cbracket">}</span><span class="normal"> J_DITHER_MODE</span><span class="symbol">;</span>


<span class="comment">/* Common fields between JPEG compression and decompression master structs. */</span>

<span class="preproc">#define</span><span class="normal"> jpeg_common_fields </span><span class="symbol">\</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_error_mgr</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> err</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* Error handler module */</span><span class="symbol">\</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_memory_mgr</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> mem</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* Memory manager module */</span><span class="symbol">\</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_progress_mgr</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> progress</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* Progress monitor, or NULL if none */</span><span class="symbol">\</span>
<span class="normal">  </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> client_data</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* Available for use by application */</span><span class="symbol">\</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> is_decompressor</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* So common code can tell which is which */</span><span class="symbol">\</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> global_state		</span><span class="comment">/* For checking call sequence validity */</span>

<span class="comment">/* Routines that are to be used by both halves of the library are declared</span>
<span class="comment"> * to receive a pointer to this structure.  There are no actual instances of</span>
<span class="comment"> * jpeg_common_struct, only of jpeg_compress_struct and jpeg_decompress_struct.</span>
<span class="comment"> */</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_common_struct</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  jpeg_common_fields</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* Fields common to both master struct types */</span>
<span class="normal">  </span><span class="comment">/* Additional fields follow in an actual jpeg_compress_struct or</span>
<span class="comment">   * jpeg_decompress_struct.  All three structs must agree on these</span>
<span class="comment">   * initial fields!  (This would be a lot cleaner in C++.)</span>
<span class="comment">   */</span>
<span class="cbracket">}</span><span class="symbol">;</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_common_struct</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> j_common_ptr</span><span class="symbol">;</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_compress_struct</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> j_compress_ptr</span><span class="symbol">;</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_decompress_struct</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> j_decompress_ptr</span><span class="symbol">;</span>


<span class="comment">/* Master record for a compression instance */</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_compress_struct</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  jpeg_common_fields</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* Fields shared with jpeg_decompress_struct */</span>

<span class="normal">  </span><span class="comment">/* Destination for compressed data */</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_destination_mgr</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> dest</span><span class="symbol">;</span>

<span class="normal">  </span><span class="comment">/* Description of source image --- these fields must be filled in by</span>
<span class="comment">   * outer application before starting compression.  in_color_space must</span>
<span class="comment">   * be correct before you can even call jpeg_set_defaults().</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> image_width</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* input image width */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> image_height</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* input image height */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> input_components</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of color components in input image */</span>
<span class="normal">  </span><span class="usertype">J_COLOR_SPACE</span><span class="normal"> in_color_space</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* colorspace of input image */</span>

<span class="normal">  </span><span class="type">double</span><span class="normal"> input_gamma</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* image gamma of input image */</span>

<span class="normal">  </span><span class="comment">/* Compression parameters --- these fields must be set before calling</span>
<span class="comment">   * jpeg_start_compress().  We recommend calling jpeg_set_defaults() to</span>
<span class="comment">   * initialize everything to reasonable defaults, then changing anything</span>
<span class="comment">   * the application specifically wants to change.  That way you won't get</span>
<span class="comment">   * burnt when new parameters are added.  Also note that there are several</span>
<span class="comment">   * helper routines to simplify changing parameters.</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="type">int</span><span class="normal"> data_precision</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* bits of precision in image data */</span>

<span class="normal">  </span><span class="type">int</span><span class="normal"> num_components</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of color components in JPEG image */</span>
<span class="normal">  </span><span class="usertype">J_COLOR_SPACE</span><span class="normal"> jpeg_color_space</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* colorspace of JPEG image */</span>

<span class="normal">  jpeg_component_info </span><span class="symbol">*</span><span class="normal"> comp_info</span><span class="symbol">;</span>
<span class="normal">  </span><span class="comment">/* comp_info[i] describes component that appears i'th in SOF */</span>
<span class="normal">  </span>
<span class="normal">  JQUANT_TBL </span><span class="symbol">*</span><span class="normal"> quant_tbl_ptrs</span><span class="symbol">[</span><span class="normal">NUM_QUANT_TBLS</span><span class="symbol">];</span>
<span class="normal">  </span><span class="comment">/* ptrs to coefficient quantization tables, or NULL if not defined */</span>
<span class="normal">  </span>
<span class="normal">  JHUFF_TBL </span><span class="symbol">*</span><span class="normal"> dc_huff_tbl_ptrs</span><span class="symbol">[</span><span class="normal">NUM_HUFF_TBLS</span><span class="symbol">];</span>
<span class="normal">  JHUFF_TBL </span><span class="symbol">*</span><span class="normal"> ac_huff_tbl_ptrs</span><span class="symbol">[</span><span class="normal">NUM_HUFF_TBLS</span><span class="symbol">];</span>
<span class="normal">  </span><span class="comment">/* ptrs to Huffman coding tables, or NULL if not defined */</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> arith_dc_L</span><span class="symbol">[</span><span class="normal">NUM_ARITH_TBLS</span><span class="symbol">];</span><span class="normal"> </span><span class="comment">/* L values for DC arith-coding tables */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> arith_dc_U</span><span class="symbol">[</span><span class="normal">NUM_ARITH_TBLS</span><span class="symbol">];</span><span class="normal"> </span><span class="comment">/* U values for DC arith-coding tables */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> arith_ac_K</span><span class="symbol">[</span><span class="normal">NUM_ARITH_TBLS</span><span class="symbol">];</span><span class="normal"> </span><span class="comment">/* Kx values for AC arith-coding tables */</span>

<span class="normal">  </span><span class="type">int</span><span class="normal"> num_scans</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of entries in scan_info array */</span>
<span class="normal">  </span><span class="keyword">const</span><span class="normal"> jpeg_scan_info </span><span class="symbol">*</span><span class="normal"> scan_info</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* script for multi-scan file, or NULL */</span>
<span class="normal">  </span><span class="comment">/* The default value of scan_info is NULL, which causes a single-scan</span>
<span class="comment">   * sequential JPEG file to be emitted.  To create a multi-scan file,</span>
<span class="comment">   * set num_scans and scan_info to point to an array of scan definitions.</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> raw_data_in</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* TRUE=caller supplies downsampled data */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> arith_code</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* TRUE=arithmetic coding, FALSE=Huffman */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> optimize_coding</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE=optimize entropy encoding parms */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> CCIR601_sampling</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE=first samples are cosited */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> smoothing_factor</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* 1..100, or 0 for no input smoothing */</span>
<span class="normal">  </span><span class="usertype">J_DCT_METHOD</span><span class="normal"> dct_method</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* DCT algorithm selector */</span>

<span class="normal">  </span><span class="comment">/* The restart interval can be specified in absolute MCUs by setting</span>
<span class="comment">   * restart_interval, or in MCU rows by setting restart_in_rows</span>
<span class="comment">   * (in which case the correct restart_interval will be figured</span>
<span class="comment">   * for each scan).</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> restart_interval</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* MCUs per restart, or 0 for no restart */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> restart_in_rows</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* if &gt; 0, MCU rows per restart interval */</span>

<span class="normal">  </span><span class="comment">/* Parameters controlling emission of special markers. */</span>

<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> write_JFIF_header</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* should a JFIF marker be written? */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> JFIF_major_version</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* What to write for the JFIF version number */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> JFIF_minor_version</span><span class="symbol">;</span>
<span class="normal">  </span><span class="comment">/* These three values are not used by the JPEG code, merely copied */</span>
<span class="normal">  </span><span class="comment">/* into the JFIF APP0 marker.  density_unit can be 0 for unknown, */</span>
<span class="normal">  </span><span class="comment">/* 1 for dots/inch, or 2 for dots/cm.  Note that the pixel aspect */</span>
<span class="normal">  </span><span class="comment">/* ratio is defined by X_density/Y_density even when density_unit=0. */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> density_unit</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* JFIF code for pixel size units */</span>
<span class="normal">  </span><span class="usertype">UINT16</span><span class="normal"> X_density</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* Horizontal pixel density */</span>
<span class="normal">  </span><span class="usertype">UINT16</span><span class="normal"> Y_density</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* Vertical pixel density */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> write_Adobe_marker</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* should an Adobe marker be written? */</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="comment">/* State variable: index of next scanline to be written to</span>
<span class="comment">   * jpeg_write_scanlines().  Application may use this to control its</span>
<span class="comment">   * processing loop, e.g., "while (next_scanline &lt; image_height)".</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> next_scanline</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* 0 .. image_height-1  */</span>

<span class="normal">  </span><span class="comment">/* Remaining fields are known throughout compressor, but generally</span>
<span class="comment">   * should not be touched by a surrounding application.</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="comment">/*</span>
<span class="comment">   * These fields are computed during compression startup</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> progressive_mode</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE if scan script uses progressive mode */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> max_h_samp_factor</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* largest h_samp_factor */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> max_v_samp_factor</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* largest v_samp_factor */</span>

<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> total_iMCU_rows</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of iMCU rows to be input to coef ctlr */</span>
<span class="normal">  </span><span class="comment">/* The coefficient controller receives data in units of MCU rows as defined</span>
<span class="comment">   * for fully interleaved scans (whether the JPEG file is interleaved or not).</span>
<span class="comment">   * There are v_samp_factor * DCTSIZE sample rows of each component in an</span>
<span class="comment">   * "iMCU" (interleaved MCU) row.</span>
<span class="comment">   */</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="comment">/*</span>
<span class="comment">   * These fields are valid during any one scan.</span>
<span class="comment">   * They describe the components and MCUs actually appearing in the scan.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> comps_in_scan</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of JPEG components in this scan */</span>
<span class="normal">  jpeg_component_info </span><span class="symbol">*</span><span class="normal"> cur_comp_info</span><span class="symbol">[</span><span class="normal">MAX_COMPS_IN_SCAN</span><span class="symbol">];</span>
<span class="normal">  </span><span class="comment">/* *cur_comp_info[i] describes component that appears i'th in SOS */</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> MCUs_per_row</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of MCUs across the image */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> MCU_rows_in_scan</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of MCU rows in the image */</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> blocks_in_MCU</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of DCT blocks per MCU */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> MCU_membership</span><span class="symbol">[</span><span class="normal">C_MAX_BLOCKS_IN_MCU</span><span class="symbol">];</span>
<span class="normal">  </span><span class="comment">/* MCU_membership[i] is index in cur_comp_info of component owning */</span>
<span class="normal">  </span><span class="comment">/* i'th block in an MCU */</span>

<span class="normal">  </span><span class="type">int</span><span class="normal"> Ss</span><span class="symbol">,</span><span class="normal"> Se</span><span class="symbol">,</span><span class="normal"> Ah</span><span class="symbol">,</span><span class="normal"> Al</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* progressive JPEG parameters for scan */</span>

<span class="normal">  </span><span class="comment">/*</span>
<span class="comment">   * Links to compression subobjects (methods and private variables of modules)</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_comp_master</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> master</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_c_main_controller</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> main</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_c_prep_controller</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> prep</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_c_coef_controller</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> coef</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_marker_writer</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> marker</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_color_converter</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> cconvert</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_downsampler</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> downsample</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_forward_dct</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> fdct</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_entropy_encoder</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> entropy</span><span class="symbol">;</span>
<span class="normal">  jpeg_scan_info </span><span class="symbol">*</span><span class="normal"> script_space</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* workspace for jpeg_simple_progression */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> script_space_size</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="symbol">;</span>


<span class="comment">/* Master record for a decompression instance */</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_decompress_struct</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  jpeg_common_fields</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* Fields shared with jpeg_compress_struct */</span>

<span class="normal">  </span><span class="comment">/* Source of compressed data */</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_source_mgr</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> src</span><span class="symbol">;</span>

<span class="normal">  </span><span class="comment">/* Basic description of image --- filled in by jpeg_read_header(). */</span>
<span class="normal">  </span><span class="comment">/* Application may inspect these values to decide how to process image. */</span>

<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> image_width</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* nominal image width (from SOF marker) */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> image_height</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* nominal image height */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> num_components</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of color components in JPEG image */</span>
<span class="normal">  </span><span class="usertype">J_COLOR_SPACE</span><span class="normal"> jpeg_color_space</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* colorspace of JPEG image */</span>

<span class="normal">  </span><span class="comment">/* Decompression processing parameters --- these fields must be set before</span>
<span class="comment">   * calling jpeg_start_decompress().  Note that jpeg_read_header() initializes</span>
<span class="comment">   * them to default values.</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="usertype">J_COLOR_SPACE</span><span class="normal"> out_color_space</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* colorspace for output */</span>

<span class="normal">  </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> scale_num</span><span class="symbol">,</span><span class="normal"> scale_denom</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* fraction by which to scale image */</span>

<span class="normal">  </span><span class="type">double</span><span class="normal"> output_gamma</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* image gamma wanted in output */</span>

<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> buffered_image</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE=multiple output passes */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> raw_data_out</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* TRUE=downsampled data wanted */</span>

<span class="normal">  </span><span class="usertype">J_DCT_METHOD</span><span class="normal"> dct_method</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* IDCT algorithm selector */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> do_fancy_upsampling</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE=apply fancy upsampling */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> do_block_smoothing</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE=apply interblock smoothing */</span>

<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> quantize_colors</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE=colormapped output wanted */</span>
<span class="normal">  </span><span class="comment">/* the following are ignored if not quantize_colors: */</span>
<span class="normal">  </span><span class="usertype">J_DITHER_MODE</span><span class="normal"> dither_mode</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* type of color dithering to use */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> two_pass_quantize</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE=use two-pass color quantization */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> desired_number_of_colors</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* max # colors to use in created colormap */</span>
<span class="normal">  </span><span class="comment">/* these are significant only in buffered-image mode: */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> enable_1pass_quant</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* enable future use of 1-pass quantizer */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> enable_external_quant</span><span class="symbol">;</span><span class="comment">/* enable future use of external colormap */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> enable_2pass_quant</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* enable future use of 2-pass quantizer */</span>

<span class="normal">  </span><span class="comment">/* Description of actual output image that will be returned to application.</span>
<span class="comment">   * These fields are computed by jpeg_start_decompress().</span>
<span class="comment">   * You can also use jpeg_calc_output_dimensions() to determine these values</span>
<span class="comment">   * in advance of calling jpeg_start_decompress().</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> output_width</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* scaled image width */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> output_height</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* scaled image height */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> out_color_components</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of color components in out_color_space */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> output_components</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of color components returned */</span>
<span class="normal">  </span><span class="comment">/* output_components is 1 (a colormap index) when quantizing colors;</span>
<span class="comment">   * otherwise it equals out_color_components.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> rec_outbuf_height</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* min recommended height of scanline buffer */</span>
<span class="normal">  </span><span class="comment">/* If the buffer passed to jpeg_read_scanlines() is less than this many rows</span>
<span class="comment">   * high, space and time will be wasted due to unnecessary data copying.</span>
<span class="comment">   * Usually rec_outbuf_height will be 1 or 2, at most 4.</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="comment">/* When quantizing colors, the output colormap is described by these fields.</span>
<span class="comment">   * The application can supply a colormap by setting colormap non-NULL before</span>
<span class="comment">   * calling jpeg_start_decompress; otherwise a colormap is created during</span>
<span class="comment">   * jpeg_start_decompress or jpeg_start_output.</span>
<span class="comment">   * The map has out_color_components rows and actual_number_of_colors columns.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> actual_number_of_colors</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* number of entries in use */</span>
<span class="normal">  </span><span class="usertype">JSAMPARRAY</span><span class="normal"> colormap</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* The color map as a 2-D pixel array */</span>

<span class="normal">  </span><span class="comment">/* State variables: these variables indicate the progress of decompression.</span>
<span class="comment">   * The application may examine these but must not modify them.</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="comment">/* Row index of next scanline to be read from jpeg_read_scanlines().</span>
<span class="comment">   * Application may use this to control its processing loop, e.g.,</span>
<span class="comment">   * "while (output_scanline &lt; output_height)".</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> output_scanline</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* 0 .. output_height-1  */</span>

<span class="normal">  </span><span class="comment">/* Current input scan number and number of iMCU rows completed in scan.</span>
<span class="comment">   * These indicate the progress of the decompressor input side.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> input_scan_number</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* Number of SOS markers seen so far */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> input_iMCU_row</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* Number of iMCU rows completed */</span>

<span class="normal">  </span><span class="comment">/* The "output scan number" is the notional scan being displayed by the</span>
<span class="comment">   * output side.  The decompressor will not allow output scan/row number</span>
<span class="comment">   * to get ahead of input scan/row, but it can fall arbitrarily far behind.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> output_scan_number</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* Nominal scan number being displayed */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> output_iMCU_row</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* Number of iMCU rows read */</span>

<span class="normal">  </span><span class="comment">/* Current progression status.  coef_bits[c][i] indicates the precision</span>
<span class="comment">   * with which component c's DCT coefficient i (in zigzag order) is known.</span>
<span class="comment">   * It is -1 when no data has yet been received, otherwise it is the point</span>
<span class="comment">   * transform (shift) value for the most recent scan of the coefficient</span>
<span class="comment">   * (thus, 0 at completion of the progression).</span>
<span class="comment">   * This pointer is NULL when reading a non-progressive file.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">coef_bits</span><span class="symbol">)[</span><span class="normal">DCTSIZE2</span><span class="symbol">];</span><span class="normal">	</span><span class="comment">/* -1 or current Al value for each coef */</span>

<span class="normal">  </span><span class="comment">/* Internal JPEG parameters --- the application usually need not look at</span>
<span class="comment">   * these fields.  Note that the decompressor output side may not use</span>
<span class="comment">   * any parameters that can change between scans.</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="comment">/* Quantization and Huffman tables are carried forward across input</span>
<span class="comment">   * datastreams when processing abbreviated JPEG datastreams.</span>
<span class="comment">   */</span>

<span class="normal">  JQUANT_TBL </span><span class="symbol">*</span><span class="normal"> quant_tbl_ptrs</span><span class="symbol">[</span><span class="normal">NUM_QUANT_TBLS</span><span class="symbol">];</span>
<span class="normal">  </span><span class="comment">/* ptrs to coefficient quantization tables, or NULL if not defined */</span>

<span class="normal">  JHUFF_TBL </span><span class="symbol">*</span><span class="normal"> dc_huff_tbl_ptrs</span><span class="symbol">[</span><span class="normal">NUM_HUFF_TBLS</span><span class="symbol">];</span>
<span class="normal">  JHUFF_TBL </span><span class="symbol">*</span><span class="normal"> ac_huff_tbl_ptrs</span><span class="symbol">[</span><span class="normal">NUM_HUFF_TBLS</span><span class="symbol">];</span>
<span class="normal">  </span><span class="comment">/* ptrs to Huffman coding tables, or NULL if not defined */</span>

<span class="normal">  </span><span class="comment">/* These parameters are never carried across datastreams, since they</span>
<span class="comment">   * are given in SOF/SOS markers or defined to be reset by SOI.</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="type">int</span><span class="normal"> data_precision</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* bits of precision in image data */</span>

<span class="normal">  jpeg_component_info </span><span class="symbol">*</span><span class="normal"> comp_info</span><span class="symbol">;</span>
<span class="normal">  </span><span class="comment">/* comp_info[i] describes component that appears i'th in SOF */</span>

<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> progressive_mode</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE if SOFn specifies progressive mode */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> arith_code</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* TRUE=arithmetic coding, FALSE=Huffman */</span>

<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> arith_dc_L</span><span class="symbol">[</span><span class="normal">NUM_ARITH_TBLS</span><span class="symbol">];</span><span class="normal"> </span><span class="comment">/* L values for DC arith-coding tables */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> arith_dc_U</span><span class="symbol">[</span><span class="normal">NUM_ARITH_TBLS</span><span class="symbol">];</span><span class="normal"> </span><span class="comment">/* U values for DC arith-coding tables */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> arith_ac_K</span><span class="symbol">[</span><span class="normal">NUM_ARITH_TBLS</span><span class="symbol">];</span><span class="normal"> </span><span class="comment">/* Kx values for AC arith-coding tables */</span>

<span class="normal">  </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> restart_interval</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* MCUs per restart interval, or 0 for no restart */</span>

<span class="normal">  </span><span class="comment">/* These fields record data obtained from optional markers recognized by</span>
<span class="comment">   * the JPEG library.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> saw_JFIF_marker</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE iff a JFIF APP0 marker was found */</span>
<span class="normal">  </span><span class="comment">/* Data copied from JFIF marker; only valid if saw_JFIF_marker is TRUE: */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> JFIF_major_version</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* JFIF version number */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> JFIF_minor_version</span><span class="symbol">;</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> density_unit</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* JFIF code for pixel size units */</span>
<span class="normal">  </span><span class="usertype">UINT16</span><span class="normal"> X_density</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* Horizontal pixel density */</span>
<span class="normal">  </span><span class="usertype">UINT16</span><span class="normal"> Y_density</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* Vertical pixel density */</span>
<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> saw_Adobe_marker</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE iff an Adobe APP14 marker was found */</span>
<span class="normal">  </span><span class="usertype">UINT8</span><span class="normal"> Adobe_transform</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* Color transform code from Adobe marker */</span>

<span class="normal">  </span><span class="usertype">boolean</span><span class="normal"> CCIR601_sampling</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* TRUE=first samples are cosited */</span>

<span class="normal">  </span><span class="comment">/* Aside from the specific data retained from APPn markers known to the</span>
<span class="comment">   * library, the uninterpreted contents of any or all APPn and COM markers</span>
<span class="comment">   * can be saved in a list for examination by the application.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="usertype">jpeg_saved_marker_ptr</span><span class="normal"> marker_list</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* Head of list of saved markers */</span>

<span class="normal">  </span><span class="comment">/* Remaining fields are known throughout decompressor, but generally</span>
<span class="comment">   * should not be touched by a surrounding application.</span>
<span class="comment">   */</span>

<span class="normal">  </span><span class="comment">/*</span>
<span class="comment">   * These fields are computed during decompression startup</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> max_h_samp_factor</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* largest h_samp_factor */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> max_v_samp_factor</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* largest v_samp_factor */</span>

<span class="normal">  </span><span class="type">int</span><span class="normal"> min_DCT_scaled_size</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* smallest DCT_scaled_size of any component */</span>

<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> total_iMCU_rows</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of iMCU rows in image */</span>
<span class="normal">  </span><span class="comment">/* The coefficient controller's input and output progress is measured in</span>
<span class="comment">   * units of "iMCU" (interleaved MCU) rows.  These are the same as MCU rows</span>
<span class="comment">   * in fully interleaved JPEG scans, but are used whether the scan is</span>
<span class="comment">   * interleaved or not.  We define an iMCU row as v_samp_factor DCT block</span>
<span class="comment">   * rows of each component.  Therefore, the IDCT output contains</span>
<span class="comment">   * v_samp_factor*DCT_scaled_size sample rows of a component per iMCU row.</span>
<span class="comment">   */</span>

<span class="normal">  JSAMPLE </span><span class="symbol">*</span><span class="normal"> sample_range_limit</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* table for fast range-limiting */</span>

<span class="normal">  </span><span class="comment">/*</span>
<span class="comment">   * These fields are valid during any one scan.</span>
<span class="comment">   * They describe the components and MCUs actually appearing in the scan.</span>
<span class="comment">   * Note that the decompressor output side must not use these fields.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> comps_in_scan</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of JPEG components in this scan */</span>
<span class="normal">  jpeg_component_info </span><span class="symbol">*</span><span class="normal"> cur_comp_info</span><span class="symbol">[</span><span class="normal">MAX_COMPS_IN_SCAN</span><span class="symbol">];</span>
<span class="normal">  </span><span class="comment">/* *cur_comp_info[i] describes component that appears i'th in SOS */</span>

<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> MCUs_per_row</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of MCUs across the image */</span>
<span class="normal">  </span><span class="usertype">JDIMENSION</span><span class="normal"> MCU_rows_in_scan</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of MCU rows in the image */</span>

<span class="normal">  </span><span class="type">int</span><span class="normal"> blocks_in_MCU</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* # of DCT blocks per MCU */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> MCU_membership</span><span class="symbol">[</span><span class="normal">D_MAX_BLOCKS_IN_MCU</span><span class="symbol">];</span>
<span class="normal">  </span><span class="comment">/* MCU_membership[i] is index in cur_comp_info of component owning */</span>
<span class="normal">  </span><span class="comment">/* i'th block in an MCU */</span>

<span class="normal">  </span><span class="type">int</span><span class="normal"> Ss</span><span class="symbol">,</span><span class="normal"> Se</span><span class="symbol">,</span><span class="normal"> Ah</span><span class="symbol">,</span><span class="normal"> Al</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* progressive JPEG parameters for scan */</span>

<span class="normal">  </span><span class="comment">/* This field is shared between entropy decoder and marker parser.</span>
<span class="comment">   * It is either zero or the code of a JPEG marker that has been</span>
<span class="comment">   * read from the data source, but has not yet been processed.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> unread_marker</span><span class="symbol">;</span>

<span class="normal">  </span><span class="comment">/*</span>
<span class="comment">   * Links to decompression subobjects (methods, private variables of modules)</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_decomp_master</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> master</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_d_main_controller</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> main</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_d_coef_controller</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> coef</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_d_post_controller</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> post</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_input_controller</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> inputctl</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_marker_reader</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> marker</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_entropy_decoder</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> entropy</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_inverse_dct</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> idct</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_upsampler</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> upsample</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_color_deconverter</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> cconvert</span><span class="symbol">;</span>
<span class="normal">  </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_color_quantizer</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> cquantize</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="symbol">;</span>


<span class="comment">/* "Object" declarations for JPEG modules that may be supplied or called</span>
<span class="comment"> * directly by the surrounding application.</span>
<span class="comment"> * As with all objects in the JPEG library, these structs only define the</span>
<span class="comment"> * publicly visible methods and state variables of a module.  Additional</span>
<span class="comment"> * private fields may exist after the public ones.</span>
<span class="comment"> */</span>


<span class="comment">/* Error handler object */</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_error_mgr</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="comment">/* Error exit handler: does not return to caller */</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> error_exit</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="normal">  </span><span class="comment">/* Conditionally emit a trace or warning message */</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> emit_message</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> msg_level</span><span class="symbol">));</span>
<span class="normal">  </span><span class="comment">/* Routine that actually outputs a trace or error message */</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> output_message</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="normal">  </span><span class="comment">/* Format a message string for the most recent JPEG error or message */</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> format_message</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> buffer</span><span class="symbol">));</span>
<span class="preproc">#define</span><span class="normal"> JMSG_LENGTH_MAX  </span><span class="number">200</span><span class="normal">	</span><span class="comment">/* recommended size of format_message buffer */</span>
<span class="normal">  </span><span class="comment">/* Reset error state variables at start of a new image */</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> reset_error_mgr</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="comment">/* The message ID code and any parameters are saved here.</span>
<span class="comment">   * A message can have one string parameter or up to 8 int parameters.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> msg_code</span><span class="symbol">;</span>
<span class="preproc">#define</span><span class="normal"> JMSG_STR_PARM_MAX  </span><span class="number">80</span>
<span class="normal">  </span><span class="keyword">union</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> i</span><span class="symbol">[</span><span class="number">8</span><span class="symbol">];</span>
<span class="normal">    </span><span class="type">char</span><span class="normal"> s</span><span class="symbol">[</span><span class="normal">JMSG_STR_PARM_MAX</span><span class="symbol">];</span>
<span class="normal">  </span><span class="cbracket">}</span><span class="normal"> msg_parm</span><span class="symbol">;</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="comment">/* Standard state variables for error facility */</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> trace_level</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* max msg_level that will be displayed */</span>
<span class="normal">  </span>
<span class="normal">  </span><span class="comment">/* For recoverable corrupt-data errors, we emit a warning message,</span>
<span class="comment">   * but keep going unless emit_message chooses to abort.  emit_message</span>
<span class="comment">   * should count warnings in num_warnings.  The surrounding application</span>
<span class="comment">   * can check for bad data by seeing if num_warnings is nonzero at the</span>
<span class="comment">   * end of processing.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">long</span><span class="normal"> num_warnings</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* number of corrupt-data warnings */</span>

<span class="normal">  </span><span class="comment">/* These fields point to the table(s) of error message strings.</span>
<span class="comment">   * An application can change the table pointer to switch to a different</span>
<span class="comment">   * message list (typically, to change the language in which errors are</span>
<span class="comment">   * reported).  Some applications may wish to add additional error codes</span>
<span class="comment">   * that will be handled by the JPEG library error mechanism; the second</span>
<span class="comment">   * table pointer is used for this purpose.</span>
<span class="comment">   *</span>
<span class="comment">   * First table includes all errors generated by JPEG library itself.</span>
<span class="comment">   * Error code 0 is reserved for a "no such error string" message.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> jpeg_message_table</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* Library errors */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> last_jpeg_message</span><span class="symbol">;</span><span class="normal">    </span><span class="comment">/* Table contains strings 0..last_jpeg_message */</span>
<span class="normal">  </span><span class="comment">/* Second table can be added by application (see cjpeg/djpeg for example).</span>
<span class="comment">   * It contains strings numbered first_addon_message..last_addon_message.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> addon_message_table</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* Non-library errors */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> first_addon_message</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* code for first string in addon table */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> last_addon_message</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* code for last string in addon table */</span>
<span class="cbracket">}</span><span class="symbol">;</span>


<span class="comment">/* Progress monitor object */</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_progress_mgr</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> progress_monitor</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="normal">  </span><span class="type">long</span><span class="normal"> pass_counter</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* work units completed in this pass */</span>
<span class="normal">  </span><span class="type">long</span><span class="normal"> pass_limit</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* total number of work units in this pass */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> completed_passes</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* passes completed so far */</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> total_passes</span><span class="symbol">;</span><span class="normal">		</span><span class="comment">/* total number of passes expected */</span>
<span class="cbracket">}</span><span class="symbol">;</span>


<span class="comment">/* Data destination object for compression */</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_destination_mgr</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  JOCTET </span><span class="symbol">*</span><span class="normal"> next_output_byte</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* =&gt; next byte to write in buffer */</span>
<span class="normal">  </span><span class="usertype">size_t</span><span class="normal"> free_in_buffer</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of byte spaces remaining in buffer */</span>

<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> init_destination</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">,</span><span class="normal"> empty_output_buffer</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> term_destination</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="symbol">;</span>


<span class="comment">/* Data source object for decompression */</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_source_mgr</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="keyword">const</span><span class="normal"> JOCTET </span><span class="symbol">*</span><span class="normal"> next_input_byte</span><span class="symbol">;</span><span class="normal"> </span><span class="comment">/* =&gt; next byte to read from buffer */</span>
<span class="normal">  </span><span class="usertype">size_t</span><span class="normal"> bytes_in_buffer</span><span class="symbol">;</span><span class="normal">	</span><span class="comment">/* # of bytes remaining in buffer */</span>

<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> init_source</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">,</span><span class="normal"> fill_input_buffer</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> skip_input_data</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">long</span><span class="normal"> num_bytes</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">,</span><span class="normal"> resync_to_restart</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> desired</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> term_source</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="symbol">;</span>


<span class="comment">/* Memory manager object.</span>
<span class="comment"> * Allocates "small" objects (a few K total), "large" objects (tens of K),</span>
<span class="comment"> * and "really big" objects (virtual arrays with backing store if needed).</span>
<span class="comment"> * The memory manager does not allow individual objects to be freed; rather,</span>
<span class="comment"> * each created object is assigned to a pool, and whole pools can be freed</span>
<span class="comment"> * at once.  This is faster and more convenient than remembering exactly what</span>
<span class="comment"> * to free, especially where malloc()/free() are not too speedy.</span>
<span class="comment"> * NB: alloc routines never return NULL.  They exit to error_exit if not</span>
<span class="comment"> * successful.</span>
<span class="comment"> */</span>

<span class="preproc">#define</span><span class="normal"> JPOOL_PERMANENT	</span><span class="number">0</span><span class="normal">	</span><span class="comment">/* lasts until master record is destroyed */</span>
<span class="preproc">#define</span><span class="normal"> JPOOL_IMAGE	</span><span class="number">1</span><span class="normal">	</span><span class="comment">/* lasts until done with image/datastream */</span>
<span class="preproc">#define</span><span class="normal"> JPOOL_NUMPOOLS	</span><span class="number">2</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jvirt_sarray_control</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> jvirt_sarray_ptr</span><span class="symbol">;</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jvirt_barray_control</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> jvirt_barray_ptr</span><span class="symbol">;</span>


<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_memory_mgr</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="comment">/* Method pointers */</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*,</span><span class="normal"> alloc_small</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> pool_id</span><span class="symbol">,</span>
<span class="normal">				</span><span class="usertype">size_t</span><span class="normal"> sizeofobject</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="normal"> FAR </span><span class="symbol">*,</span><span class="normal"> alloc_large</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> pool_id</span><span class="symbol">,</span>
<span class="normal">				     </span><span class="usertype">size_t</span><span class="normal"> sizeofobject</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">JSAMPARRAY</span><span class="symbol">,</span><span class="normal"> alloc_sarray</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> pool_id</span><span class="symbol">,</span>
<span class="normal">				     </span><span class="usertype">JDIMENSION</span><span class="normal"> samplesperrow</span><span class="symbol">,</span>
<span class="normal">				     </span><span class="usertype">JDIMENSION</span><span class="normal"> numrows</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">JBLOCKARRAY</span><span class="symbol">,</span><span class="normal"> alloc_barray</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> pool_id</span><span class="symbol">,</span>
<span class="normal">				      </span><span class="usertype">JDIMENSION</span><span class="normal"> blocksperrow</span><span class="symbol">,</span>
<span class="normal">				      </span><span class="usertype">JDIMENSION</span><span class="normal"> numrows</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">jvirt_sarray_ptr</span><span class="symbol">,</span><span class="normal"> request_virt_sarray</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="type">int</span><span class="normal"> pool_id</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="usertype">boolean</span><span class="normal"> pre_zero</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="usertype">JDIMENSION</span><span class="normal"> samplesperrow</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="usertype">JDIMENSION</span><span class="normal"> numrows</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="usertype">JDIMENSION</span><span class="normal"> maxaccess</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">jvirt_barray_ptr</span><span class="symbol">,</span><span class="normal"> request_virt_barray</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="type">int</span><span class="normal"> pool_id</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="usertype">boolean</span><span class="normal"> pre_zero</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="usertype">JDIMENSION</span><span class="normal"> blocksperrow</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="usertype">JDIMENSION</span><span class="normal"> numrows</span><span class="symbol">,</span>
<span class="normal">						  </span><span class="usertype">JDIMENSION</span><span class="normal"> maxaccess</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> realize_virt_arrays</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">JSAMPARRAY</span><span class="symbol">,</span><span class="normal"> access_virt_sarray</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					   </span><span class="usertype">jvirt_sarray_ptr</span><span class="normal"> ptr</span><span class="symbol">,</span>
<span class="normal">					   </span><span class="usertype">JDIMENSION</span><span class="normal"> start_row</span><span class="symbol">,</span>
<span class="normal">					   </span><span class="usertype">JDIMENSION</span><span class="normal"> num_rows</span><span class="symbol">,</span>
<span class="normal">					   </span><span class="usertype">boolean</span><span class="normal"> writable</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">JBLOCKARRAY</span><span class="symbol">,</span><span class="normal"> access_virt_barray</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					    </span><span class="usertype">jvirt_barray_ptr</span><span class="normal"> ptr</span><span class="symbol">,</span>
<span class="normal">					    </span><span class="usertype">JDIMENSION</span><span class="normal"> start_row</span><span class="symbol">,</span>
<span class="normal">					    </span><span class="usertype">JDIMENSION</span><span class="normal"> num_rows</span><span class="symbol">,</span>
<span class="normal">					    </span><span class="usertype">boolean</span><span class="normal"> writable</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> free_pool</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> pool_id</span><span class="symbol">));</span>
<span class="normal">  </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">,</span><span class="normal"> self_destruct</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="normal">  </span><span class="comment">/* Limit on memory allocation for this JPEG object.  (Note that this is</span>
<span class="comment">   * merely advisory, not a guaranteed maximum; it only affects the space</span>
<span class="comment">   * used for virtual-array buffers.)  May be changed by outer application</span>
<span class="comment">   * after creating the JPEG object.</span>
<span class="comment">   */</span>
<span class="normal">  </span><span class="type">long</span><span class="normal"> max_memory_to_use</span><span class="symbol">;</span>

<span class="normal">  </span><span class="comment">/* Maximum allocation request accepted by alloc_large. */</span>
<span class="normal">  </span><span class="type">long</span><span class="normal"> max_alloc_chunk</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="symbol">;</span>


<span class="comment">/* Routine signature for application-supplied marker processing methods.</span>
<span class="comment"> * Need not pass marker code since it is stored in cinfo-&gt;unread_marker.</span>
<span class="comment"> */</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="function">JMETHOD</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">,</span><span class="normal"> jpeg_marker_parser_method</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>


<span class="comment">/* Declarations for routines called by application.</span>
<span class="comment"> * The JPP macro hides prototype parameters from compilers that can't cope.</span>
<span class="comment"> * Note JPP requires double parentheses.</span>
<span class="comment"> */</span>

<span class="preproc">#ifdef</span><span class="normal"> HAVE_PROTOTYPES</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">(</span><span class="normal">arglist</span><span class="symbol">)</span><span class="normal">	arglist</span>
<span class="preproc">#else</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">(</span><span class="normal">arglist</span><span class="symbol">)</span><span class="normal">	</span><span class="symbol">()</span>
<span class="preproc">#endif</span>


<span class="comment">/* Short forms of external names for systems with brain-damaged linkers.</span>
<span class="comment"> * We shorten external names to be unique in the first six letters, which</span>
<span class="comment"> * is good enough for all known systems.</span>
<span class="comment"> * (If your compiler itself needs names to be unique in less than 15 </span>
<span class="comment"> * characters, you are out of luck.  Get a better compiler.)</span>
<span class="comment"> */</span>

<span class="preproc">#ifdef</span><span class="normal"> NEED_SHORT_EXTERNAL_NAMES</span>
<span class="preproc">#define</span><span class="normal"> jpeg_std_error		jStdError</span>
<span class="preproc">#define</span><span class="normal"> jpeg_CreateCompress	jCreaCompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_CreateDecompress	jCreaDecompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_destroy_compress	jDestCompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_destroy_decompress	jDestDecompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_stdio_dest		jStdDest</span>
<span class="preproc">#define</span><span class="normal"> jpeg_stdio_src		jStdSrc</span>
<span class="preproc">#define</span><span class="normal"> jpeg_set_defaults	jSetDefaults</span>
<span class="preproc">#define</span><span class="normal"> jpeg_set_colorspace	jSetColorspace</span>
<span class="preproc">#define</span><span class="normal"> jpeg_default_colorspace	jDefColorspace</span>
<span class="preproc">#define</span><span class="normal"> jpeg_set_quality	jSetQuality</span>
<span class="preproc">#define</span><span class="normal"> jpeg_set_linear_quality	jSetLQuality</span>
<span class="preproc">#define</span><span class="normal"> jpeg_add_quant_table	jAddQuantTable</span>
<span class="preproc">#define</span><span class="normal"> jpeg_quality_scaling	jQualityScaling</span>
<span class="preproc">#define</span><span class="normal"> jpeg_simple_progression	jSimProgress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_suppress_tables	jSuppressTables</span>
<span class="preproc">#define</span><span class="normal"> jpeg_alloc_quant_table	jAlcQTable</span>
<span class="preproc">#define</span><span class="normal"> jpeg_alloc_huff_table	jAlcHTable</span>
<span class="preproc">#define</span><span class="normal"> jpeg_start_compress	jStrtCompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_write_scanlines	jWrtScanlines</span>
<span class="preproc">#define</span><span class="normal"> jpeg_finish_compress	jFinCompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_write_raw_data	jWrtRawData</span>
<span class="preproc">#define</span><span class="normal"> jpeg_write_marker	jWrtMarker</span>
<span class="preproc">#define</span><span class="normal"> jpeg_write_m_header	jWrtMHeader</span>
<span class="preproc">#define</span><span class="normal"> jpeg_write_m_byte	jWrtMByte</span>
<span class="preproc">#define</span><span class="normal"> jpeg_write_tables	jWrtTables</span>
<span class="preproc">#define</span><span class="normal"> jpeg_read_header	jReadHeader</span>
<span class="preproc">#define</span><span class="normal"> jpeg_start_decompress	jStrtDecompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_read_scanlines	jReadScanlines</span>
<span class="preproc">#define</span><span class="normal"> jpeg_finish_decompress	jFinDecompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_read_raw_data	jReadRawData</span>
<span class="preproc">#define</span><span class="normal"> jpeg_has_multiple_scans	jHasMultScn</span>
<span class="preproc">#define</span><span class="normal"> jpeg_start_output	jStrtOutput</span>
<span class="preproc">#define</span><span class="normal"> jpeg_finish_output	jFinOutput</span>
<span class="preproc">#define</span><span class="normal"> jpeg_input_complete	jInComplete</span>
<span class="preproc">#define</span><span class="normal"> jpeg_new_colormap	jNewCMap</span>
<span class="preproc">#define</span><span class="normal"> jpeg_consume_input	jConsumeInput</span>
<span class="preproc">#define</span><span class="normal"> jpeg_calc_output_dimensions	jCalcDimensions</span>
<span class="preproc">#define</span><span class="normal"> jpeg_save_markers	jSaveMarkers</span>
<span class="preproc">#define</span><span class="normal"> jpeg_set_marker_processor	jSetMarker</span>
<span class="preproc">#define</span><span class="normal"> jpeg_read_coefficients	jReadCoefs</span>
<span class="preproc">#define</span><span class="normal"> jpeg_write_coefficients	jWrtCoefs</span>
<span class="preproc">#define</span><span class="normal"> jpeg_copy_critical_parameters	jCopyCrit</span>
<span class="preproc">#define</span><span class="normal"> jpeg_abort_compress	jAbrtCompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_abort_decompress	jAbrtDecompress</span>
<span class="preproc">#define</span><span class="normal"> jpeg_abort		jAbort</span>
<span class="preproc">#define</span><span class="normal"> jpeg_destroy		jDestroy</span>
<span class="preproc">#define</span><span class="normal"> jpeg_resync_to_restart	jResyncRestart</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* NEED_SHORT_EXTERNAL_NAMES */</span>


<span class="comment">/* Default error-management setup */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_error_mgr</span><span class="normal"> </span><span class="symbol">*)</span><span class="normal"> jpeg_std_error</span>
<span class="normal">	</span><span class="function">JPP</span><span class="symbol">((</span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_error_mgr</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> err</span><span class="symbol">));</span>

<span class="comment">/* Initialization of JPEG compression objects.</span>
<span class="comment"> * jpeg_create_compress() and jpeg_create_decompress() are the exported</span>
<span class="comment"> * names that applications should call.  These expand to calls on</span>
<span class="comment"> * jpeg_CreateCompress and jpeg_CreateDecompress with additional information</span>
<span class="comment"> * passed for version mismatch checking.</span>
<span class="comment"> * NB: you must set up the error-manager BEFORE calling jpeg_create_xxx.</span>
<span class="comment"> */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">jpeg_create_compress</span><span class="symbol">(</span><span class="normal">cinfo</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">    </span><span class="function">jpeg_CreateCompress</span><span class="symbol">((</span><span class="normal">cinfo</span><span class="symbol">),</span><span class="normal"> JPEG_LIB_VERSION</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">			</span><span class="symbol">(</span><span class="normal">size_t</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_compress_struct</span><span class="symbol">))</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">jpeg_create_decompress</span><span class="symbol">(</span><span class="normal">cinfo</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">    </span><span class="function">jpeg_CreateDecompress</span><span class="symbol">((</span><span class="normal">cinfo</span><span class="symbol">),</span><span class="normal"> JPEG_LIB_VERSION</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">			  </span><span class="symbol">(</span><span class="normal">size_t</span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_decompress_struct</span><span class="symbol">))</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_CreateCompress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">				      </span><span class="type">int</span><span class="normal"> version</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">size_t</span><span class="normal"> structsize</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_CreateDecompress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					</span><span class="type">int</span><span class="normal"> version</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">size_t</span><span class="normal"> structsize</span><span class="symbol">));</span>
<span class="comment">/* Destruction of JPEG compression objects */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_destroy_compress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_destroy_decompress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="comment">/* Standard data source and destination managers: stdio streams. */</span>
<span class="comment">/* Caller is responsible for opening the file before and closing after. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_stdio_dest</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> FILE </span><span class="symbol">*</span><span class="normal"> outfile</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_stdio_src</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> FILE </span><span class="symbol">*</span><span class="normal"> infile</span><span class="symbol">));</span>

<span class="comment">/* Default parameter setup for compression */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_set_defaults</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="comment">/* Compression parameter setup aids */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_set_colorspace</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">				      </span><span class="usertype">J_COLOR_SPACE</span><span class="normal"> colorspace</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_default_colorspace</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_set_quality</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> quality</span><span class="symbol">,</span>
<span class="normal">				   </span><span class="usertype">boolean</span><span class="normal"> force_baseline</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_set_linear_quality</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					  </span><span class="type">int</span><span class="normal"> scale_factor</span><span class="symbol">,</span>
<span class="normal">					  </span><span class="usertype">boolean</span><span class="normal"> force_baseline</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_add_quant_table</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> which_tbl</span><span class="symbol">,</span>
<span class="normal">				       </span><span class="keyword">const</span><span class="normal"> </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">basic_table</span><span class="symbol">,</span>
<span class="normal">				       </span><span class="type">int</span><span class="normal"> scale_factor</span><span class="symbol">,</span>
<span class="normal">				       </span><span class="usertype">boolean</span><span class="normal"> force_baseline</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_quality_scaling</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="type">int</span><span class="normal"> quality</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_simple_progression</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_suppress_tables</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">				       </span><span class="usertype">boolean</span><span class="normal"> suppress</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">JQUANT_TBL </span><span class="symbol">*)</span><span class="normal"> </span><span class="usertype">jpeg_alloc_quant_table</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">JHUFF_TBL </span><span class="symbol">*)</span><span class="normal"> </span><span class="usertype">jpeg_alloc_huff_table</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="comment">/* Main entry points for compression */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_start_compress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">				      </span><span class="usertype">boolean</span><span class="normal"> write_all_tables</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">JDIMENSION</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_write_scanlines</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					     </span><span class="usertype">JSAMPARRAY</span><span class="normal"> scanlines</span><span class="symbol">,</span>
<span class="normal">					     </span><span class="usertype">JDIMENSION</span><span class="normal"> num_lines</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_finish_compress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="comment">/* Replaces jpeg_write_scanlines when writing raw downsampled data. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">JDIMENSION</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_write_raw_data</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					    </span><span class="usertype">JSAMPIMAGE</span><span class="normal"> data</span><span class="symbol">,</span>
<span class="normal">					    </span><span class="usertype">JDIMENSION</span><span class="normal"> num_lines</span><span class="symbol">));</span>

<span class="comment">/* Write a special marker.  See libjpeg.doc concerning safe usage. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> jpeg_write_marker</span>
<span class="normal">	</span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> marker</span><span class="symbol">,</span>
<span class="normal">	     </span><span class="keyword">const</span><span class="normal"> JOCTET </span><span class="symbol">*</span><span class="normal"> dataptr</span><span class="symbol">,</span><span class="normal"> </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> datalen</span><span class="symbol">));</span>
<span class="comment">/* Same, but piecemeal. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> jpeg_write_m_header</span>
<span class="normal">	</span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> marker</span><span class="symbol">,</span><span class="normal"> </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> datalen</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> jpeg_write_m_byte</span>
<span class="normal">	</span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> val</span><span class="symbol">));</span>

<span class="comment">/* Alternate compression function: just write an abbreviated table file */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_write_tables</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="comment">/* Decompression startup: read start of JPEG datastream to see what's there */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_read_header</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">				  </span><span class="usertype">boolean</span><span class="normal"> require_image</span><span class="symbol">));</span>
<span class="comment">/* Return value is one of: */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_SUSPENDED		</span><span class="number">0</span><span class="normal"> </span><span class="comment">/* Suspended due to lack of input data */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_HEADER_OK		</span><span class="number">1</span><span class="normal"> </span><span class="comment">/* Found valid image datastream */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_HEADER_TABLES_ONLY	</span><span class="number">2</span><span class="normal"> </span><span class="comment">/* Found valid table-specs-only datastream */</span>
<span class="comment">/* If you pass require_image = TRUE (normal case), you need not check for</span>
<span class="comment"> * a TABLES_ONLY return code; an abbreviated file will cause an error exit.</span>
<span class="comment"> * JPEG_SUSPENDED is only possible if you use a data source module that can</span>
<span class="comment"> * give a suspension return (the stdio source module doesn't).</span>
<span class="comment"> */</span>

<span class="comment">/* Main entry points for decompression */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_start_decompress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">JDIMENSION</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_read_scanlines</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					    </span><span class="usertype">JSAMPARRAY</span><span class="normal"> scanlines</span><span class="symbol">,</span>
<span class="normal">					    </span><span class="usertype">JDIMENSION</span><span class="normal"> max_lines</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_finish_decompress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="comment">/* Replaces jpeg_read_scanlines when reading raw downsampled data. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">JDIMENSION</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_read_raw_data</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					   </span><span class="usertype">JSAMPIMAGE</span><span class="normal"> data</span><span class="symbol">,</span>
<span class="normal">					   </span><span class="usertype">JDIMENSION</span><span class="normal"> max_lines</span><span class="symbol">));</span>

<span class="comment">/* Additional entry points for buffered-image mode. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_has_multiple_scans</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_start_output</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">				       </span><span class="type">int</span><span class="normal"> scan_number</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_finish_output</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_input_complete</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_new_colormap</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_consume_input</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="comment">/* Return value is one of: */</span>
<span class="comment">/* #define JPEG_SUSPENDED	0    Suspended due to lack of input data */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_REACHED_SOS	</span><span class="number">1</span><span class="normal"> </span><span class="comment">/* Reached start of new scan */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_REACHED_EOI	</span><span class="number">2</span><span class="normal"> </span><span class="comment">/* Reached end of image */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_ROW_COMPLETED	</span><span class="number">3</span><span class="normal"> </span><span class="comment">/* Completed one iMCU row */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_SCAN_COMPLETED	</span><span class="number">4</span><span class="normal"> </span><span class="comment">/* Completed last iMCU row of a scan */</span>

<span class="comment">/* Precalculate output dimensions for current decompression parameters. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_calc_output_dimensions</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="comment">/* Control saving of COM and APPn markers into marker_list. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> jpeg_save_markers</span>
<span class="normal">	</span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> marker_code</span><span class="symbol">,</span>
<span class="normal">	     </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> length_limit</span><span class="symbol">));</span>

<span class="comment">/* Install a special processing method for COM or APPn markers. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> jpeg_set_marker_processor</span>
<span class="normal">	</span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> marker_code</span><span class="symbol">,</span>
<span class="normal">	     </span><span class="usertype">jpeg_marker_parser_method</span><span class="normal"> routine</span><span class="symbol">));</span>

<span class="comment">/* Read or write raw DCT coefficients --- useful for lossless transcoding. */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">jvirt_barray_ptr </span><span class="symbol">*)</span><span class="normal"> </span><span class="usertype">jpeg_read_coefficients</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_write_coefficients</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					  jvirt_barray_ptr </span><span class="symbol">*</span><span class="normal"> coef_arrays</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_copy_critical_parameters</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> srcinfo</span><span class="symbol">,</span>
<span class="normal">						</span><span class="usertype">j_compress_ptr</span><span class="normal"> dstinfo</span><span class="symbol">));</span>

<span class="comment">/* If you choose to abort compression or decompression before completing</span>
<span class="comment"> * jpeg_finish_(de)compress, then you need to clean up to release memory,</span>
<span class="comment"> * temporary files, etc.  You can just call jpeg_destroy_(de)compress</span>
<span class="comment"> * if you're done with the JPEG object, but if you want to clean it up and</span>
<span class="comment"> * reuse it, call this:</span>
<span class="comment"> */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_abort_compress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_compress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_abort_decompress</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="comment">/* Generic versions of jpeg_abort and jpeg_destroy that work on either</span>
<span class="comment"> * flavor of JPEG object.  These may be more convenient in some places.</span>
<span class="comment"> */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_abort</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_destroy</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_common_ptr</span><span class="normal"> cinfo</span><span class="symbol">));</span>

<span class="comment">/* Default restart-marker-resync procedure for use by data source modules */</span>
<span class="function">EXTERN</span><span class="symbol">(</span><span class="normal">boolean</span><span class="symbol">)</span><span class="normal"> </span><span class="usertype">jpeg_resync_to_restart</span><span class="normal"> </span><span class="function">JPP</span><span class="symbol">((</span><span class="usertype">j_decompress_ptr</span><span class="normal"> cinfo</span><span class="symbol">,</span>
<span class="normal">					    </span><span class="type">int</span><span class="normal"> desired</span><span class="symbol">));</span>


<span class="comment">/* These marker codes are exported since applications and data source modules</span>
<span class="comment"> * are likely to want to use them.</span>
<span class="comment"> */</span>

<span class="preproc">#define</span><span class="normal"> JPEG_RST0	</span><span class="number">0xD0</span><span class="normal">	</span><span class="comment">/* RST0 marker code */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_EOI	</span><span class="number">0xD9</span><span class="normal">	</span><span class="comment">/* EOI marker code */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_APP0	</span><span class="number">0xE0</span><span class="normal">	</span><span class="comment">/* APP0 marker code */</span>
<span class="preproc">#define</span><span class="normal"> JPEG_COM	</span><span class="number">0xFE</span><span class="normal">	</span><span class="comment">/* COM marker code */</span>


<span class="comment">/* If we have a brain-damaged compiler that emits warnings (or worse, errors)</span>
<span class="comment"> * for structure definitions that are never filled in, keep it quiet by</span>
<span class="comment"> * supplying dummy definitions for the various substructures.</span>
<span class="comment"> */</span>

<span class="preproc">#ifdef</span><span class="normal"> INCOMPLETE_TYPES_BROKEN</span>
<span class="preproc">#ifndef</span><span class="normal"> JPEG_INTERNALS		</span><span class="comment">/* will be defined in jpegint.h */</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jvirt_sarray_control</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jvirt_barray_control</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_comp_master</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_c_main_controller</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_c_prep_controller</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_c_coef_controller</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_marker_writer</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_color_converter</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_downsampler</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_forward_dct</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_entropy_encoder</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_decomp_master</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_d_main_controller</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_d_coef_controller</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_d_post_controller</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_input_controller</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_marker_reader</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_entropy_decoder</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_inverse_dct</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_upsampler</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_color_deconverter</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">jpeg_color_quantizer</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="type">long</span><span class="normal"> dummy</span><span class="symbol">;</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* JPEG_INTERNALS */</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* INCOMPLETE_TYPES_BROKEN */</span>


<span class="comment">/*</span>
<span class="comment"> * The JPEG library modules define JPEG_INTERNALS before including this file.</span>
<span class="comment"> * The internal structure declarations are read only when that is true.</span>
<span class="comment"> * Applications using the library should not include jpegint.h, but may wish</span>
<span class="comment"> * to include jerror.h.</span>
<span class="comment"> */</span>

<span class="preproc">#ifdef</span><span class="normal"> JPEG_INTERNALS</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">"jpegint.h"</span><span class="normal">		</span><span class="comment">/* fetch private declarations */</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">"jerror.h"</span><span class="normal">		</span><span class="comment">/* fetch error codes too */</span>
<span class="preproc">#endif</span>

<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* JPEGLIB_H */</span>
</tt></pre></div><div style="text-align: right; padding: 8pt; font-size: 12px"><a href="/xmlfeed/weblog-rss20.xml"><img src="/img/xmlfeed-rss20.png" alt="RSS 2.0 Weblog Feed" height="15" width="80" /></a> <a href="/xmlfeed/weblog-atom10.xml"><img src="/img/xmlfeed-atom10.png" alt="Atom 1.0 Weblog Feed" height="15" width="80" /></a> <a href="http://validator.w3.org/check?uri=referer"><img src="/img/w3c-xhtml10.png" alt="Valid XHTML 1.1" height="15" width="80" /></a> <a href="http://jigsaw.w3.org/css-validator/check/referer"><img src="/img/w3c-css.png" alt="Valid CSS (2.1)" height="15" width="80" /></a><br/>Copyright 2005-2013 <a href="/about/">Timo Bingmann</a> - <a href="/about/impressum.html">Impressum</a></div><script type="text/javascript">var _paq = _paq || []; _paq.push(["trackPageView"]); _paq.push(["enableLinkTracking"]);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://panthema.net/wik-331/"; _paq.push(["setTrackerUrl", u+"js/"]); _paq.push(["setSiteId", "2"]);var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";g.defer=true; g.async=true; g.src=u+"js/"; s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="http://panthema.net/wik-331/js/?idsite=2&amp;rec=1" style="border:0" alt="" /></p></noscript></body></html>