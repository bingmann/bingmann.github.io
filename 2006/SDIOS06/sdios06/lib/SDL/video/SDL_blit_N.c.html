<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=iso-8859-1" http-equiv="content-type" /><meta name="viewport" content="initial-scale=1"><title>/2006/SDIOS06/sdios06/lib/SDL/video/SDL_blit_N.c - panthema.net</title><link rel="stylesheet" type="text/css" href="/css/base.css" /><link rel="stylesheet" type="text/css" href="/css/fonts.css" /><link rel="alternate" type="application/rss+xml" title="panthema.net Weblog Feed RSS 2.0" href="http://panthema.net/xmlfeed/weblog-rss20.xml" /><link rel="alternate" type="application/atom+xml" title="panthema.net Weblog Feed Atom 1.0" href="http://panthema.net/xmlfeed/weblog-atom10.xml" /><script type="text/javascript" src="/js/base.js"></script><script type="text/javascript">/* <!-- */makeIEHover = function() {var lis = document.getElementById('ptnav').getElementsByTagName('li');for (var i = 0; i < lis.length; i++) {lis[i].onmouseover = function() {this.className += ' sfhover';};lis[i].onmouseout = function() {this.className = this.className.replace(new RegExp(' sfhover\b'), '');};}};if (window.attachEvent) window.attachEvent('onload', makeIEHover);/* --> */</script></head><body style="background-image: url(/img/bgfractal1.jpg)"><div class="pttopbar"><div style="float: right"><ul id="ptnav"><li class="top"><a class="ni" href="/"><i class="icon-book"></i> Weblog</a><ul style="margin-left: -6px; margin-top: 4px" class="nx"><li><a href="/2015/">2015</a></li><li><a href="/2014/">2014</a></li><li><a href="/2013/">2013</a></li><li><a href="/2012/">2012</a></li><li><a href="/2011/">2011</a></li><li><a href="/2010/">2010</a></li><li><a href="/2009/">2009</a></li><li><a href="/2008/">2008</a></li><li><a href="/2007/">2007</a></li><li><a href="/2006/">2006</a></li><li class="nt"><a href="/2005/">2005</a></li><li class="ns"><a href="/xmlfeed/weblog-rss20.xml">RSS Feed</a></li><li class="nt"><a href="/xmlfeed/weblog-atom10.xml">XML Atom</a></li><li class="ns"><a href="/search.html">Search</a></li></ul></li><li class="top"><a class="ni" href="/tags/"><i class="icon-tags"></i> Tags</a><div style="width: 14em; margin-left: -9em; margin-top: 4px"><a style="font-size: 10pt" href="/tags/algebra.html">algebra</a> <a style="font-size: 16pt" href="/tags/c++.html">c++</a> <a style="font-size: 12pt" href="/tags/code-example.html">code-example</a> <a style="font-size: 14pt" href="/tags/code-snippet.html">code-snippet</a> <a style="font-size: 11pt" href="/tags/coding_tricks.html">coding tricks</a> <a style="font-size: 10pt" href="/tags/compsci.html">compsci</a> <a style="font-size: 10pt" href="/tags/compsci_study_thesis.html">compsci study thesis</a> <a style="font-size: 9pt" href="/tags/crypto-speedtest.html">crypto-speedtest</a> <a style="font-size: 10pt" href="/tags/cryptography.html">cryptography</a> <a style="font-size: 9pt" href="/tags/cryptote.html">cryptote</a> <a style="font-size: 12pt" href="/tags/flex-bison-cpp-example.html">flex-bison-cpp-example</a> <a style="font-size: 15pt" href="/tags/frontpage.html">frontpage</a> <a style="font-size: 14pt" href="/tags/fun.html">fun</a> <a style="font-size: 10pt" href="/tags/graphviz.html">graphviz</a> <a style="font-size: 9pt" href="http://www.hmtg.de">hartmetall</a> <a style="font-size: 9pt" href="/tags/helppc.html">helppc</a> <a style="font-size: 9pt" href="/tags/hifi_selbstbau.html">hifi selbstbau</a> <a style="font-size: 10pt" href="/tags/latex.html">latex</a> <a style="font-size: 10pt" href="/tags/librivox.html">librivox</a> <a style="font-size: 10pt" href="/tags/linux.html">linux</a> <a style="font-size: 9pt" href="/tags/massive-sorting.html">massive-sorting</a> <a style="font-size: 10pt" href="/tags/maths.html">maths</a> <a style="font-size: 9pt" href="/tags/music.html">music</a> <a style="font-size: 10pt" href="/tags/netfundamentals.html">netfundamentals</a> <a style="font-size: 11pt" href="/tags/ns-3.html">ns-3</a> <a style="font-size: 10pt" href="/tags/parallel-string-sorting.html">parallel-string-sorting</a> <a style="font-size: 9pt" href="/tags/qtsqlview.html">qtsqlview</a> <a style="font-size: 12pt" href="/tags/research.html">research</a> <a style="font-size: 11pt" href="/tags/sdios06.html">sdios06</a> <a style="font-size: 9pt" href="/tags/sdlfractal.html">sdlfractal</a> <a style="font-size: 13pt" href="/tags/sorting.html">sorting</a> <a style="font-size: 10pt" href="/tags/stringology.html">stringology</a> <a style="font-size: 16pt" href="/tags/stx-btree.html">stx-btree</a> <a style="font-size: 9pt" href="/tags/stx-exparser.html">stx-exparser</a> <a style="font-size: 14pt" href="/tags/stxxl.html">stxxl</a> <a style="font-size: 16pt" href="/tags/talk.html">talk</a> <a style="font-size: 10pt" href="/tags/tutorium.html">tutorium</a> <a style="font-size: 16pt" href="/tags/university.html">university</a> <a style="font-size: 13pt" href="/tags/utilities.html">utilities</a> <a style="font-size: 10pt" href="/tags/vncrec.html">vncrec</a> <a style="font-size: 9pt" href="/tags/webdesign.html">webdesign</a> </div></li><li class="top"> <a class="ni" href="#"><i class="icon-cubes"></i> Projects</a> <ul style="margin-left: -8em; margin-top: 4px;" class="nx"> <li><a href="/2009/cryptote/">CryptoTE</a></li> <li><a href="/2009/digup/">digup</a></li> <li><a href="/2013/disk-filltest/">disk-filltest</a></li> <li><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">eSAIS-LCP</a></li> <li><a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a></li> <li><a href="/2013/malloc_count/">malloc_count</a></li> <li><a href="/2013/parallel-string-sorting/">parallel-string-sorting</a></li> <li><a href="/2013/pmbw/">Parallel Memory Bandwidth</a></li> <li><a href="/2014/sqlplot-tools/">SqlPlotTools</a></li> <li><a href="/2013/sound-of-sorting/">The Sound of Sorting</a></li> <li><a href="/2007/stx-btree/">STX B+ Tree</a></li> <li><a href="/2010/stx-cbtreedb/">STX Constant BTreeDB</a></li> <li><a href="/2010/stx-execpipe/">STX ExecPipe</a></li> <li><a href="/2007/stx-exparser/">STX Expression Parser</a></li> <li><a href="/tags/stxxl.html">STXXL 1.4</a></li> <li class="nt"><a href="/2014/vncrec-rgb/">VNCrec RGB 0.4</a></li> <li class="ns"><a href="/search.html">Search</a></li> </ul></li><li class="top"> <a class="ni" href="#"><i class="icon-graduation-cap"></i> Research</a> <ul style="margin-left: -16em; margin-top: 4px" class="nx"> <li><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">eSAIS-LCP - External Memory Suffix Sorting</a></li> <li><a href="/2013/parallel-string-sorting/">Parallel String Sorting</a></li> <li><a href="/tags/massive-sorting.html">Practical Massively Parallel Sorting</a></li> <li><a href="/tags/stxxl.html">STXXL - External Memory Algorithms</a></li> <li class="ns"><a href="/search.html">Search</a></li> </ul></li><li class="top"> <a class="ni" href="/about/"><i class="icon-info-circled"></i> About</a> <ul style="margin-left: -6em; margin-top: 4px" class="nx"> <li><a href="/about/">Timo Bingmann</a></li> <li><a href="/about/impressum.html">Impressum</a></li> </ul></li><li class="top"> <a class="ni" href="/subscribe.html"><i class="icon-rss-squared"></i> Subscribe</a></li></ul></div><div style="padding: 6px"><a href="/">panthema</a>  / <a href="/2006/">2006</a> / <a href="/2006/SDIOS06/">SDIOS06</a> / <a href="/2006/SDIOS06/sdios06/">sdios06</a> / <a href="/2006/SDIOS06/sdios06/lib/">lib</a> / <a href="/2006/SDIOS06/sdios06/lib/SDL/">SDL</a> / <a href="/2006/SDIOS06/sdios06/lib/SDL/video/">video</a> / <a href="/2006/SDIOS06/sdios06/lib/SDL/video/SDL_blit_N.c.html">SDL_blit_N.c</a> (<a href="/2006/SDIOS06/sdios06/lib/SDL/video/SDL_blit_N.c">Download File</a>)</div></div><div class="ptfullwidth"><pre class="codesnippet" style="font-family: monospace"><tt><span class="comment">/*</span>
<span class="comment">    SDL - Simple DirectMedia Layer</span>
<span class="comment">    Copyright (C) 1997-2006 Sam Lantinga</span>

<span class="comment">    This library is free software; you can redistribute it and/or</span>
<span class="comment">    modify it under the terms of the GNU Lesser General Public</span>
<span class="comment">    License as published by the Free Software Foundation; either</span>
<span class="comment">    version 2.1 of the License, or (at your option) any later version.</span>

<span class="comment">    This library is distributed in the hope that it will be useful,</span>
<span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="comment">    Lesser General Public License for more details.</span>

<span class="comment">    You should have received a copy of the GNU Lesser General Public</span>
<span class="comment">    License along with this library; if not, write to the Free Software</span>
<span class="comment">    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span>

<span class="comment">    Sam Lantinga</span>
<span class="comment">    </span><span class="url">slouken@libsdl.org</span>
<span class="comment">*/</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">"SDL_config.h"</span>

<span class="preproc">#include</span><span class="normal"> </span><span class="string">"SDL_video.h"</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">"SDL_endian.h"</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">"SDL_cpuinfo.h"</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">"SDL_blit.h"</span>

<span class="comment">/* Functions to blit from N-bit surfaces to other surfaces */</span>

<span class="preproc">#if</span><span class="normal"> SDL_ALTIVEC_BLITTERS</span>
<span class="preproc">#if</span><span class="normal"> __MWERKS__</span>
<span class="preproc">#pragma</span><span class="normal"> altivec_model on</span>
<span class="preproc">#endif</span>
<span class="preproc">#ifdef</span><span class="normal"> HAVE_ALTIVEC_H</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;altivec.h&gt;</span>
<span class="preproc">#endif</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">X</span><span class="symbol">)</span>
<span class="preproc">#ifdef</span><span class="normal"> __MACOSX__</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">&lt;sys/sysctl.h&gt;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="usertype">size_t</span><span class="normal"> </span><span class="function">GetL3CacheSize</span><span class="symbol">(</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> key</span><span class="symbol">[]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="string">"hw.l3cachesize"</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">u_int64_t</span><span class="normal"> result </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">size_t</span><span class="normal"> typeSize </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal"> result </span><span class="symbol">);</span>


<span class="normal">    </span><span class="type">int</span><span class="normal"> err </span><span class="symbol">=</span><span class="normal"> </span><span class="function">sysctlbyname</span><span class="symbol">(</span><span class="normal"> key</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">result</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">typeSize</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="symbol">(</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> err </span><span class="symbol">)</span><span class="normal"> </span><span class="keyword">return</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>

<span class="normal">    </span><span class="keyword">return</span><span class="normal"> result</span><span class="symbol">;</span>
<span class="cbracket">}</span>
<span class="preproc">#else</span>
<span class="keyword">static</span><span class="normal"> </span><span class="usertype">size_t</span><span class="normal"> </span><span class="function">GetL3CacheSize</span><span class="symbol">(</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* XXX: Just guess G4 */</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">2097152</span><span class="symbol">;</span>
<span class="cbracket">}</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* __MACOSX__ */</span>

<span class="preproc">#if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">defined</span><span class="symbol">(</span><span class="normal">__MACOSX__</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">__GNUC__ </span><span class="symbol">&lt;</span><span class="normal"> </span><span class="number">4</span><span class="symbol">))</span>
<span class="preproc">    #define</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span><span class="normal">a</span><span class="symbol">,</span><span class="normal">b</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">,</span><span class="normal">e</span><span class="symbol">,</span><span class="normal">f</span><span class="symbol">,</span><span class="normal">g</span><span class="symbol">,</span><span class="normal">h</span><span class="symbol">,</span><span class="normal">i</span><span class="symbol">,</span><span class="normal">j</span><span class="symbol">,</span><span class="normal">k</span><span class="symbol">,</span><span class="normal">l</span><span class="symbol">,</span><span class="normal">m</span><span class="symbol">,</span><span class="normal">n</span><span class="symbol">,</span><span class="normal">o</span><span class="symbol">,</span><span class="normal">p</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> a</span><span class="symbol">,</span><span class="normal">b</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">,</span><span class="normal">e</span><span class="symbol">,</span><span class="normal">f</span><span class="symbol">,</span><span class="normal">g</span><span class="symbol">,</span><span class="normal">h</span><span class="symbol">,</span><span class="normal">i</span><span class="symbol">,</span><span class="normal">j</span><span class="symbol">,</span><span class="normal">k</span><span class="symbol">,</span><span class="normal">l</span><span class="symbol">,</span><span class="normal">m</span><span class="symbol">,</span><span class="normal">n</span><span class="symbol">,</span><span class="normal">o</span><span class="symbol">,</span><span class="normal">p </span><span class="symbol">)</span>
<span class="preproc">    #define</span><span class="normal"> </span><span class="function">VECUINT16_LITERAL</span><span class="symbol">(</span><span class="normal">a</span><span class="symbol">,</span><span class="normal">b</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">,</span><span class="normal">e</span><span class="symbol">,</span><span class="normal">f</span><span class="symbol">,</span><span class="normal">g</span><span class="symbol">,</span><span class="normal">h</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> a</span><span class="symbol">,</span><span class="normal">b</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">,</span><span class="normal">e</span><span class="symbol">,</span><span class="normal">f</span><span class="symbol">,</span><span class="normal">g</span><span class="symbol">,</span><span class="normal">h </span><span class="symbol">)</span>
<span class="preproc">#else</span>
<span class="preproc">    #define</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span><span class="normal">a</span><span class="symbol">,</span><span class="normal">b</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">,</span><span class="normal">e</span><span class="symbol">,</span><span class="normal">f</span><span class="symbol">,</span><span class="normal">g</span><span class="symbol">,</span><span class="normal">h</span><span class="symbol">,</span><span class="normal">i</span><span class="symbol">,</span><span class="normal">j</span><span class="symbol">,</span><span class="normal">k</span><span class="symbol">,</span><span class="normal">l</span><span class="symbol">,</span><span class="normal">m</span><span class="symbol">,</span><span class="normal">n</span><span class="symbol">,</span><span class="normal">o</span><span class="symbol">,</span><span class="normal">p</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> a</span><span class="symbol">,</span><span class="normal">b</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">,</span><span class="normal">e</span><span class="symbol">,</span><span class="normal">f</span><span class="symbol">,</span><span class="normal">g</span><span class="symbol">,</span><span class="normal">h</span><span class="symbol">,</span><span class="normal">i</span><span class="symbol">,</span><span class="normal">j</span><span class="symbol">,</span><span class="normal">k</span><span class="symbol">,</span><span class="normal">l</span><span class="symbol">,</span><span class="normal">m</span><span class="symbol">,</span><span class="normal">n</span><span class="symbol">,</span><span class="normal">o</span><span class="symbol">,</span><span class="normal">p </span><span class="cbracket">}</span>
<span class="preproc">    #define</span><span class="normal"> </span><span class="function">VECUINT16_LITERAL</span><span class="symbol">(</span><span class="normal">a</span><span class="symbol">,</span><span class="normal">b</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">,</span><span class="normal">e</span><span class="symbol">,</span><span class="normal">f</span><span class="symbol">,</span><span class="normal">g</span><span class="symbol">,</span><span class="normal">h</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> a</span><span class="symbol">,</span><span class="normal">b</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">,</span><span class="normal">e</span><span class="symbol">,</span><span class="normal">f</span><span class="symbol">,</span><span class="normal">g</span><span class="symbol">,</span><span class="normal">h </span><span class="cbracket">}</span>
<span class="preproc">#endif</span>

<span class="preproc">#define</span><span class="normal"> </span><span class="function">UNALIGNED_PTR</span><span class="symbol">(</span><span class="normal">x</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(((</span><span class="normal">size_t</span><span class="symbol">)</span><span class="normal"> x</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0x0000000F</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">VSWIZZLE32</span><span class="symbol">(</span><span class="normal">a</span><span class="symbol">,</span><span class="normal">b</span><span class="symbol">,</span><span class="normal">c</span><span class="symbol">,</span><span class="normal">d</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                               </span><span class="symbol">(</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">+</span><span class="normal">a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">+</span><span class="normal">b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">+</span><span class="normal">c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">+</span><span class="normal">d</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                                 </span><span class="number">0x04</span><span class="symbol">+</span><span class="normal">a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x04</span><span class="symbol">+</span><span class="normal">b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x04</span><span class="symbol">+</span><span class="normal">c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x04</span><span class="symbol">+</span><span class="normal">d</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                                 </span><span class="number">0x08</span><span class="symbol">+</span><span class="normal">a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08</span><span class="symbol">+</span><span class="normal">b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08</span><span class="symbol">+</span><span class="normal">c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08</span><span class="symbol">+</span><span class="normal">d</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                                 </span><span class="number">0x0C</span><span class="symbol">+</span><span class="normal">a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0C</span><span class="symbol">+</span><span class="normal">b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0C</span><span class="symbol">+</span><span class="normal">c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0C</span><span class="symbol">+</span><span class="normal">d </span><span class="symbol">)</span>

<span class="preproc">#define</span><span class="normal"> </span><span class="function">MAKE8888</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">,</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">)</span><span class="normal">  </span><span class="symbol">\</span>
<span class="normal">    </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">r</span><span class="symbol">&lt;&lt;</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Rshift</span><span class="symbol">)&amp;</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Rmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">      </span><span class="symbol">((</span><span class="normal">g</span><span class="symbol">&lt;&lt;</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Gshift</span><span class="symbol">)&amp;</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Gmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">      </span><span class="symbol">((</span><span class="normal">b</span><span class="symbol">&lt;&lt;</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Bshift</span><span class="symbol">)&amp;</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Bmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">      </span><span class="symbol">((</span><span class="normal">a</span><span class="symbol">&lt;&lt;</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Ashift</span><span class="symbol">)&amp;</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">)</span>

<span class="comment">/*</span>
<span class="comment"> * Data Stream Touch...Altivec cache prefetching.</span>
<span class="comment"> *</span>
<span class="comment"> *  Don't use this on a G5...however, the speed boost is very significant</span>
<span class="comment"> *   on a G4.</span>
<span class="comment"> */</span>
<span class="preproc">#define</span><span class="normal"> DST_CHAN_SRC </span><span class="number">1</span>
<span class="preproc">#define</span><span class="normal"> DST_CHAN_DEST </span><span class="number">2</span>

<span class="comment">/* macro to set DST control word value... */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DST_CTRL</span><span class="symbol">(</span><span class="normal">size</span><span class="symbol">,</span><span class="normal"> count</span><span class="symbol">,</span><span class="normal"> stride</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">    </span><span class="symbol">(((</span><span class="normal">size</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">24</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">count</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">16</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">stride</span><span class="symbol">))</span>

<span class="preproc">#define</span><span class="normal"> </span><span class="function">VEC_ALIGNER</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">((</span><span class="function">UNALIGNED_PTR</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">    </span><span class="symbol">?</span><span class="normal"> </span><span class="function">vec_lvsl</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">    </span><span class="symbol">:</span><span class="normal"> </span><span class="function">vec_add</span><span class="symbol">(</span><span class="function">vec_lvsl</span><span class="symbol">(</span><span class="number">8</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">),</span><span class="normal"> </span><span class="function">vec_splat_u8</span><span class="symbol">(</span><span class="number">8</span><span class="symbol">)))</span>

<span class="comment">/* Calculate the permute vector used for 32-&gt;32 swizzling */</span>
<span class="keyword">static</span><span class="normal"> vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="function">calc_swizzle32</span><span class="symbol">(</span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt</span><span class="symbol">,</span>
<span class="normal">                                  </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/*</span>
<span class="comment">    * We have to assume that the bits that aren't used by other</span>
<span class="comment">     *  colors is alpha, and it's one complete byte, since some formats</span>
<span class="comment">     *  leave alpha with a zero mask, but we should still swizzle the bits.</span>
<span class="comment">     */</span>
<span class="normal">    </span><span class="comment">/* ARGB */</span>
<span class="normal">    </span><span class="keyword">const</span><span class="normal"> </span><span class="keyword">static</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">SDL_PixelFormat</span><span class="normal"> default_pixel_format </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        NULL</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">16</span><span class="symbol">,</span><span class="normal"> </span><span class="number">8</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">24</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xFF000000</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(!</span><span class="normal">srcfmt</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        srcfmt </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">default_pixel_format</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(!</span><span class="normal">dstfmt</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        dstfmt </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">default_pixel_format</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="keyword">const</span><span class="normal"> vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> plus </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span>
<span class="normal">                                      </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">,</span>
<span class="normal">                                      </span><span class="number">0x04</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x04</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x04</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x04</span><span class="symbol">,</span>
<span class="normal">                                      </span><span class="number">0x08</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08</span><span class="symbol">,</span>
<span class="normal">                                      </span><span class="number">0x0C</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0C</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0C</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0C</span><span class="normal"> </span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vswiz</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> srcvec</span><span class="symbol">;</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">RESHIFT</span><span class="symbol">(</span><span class="normal">X</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="number">3</span><span class="normal"> </span><span class="symbol">-</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">X</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">))</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> rmask </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RESHIFT</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Rshift</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Rshift</span><span class="symbol">);</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> gmask </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RESHIFT</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Gshift</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Gshift</span><span class="symbol">);</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> bmask </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RESHIFT</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Bshift</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Bshift</span><span class="symbol">);</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> amask</span><span class="symbol">;</span>
<span class="normal">    </span><span class="comment">/* Use zero for alpha if either surface doesn't have alpha */</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        amask </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">?</span><span class="normal"> </span><span class="function">RESHIFT</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Ashift</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> </span><span class="number">0x10</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Ashift</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal">    </span>
<span class="normal">        amask </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0x10101010</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Rmask </span><span class="symbol">|</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Gmask </span><span class="symbol">|</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Bmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">^</span><span class="normal"> </span><span class="number">0xFFFFFFFF</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span><span class="normal">           </span>
<span class="preproc">#undef</span><span class="normal"> RESHIFT  </span>
<span class="normal">    </span><span class="symbol">((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> </span><span class="symbol">*)(</span><span class="type">char</span><span class="symbol">*)&amp;</span><span class="normal">srcvec</span><span class="symbol">)[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">rmask </span><span class="symbol">|</span><span class="normal"> gmask </span><span class="symbol">|</span><span class="normal"> bmask </span><span class="symbol">|</span><span class="normal"> amask</span><span class="symbol">);</span>
<span class="normal">    vswiz </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_add</span><span class="symbol">(</span><span class="normal">plus</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="function">vec_splat</span><span class="symbol">(</span><span class="normal">srcvec</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">));</span>
<span class="normal">    </span><span class="keyword">return</span><span class="symbol">(</span><span class="normal">vswiz</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB888_RGB565</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB888_RGB565Altivec</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valpha </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u8</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vpermute </span><span class="symbol">=</span><span class="normal"> </span><span class="function">calc_swizzle32</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vgmerge </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span>
<span class="normal">        </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x02</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x06</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0e</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x12</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x16</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x1a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x1e</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> v1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u16</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> v3 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u16</span><span class="symbol">(</span><span class="number">3</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> v3f </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT16_LITERAL</span><span class="symbol">(</span>
<span class="normal">        </span><span class="number">0x003f</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x003f</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x003f</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x003f</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x003f</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x003f</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x003f</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x003f</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> vfc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT16_LITERAL</span><span class="symbol">(</span>
<span class="normal">        </span><span class="number">0x00fc</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00fc</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00fc</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00fc</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x00fc</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00fc</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00fc</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00fc</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> vf800 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="function">vec_splat_u8</span><span class="symbol">(-</span><span class="number">7</span><span class="symbol">);</span>
<span class="normal">    vf800 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">vf800</span><span class="symbol">,</span><span class="normal"> </span><span class="function">vec_splat_u16</span><span class="symbol">(</span><span class="number">8</span><span class="symbol">));</span>

<span class="normal">    </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">height</span><span class="symbol">--)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valigner</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vsrc</span><span class="symbol">;</span>

<span class="normal">        </span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">        </span><span class="type">int</span><span class="normal"> extrawidth</span><span class="symbol">;</span>

<span class="normal">        </span><span class="comment">/* do scalar until we can align... */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">(</span><span class="normal">condition</span><span class="symbol">,</span><span class="normal"> widthvar</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">condition</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="usertype">Uint32</span><span class="normal"> Pixel</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="function">DISEMBLE_RGBA</span><span class="symbol">((</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                          sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="symbol">*(</span><span class="normal">Uint16 </span><span class="symbol">*)(</span><span class="normal">dst</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(((</span><span class="normal">sR </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">8</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                                </span><span class="symbol">((</span><span class="normal">sG </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0x000007E0</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                                </span><span class="symbol">((</span><span class="normal">sB </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0x0000001F</span><span class="symbol">));</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            widthvar</span><span class="symbol">--;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">(((</span><span class="function">UNALIGNED_PTR</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">)),</span><span class="normal"> width</span><span class="symbol">);</span>

<span class="normal">        </span><span class="comment">/* After all that work, here's the vector part! */</span>
<span class="normal">        extrawidth </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">%</span><span class="normal"> </span><span class="number">8</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* trailing unaligned stores */</span>
<span class="normal">        width </span><span class="symbol">-=</span><span class="normal"> extrawidth</span><span class="symbol">;</span>
<span class="normal">        vsrc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">        valigner </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VEC_ALIGNER</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">);</span>

<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> vpixel</span><span class="symbol">,</span><span class="normal"> vrpixel</span><span class="symbol">,</span><span class="normal"> vgpixel</span><span class="symbol">,</span><span class="normal"> vbpixel</span><span class="symbol">;</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vsrc1</span><span class="symbol">,</span><span class="normal"> vsrc2</span><span class="symbol">;</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vdst</span><span class="symbol">;</span>

<span class="normal">            voverflow </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">15</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">            vsrc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal"> voverflow</span><span class="symbol">,</span><span class="normal"> valigner</span><span class="symbol">);</span>
<span class="normal">            vsrc1 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vpermute</span><span class="symbol">);</span>
<span class="normal">            src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">16</span><span class="symbol">;</span>
<span class="normal">            vsrc </span><span class="symbol">=</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">            voverflow </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">15</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">            vsrc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal"> voverflow</span><span class="symbol">,</span><span class="normal"> valigner</span><span class="symbol">);</span>
<span class="normal">            vsrc2 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vpermute</span><span class="symbol">);</span>
<span class="normal">            </span><span class="comment">/* 1555 */</span>
<span class="normal">            vpixel </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="function">vec_packpx</span><span class="symbol">(</span><span class="normal">vsrc1</span><span class="symbol">,</span><span class="normal"> vsrc2</span><span class="symbol">);</span>
<span class="normal">            vgpixel </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vsrc1</span><span class="symbol">,</span><span class="normal"> vsrc2</span><span class="symbol">,</span><span class="normal"> vgmerge</span><span class="symbol">);</span>
<span class="normal">            vgpixel </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_and</span><span class="symbol">(</span><span class="normal">vgpixel</span><span class="symbol">,</span><span class="normal"> vfc</span><span class="symbol">);</span>
<span class="normal">            vgpixel </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">vgpixel</span><span class="symbol">,</span><span class="normal"> v3</span><span class="symbol">);</span>
<span class="normal">            vrpixel </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">vpixel</span><span class="symbol">,</span><span class="normal"> v1</span><span class="symbol">);</span>
<span class="normal">            vrpixel </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_and</span><span class="symbol">(</span><span class="normal">vrpixel</span><span class="symbol">,</span><span class="normal"> vf800</span><span class="symbol">);</span>
<span class="normal">            vbpixel </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_and</span><span class="symbol">(</span><span class="normal">vpixel</span><span class="symbol">,</span><span class="normal"> v3f</span><span class="symbol">);</span>
<span class="normal">            vdst </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_or</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vrpixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vgpixel</span><span class="symbol">);</span>
<span class="normal">            </span><span class="comment">/* 565 */</span>
<span class="normal">            vdst </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_or</span><span class="symbol">(</span><span class="normal">vdst</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vbpixel</span><span class="symbol">);</span>
<span class="normal">            </span><span class="function">vec_st</span><span class="symbol">(</span><span class="normal">vdst</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> dst</span><span class="symbol">);</span>

<span class="normal">            width </span><span class="symbol">-=</span><span class="normal"> </span><span class="number">8</span><span class="symbol">;</span>
<span class="normal">            src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">16</span><span class="symbol">;</span>
<span class="normal">            dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">16</span><span class="symbol">;</span>
<span class="normal">            vsrc </span><span class="symbol">=</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>

<span class="normal">        </span><span class="comment">/* do scalar until we can align... */</span>
<span class="normal">        </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">((</span><span class="normal">extrawidth</span><span class="symbol">),</span><span class="normal"> extrawidth</span><span class="symbol">);</span>
<span class="preproc">#undef</span><span class="normal"> ONE_PIXEL_BLEND</span>

<span class="normal">        src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* move to next row, accounting for pitch. */</span>
<span class="normal">        dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>


<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB565_32Altivec</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">unsigned</span><span class="normal"> alpha</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valpha</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vpermute</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> vf800</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> v8 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u32</span><span class="symbol">(</span><span class="number">8</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> v16 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_add</span><span class="symbol">(</span><span class="normal">v8</span><span class="symbol">,</span><span class="normal"> v8</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> v2 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u16</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> v3 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u16</span><span class="symbol">(</span><span class="number">3</span><span class="symbol">);</span>
<span class="normal">    </span><span class="comment">/* </span>
<span class="comment">        0x10 - 0x1f is the alpha</span>
<span class="comment">        0x00 - 0x0e evens are the red</span>
<span class="comment">        0x01 - 0x0f odds are zero</span>
<span class="comment">    */</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vredalpha1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span>
<span class="normal">        </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x02</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x04</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x06</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vredalpha2 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span>
<span class="normal">        </span><span class="function">vec_add</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="normal">vredalpha1</span><span class="symbol">,</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">v8</span><span class="symbol">,</span><span class="normal"> v16</span><span class="symbol">))</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    </span><span class="comment">/*</span>
<span class="comment">        0x00 - 0x0f is ARxx ARxx ARxx ARxx</span>
<span class="comment">        0x11 - 0x0f odds are blue</span>
<span class="comment">    */</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vblue1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span>
<span class="normal">        </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x02</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x11</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x04</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x05</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x06</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x13</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x08</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x09</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x15</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x0c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0d</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0e</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x17</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vblue2 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)(</span>
<span class="normal">        </span><span class="function">vec_add</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="normal">vblue1</span><span class="symbol">,</span><span class="normal"> v8</span><span class="symbol">)</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    </span><span class="comment">/*</span>
<span class="comment">        0x00 - 0x0f is ARxB ARxB ARxB ARxB</span>
<span class="comment">        0x10 - 0x0e evens are green</span>
<span class="comment">    */</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vgreen1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span>
<span class="normal">        </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x03</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x04</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x05</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x12</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x07</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x08</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x09</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x14</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0b</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x0c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0d</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x16</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0f</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vgreen2 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)(</span>
<span class="normal">        </span><span class="function">vec_add</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="normal">vgreen1</span><span class="symbol">,</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">v8</span><span class="symbol">,</span><span class="normal"> v8</span><span class="symbol">))</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    </span>

<span class="normal">    </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>

<span class="normal">    vf800 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="function">vec_splat_u8</span><span class="symbol">(-</span><span class="number">7</span><span class="symbol">);</span>
<span class="normal">    vf800 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">vf800</span><span class="symbol">,</span><span class="normal"> </span><span class="function">vec_splat_u16</span><span class="symbol">(</span><span class="number">8</span><span class="symbol">));</span>

<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">&amp;&amp;</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="symbol">((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*)&amp;</span><span class="normal">valpha</span><span class="symbol">)[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> alpha </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha</span><span class="symbol">;</span>
<span class="normal">        valpha </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat</span><span class="symbol">(</span><span class="normal">valpha</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        alpha </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="normal">        valpha </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u8</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    vpermute </span><span class="symbol">=</span><span class="normal"> </span><span class="function">calc_swizzle32</span><span class="symbol">(</span><span class="normal">NULL</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">height</span><span class="symbol">--)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valigner</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vsrc</span><span class="symbol">;</span>

<span class="normal">        </span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">        </span><span class="type">int</span><span class="normal"> extrawidth</span><span class="symbol">;</span>

<span class="normal">        </span><span class="comment">/* do scalar until we can align... */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">(</span><span class="normal">condition</span><span class="symbol">,</span><span class="normal"> widthvar</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">condition</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> Pixel </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">*((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> </span><span class="symbol">*)</span><span class="normal">src</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            sR </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">8</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0xf8</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            sG </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0xfc</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            sB </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0xf8</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="function">ASSEMBLE_RGBA</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">,</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> alpha</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            widthvar</span><span class="symbol">--;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">(((</span><span class="function">UNALIGNED_PTR</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">)),</span><span class="normal"> width</span><span class="symbol">);</span>

<span class="normal">        </span><span class="comment">/* After all that work, here's the vector part! */</span>
<span class="normal">        extrawidth </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">%</span><span class="normal"> </span><span class="number">8</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* trailing unaligned stores */</span>
<span class="normal">        width </span><span class="symbol">-=</span><span class="normal"> extrawidth</span><span class="symbol">;</span>
<span class="normal">        vsrc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">        valigner </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VEC_ALIGNER</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">);</span>

<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> vR</span><span class="symbol">,</span><span class="normal"> vG</span><span class="symbol">,</span><span class="normal"> vB</span><span class="symbol">;</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vdst1</span><span class="symbol">,</span><span class="normal"> vdst2</span><span class="symbol">;</span>

<span class="normal">            voverflow </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">15</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">            vsrc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal"> voverflow</span><span class="symbol">,</span><span class="normal"> valigner</span><span class="symbol">);</span>

<span class="normal">            vR </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_and</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal"> vf800</span><span class="symbol">);</span>
<span class="normal">            vB </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal"> v3</span><span class="symbol">);</span>
<span class="normal">            vG </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">vB</span><span class="symbol">,</span><span class="normal"> v2</span><span class="symbol">);</span>

<span class="normal">            vdst1 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="function">vec_perm</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vR</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vredalpha1</span><span class="symbol">);</span>
<span class="normal">            vdst1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vB</span><span class="symbol">,</span><span class="normal"> vblue1</span><span class="symbol">);</span>
<span class="normal">            vdst1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vG</span><span class="symbol">,</span><span class="normal"> vgreen1</span><span class="symbol">);</span>
<span class="normal">            vdst1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst1</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vpermute</span><span class="symbol">);</span>
<span class="normal">            </span><span class="function">vec_st</span><span class="symbol">(</span><span class="normal">vdst1</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> dst</span><span class="symbol">);</span>

<span class="normal">            vdst2 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="function">vec_perm</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vR</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vredalpha2</span><span class="symbol">);</span>
<span class="normal">            vdst2 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst2</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vB</span><span class="symbol">,</span><span class="normal"> vblue2</span><span class="symbol">);</span>
<span class="normal">            vdst2 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst2</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vG</span><span class="symbol">,</span><span class="normal"> vgreen2</span><span class="symbol">);</span>
<span class="normal">            vdst2 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst2</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vpermute</span><span class="symbol">);</span>
<span class="normal">            </span><span class="function">vec_st</span><span class="symbol">(</span><span class="normal">vdst2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">16</span><span class="symbol">,</span><span class="normal"> dst</span><span class="symbol">);</span>
<span class="normal">            </span>
<span class="normal">            width </span><span class="symbol">-=</span><span class="normal"> </span><span class="number">8</span><span class="symbol">;</span>
<span class="normal">            dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">32</span><span class="symbol">;</span>
<span class="normal">            src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">16</span><span class="symbol">;</span>
<span class="normal">            vsrc </span><span class="symbol">=</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>


<span class="normal">        </span><span class="comment">/* do scalar until we can align... */</span>
<span class="normal">        </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">((</span><span class="normal">extrawidth</span><span class="symbol">),</span><span class="normal"> extrawidth</span><span class="symbol">);</span>
<span class="preproc">#undef</span><span class="normal"> ONE_PIXEL_BLEND</span>

<span class="normal">        src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* move to next row, accounting for pitch. */</span>
<span class="normal">        dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="cbracket">}</span>


<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB555_32Altivec</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">unsigned</span><span class="normal"> alpha</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valpha</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vpermute</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> vf800</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> v8 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u32</span><span class="symbol">(</span><span class="number">8</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> v16 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_add</span><span class="symbol">(</span><span class="normal">v8</span><span class="symbol">,</span><span class="normal"> v8</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> v1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u16</span><span class="symbol">(</span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> v3 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u16</span><span class="symbol">(</span><span class="number">3</span><span class="symbol">);</span>
<span class="normal">    </span><span class="comment">/* </span>
<span class="comment">        0x10 - 0x1f is the alpha</span>
<span class="comment">        0x00 - 0x0e evens are the red</span>
<span class="comment">        0x01 - 0x0f odds are zero</span>
<span class="comment">    */</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vredalpha1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span>
<span class="normal">        </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x02</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x04</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x06</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vredalpha2 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)(</span>
<span class="normal">        </span><span class="function">vec_add</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="normal">vredalpha1</span><span class="symbol">,</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">v8</span><span class="symbol">,</span><span class="normal"> v16</span><span class="symbol">))</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    </span><span class="comment">/*</span>
<span class="comment">        0x00 - 0x0f is ARxx ARxx ARxx ARxx</span>
<span class="comment">        0x11 - 0x0f odds are blue</span>
<span class="comment">    */</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vblue1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span>
<span class="normal">        </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x02</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x11</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x04</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x05</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x06</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x13</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x08</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x09</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x15</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x0c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0d</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0e</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x17</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vblue2 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)(</span>
<span class="normal">        </span><span class="function">vec_add</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="normal">vblue1</span><span class="symbol">,</span><span class="normal"> v8</span><span class="symbol">)</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    </span><span class="comment">/*</span>
<span class="comment">        0x00 - 0x0f is ARxB ARxB ARxB ARxB</span>
<span class="comment">        0x10 - 0x0e evens are green</span>
<span class="comment">    */</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vgreen1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VECUINT8_LITERAL</span><span class="symbol">(</span>
<span class="normal">        </span><span class="number">0x00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x03</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x04</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x05</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x12</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x07</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x08</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x09</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x14</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0b</span><span class="symbol">,</span>
<span class="normal">        </span><span class="number">0x0c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0d</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x16</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0f</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vgreen2 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)(</span>
<span class="normal">        </span><span class="function">vec_add</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="normal">vgreen1</span><span class="symbol">,</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">v8</span><span class="symbol">,</span><span class="normal"> v8</span><span class="symbol">))</span>
<span class="normal">    </span><span class="symbol">);</span>
<span class="normal">    </span>

<span class="normal">    </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>

<span class="normal">    vf800 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="function">vec_splat_u8</span><span class="symbol">(-</span><span class="number">7</span><span class="symbol">);</span>
<span class="normal">    vf800 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">vf800</span><span class="symbol">,</span><span class="normal"> </span><span class="function">vec_splat_u16</span><span class="symbol">(</span><span class="number">8</span><span class="symbol">));</span>

<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">&amp;&amp;</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="symbol">((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*)&amp;</span><span class="normal">valpha</span><span class="symbol">)[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> alpha </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha</span><span class="symbol">;</span>
<span class="normal">        valpha </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat</span><span class="symbol">(</span><span class="normal">valpha</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        alpha </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="normal">        valpha </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u8</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    vpermute </span><span class="symbol">=</span><span class="normal"> </span><span class="function">calc_swizzle32</span><span class="symbol">(</span><span class="normal">NULL</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">height</span><span class="symbol">--)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valigner</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vsrc</span><span class="symbol">;</span>

<span class="normal">        </span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">        </span><span class="type">int</span><span class="normal"> extrawidth</span><span class="symbol">;</span>

<span class="normal">        </span><span class="comment">/* do scalar until we can align... */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">(</span><span class="normal">condition</span><span class="symbol">,</span><span class="normal"> widthvar</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">condition</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> Pixel </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">*((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> </span><span class="symbol">*)</span><span class="normal">src</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            sR </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">7</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0xf8</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            sG </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0xf8</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            sB </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0xf8</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="function">ASSEMBLE_RGBA</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">,</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> alpha</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            widthvar</span><span class="symbol">--;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">(((</span><span class="function">UNALIGNED_PTR</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">)),</span><span class="normal"> width</span><span class="symbol">);</span>

<span class="normal">        </span><span class="comment">/* After all that work, here's the vector part! */</span>
<span class="normal">        extrawidth </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">%</span><span class="normal"> </span><span class="number">8</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* trailing unaligned stores */</span>
<span class="normal">        width </span><span class="symbol">-=</span><span class="normal"> extrawidth</span><span class="symbol">;</span>
<span class="normal">        vsrc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">        valigner </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VEC_ALIGNER</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">);</span>

<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="normal"> vR</span><span class="symbol">,</span><span class="normal"> vG</span><span class="symbol">,</span><span class="normal"> vB</span><span class="symbol">;</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vdst1</span><span class="symbol">,</span><span class="normal"> vdst2</span><span class="symbol">;</span>

<span class="normal">            voverflow </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">15</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">            vsrc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal"> voverflow</span><span class="symbol">,</span><span class="normal"> valigner</span><span class="symbol">);</span>

<span class="normal">            vR </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_and</span><span class="symbol">(</span><span class="function">vec_sl</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal">v1</span><span class="symbol">),</span><span class="normal"> vf800</span><span class="symbol">);</span>
<span class="normal">            vB </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">short</span><span class="symbol">)</span><span class="normal">vsrc</span><span class="symbol">,</span><span class="normal"> v3</span><span class="symbol">);</span>
<span class="normal">            vG </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_sl</span><span class="symbol">(</span><span class="normal">vB</span><span class="symbol">,</span><span class="normal"> v3</span><span class="symbol">);</span>

<span class="normal">            vdst1 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="function">vec_perm</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vR</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vredalpha1</span><span class="symbol">);</span>
<span class="normal">            vdst1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vB</span><span class="symbol">,</span><span class="normal"> vblue1</span><span class="symbol">);</span>
<span class="normal">            vdst1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vG</span><span class="symbol">,</span><span class="normal"> vgreen1</span><span class="symbol">);</span>
<span class="normal">            vdst1 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst1</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vpermute</span><span class="symbol">);</span>
<span class="normal">            </span><span class="function">vec_st</span><span class="symbol">(</span><span class="normal">vdst1</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> dst</span><span class="symbol">);</span>

<span class="normal">            vdst2 </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="function">vec_perm</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vR</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vredalpha2</span><span class="symbol">);</span>
<span class="normal">            vdst2 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst2</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vB</span><span class="symbol">,</span><span class="normal"> vblue2</span><span class="symbol">);</span>
<span class="normal">            vdst2 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst2</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vG</span><span class="symbol">,</span><span class="normal"> vgreen2</span><span class="symbol">);</span>
<span class="normal">            vdst2 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vdst2</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vpermute</span><span class="symbol">);</span>
<span class="normal">            </span><span class="function">vec_st</span><span class="symbol">(</span><span class="normal">vdst2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">16</span><span class="symbol">,</span><span class="normal"> dst</span><span class="symbol">);</span>
<span class="normal">            </span>
<span class="normal">            width </span><span class="symbol">-=</span><span class="normal"> </span><span class="number">8</span><span class="symbol">;</span>
<span class="normal">            dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">32</span><span class="symbol">;</span>
<span class="normal">            src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">16</span><span class="symbol">;</span>
<span class="normal">            vsrc </span><span class="symbol">=</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>


<span class="normal">        </span><span class="comment">/* do scalar until we can align... */</span>
<span class="normal">        </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">((</span><span class="normal">extrawidth</span><span class="symbol">),</span><span class="normal"> extrawidth</span><span class="symbol">);</span>
<span class="preproc">#undef</span><span class="normal"> ONE_PIXEL_BLEND</span>

<span class="normal">        src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* move to next row, accounting for pitch. */</span>
<span class="normal">        dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">BlitNtoNKey</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">BlitNtoNKeyCopyAlpha</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">);</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit32to32KeyAltivec</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcp </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstp </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> srcbpp </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> dstbpp </span><span class="symbol">=</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> copy_alpha </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">&amp;&amp;</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">);</span>
<span class="normal">	</span><span class="type">unsigned</span><span class="normal"> alpha </span><span class="symbol">=</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">?</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha </span><span class="symbol">:</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> rgbmask </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Rmask </span><span class="symbol">|</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Gmask </span><span class="symbol">|</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Bmask</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> ckey </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">-&gt;</span><span class="normal">colorkey</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> valpha</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vpermute</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vzero</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vckey</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vrgbmask</span><span class="symbol">;</span>
<span class="normal">    vpermute </span><span class="symbol">=</span><span class="normal"> </span><span class="function">calc_swizzle32</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">d_width </span><span class="symbol">&lt;</span><span class="normal"> </span><span class="number">16</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">copy_alpha</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="function">BlitNtoNKeyCopyAlpha</span><span class="symbol">(</span><span class="normal">info</span><span class="symbol">);</span>
<span class="normal">        </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="function">BlitNtoNKey</span><span class="symbol">(</span><span class="normal">info</span><span class="symbol">);</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="keyword">return</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    vzero </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u8</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">alpha</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="symbol">((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*)&amp;</span><span class="normal">valpha</span><span class="symbol">)[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">alpha</span><span class="symbol">;</span>
<span class="normal">        valpha </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="function">vec_splat</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">valpha</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        valpha </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="normal">vzero</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    ckey </span><span class="symbol">&amp;=</span><span class="normal"> rgbmask</span><span class="symbol">;</span>
<span class="normal">    </span><span class="symbol">((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> </span><span class="symbol">*)(</span><span class="type">char</span><span class="symbol">*)&amp;</span><span class="normal">vckey</span><span class="symbol">)[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> ckey</span><span class="symbol">;</span>
<span class="normal">    vckey </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat</span><span class="symbol">(</span><span class="normal">vckey</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    </span><span class="symbol">((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> </span><span class="symbol">*)(</span><span class="type">char</span><span class="symbol">*)&amp;</span><span class="normal">vrgbmask</span><span class="symbol">)[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> rgbmask</span><span class="symbol">;</span>
<span class="normal">    vrgbmask </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat</span><span class="symbol">(</span><span class="normal">vrgbmask</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>

<span class="normal">    </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">height</span><span class="symbol">--)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">(</span><span class="normal">condition</span><span class="symbol">,</span><span class="normal"> widthvar</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">copy_alpha</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">condition</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="usertype">Uint32</span><span class="normal"> Pixel</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="function">DISEMBLE_RGBA</span><span class="symbol">((</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal">srcp</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                          sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&amp;</span><span class="normal"> rgbmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> ckey </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                      </span><span class="function">ASSEMBLE_RGBA</span><span class="symbol">((</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal">dstp</span><span class="symbol">,</span><span class="normal"> dstbpp</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                            sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                dstp </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> </span><span class="symbol">(((</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal"> dstp</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">+</span><span class="normal"> dstbpp</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                srcp </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> </span><span class="symbol">(((</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal"> srcp</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">+</span><span class="normal"> srcbpp</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                widthvar</span><span class="symbol">--;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">condition</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="usertype">Uint32</span><span class="normal"> Pixel</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="function">RETRIEVE_RGB_PIXEL</span><span class="symbol">((</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal">srcp</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> Pixel </span><span class="symbol">!=</span><span class="normal"> ckey </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                    </span><span class="function">RGB_FROM_PIXEL</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                    </span><span class="function">ASSEMBLE_RGBA</span><span class="symbol">((</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal">dstp</span><span class="symbol">,</span><span class="normal"> dstbpp</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                              sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> alpha</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                </span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                dstp </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> </span><span class="symbol">(((</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal">dstp</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">+</span><span class="normal"> dstbpp</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                srcp </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> </span><span class="symbol">(((</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal">srcp</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">+</span><span class="normal"> srcbpp</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">                widthvar</span><span class="symbol">--;</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">            </span><span class="cbracket">}</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">        </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">((</span><span class="function">UNALIGNED_PTR</span><span class="symbol">(</span><span class="normal">dstp</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">),</span><span class="normal"> width</span><span class="symbol">);</span>
<span class="normal">        </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">&gt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">&gt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="type">int</span><span class="normal"> extrawidth </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">%</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valigner </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VEC_ALIGNER</span><span class="symbol">(</span><span class="normal">srcp</span><span class="symbol">);</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vs </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> srcp</span><span class="symbol">);</span>
<span class="normal">            width </span><span class="symbol">-=</span><span class="normal"> extrawidth</span><span class="symbol">;</span>
<span class="normal">            </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">&gt;=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>
<span class="normal">            </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">                vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vsel</span><span class="symbol">;</span>
<span class="normal">                vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vd</span><span class="symbol">;</span>
<span class="normal">                vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> voverflow </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">15</span><span class="symbol">,</span><span class="normal"> srcp</span><span class="symbol">);</span>
<span class="normal">                </span><span class="comment">/* load the source vec */</span>
<span class="normal">                vs </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vs</span><span class="symbol">,</span><span class="normal"> voverflow</span><span class="symbol">,</span><span class="normal"> valigner</span><span class="symbol">);</span>
<span class="normal">                </span><span class="comment">/* vsel is set for items that match the key */</span>
<span class="normal">                vsel </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="function">vec_and</span><span class="symbol">(</span><span class="normal">vs</span><span class="symbol">,</span><span class="normal"> vrgbmask</span><span class="symbol">);</span>
<span class="normal">                vsel </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="function">vec_cmpeq</span><span class="symbol">(</span><span class="normal">vs</span><span class="symbol">,</span><span class="normal"> vckey</span><span class="symbol">);</span>
<span class="normal">                </span><span class="comment">/* permute the src vec to the dest format */</span>
<span class="normal">                vs </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vs</span><span class="symbol">,</span><span class="normal"> valpha</span><span class="symbol">,</span><span class="normal"> vpermute</span><span class="symbol">);</span>
<span class="normal">                </span><span class="comment">/* load the destination vec */</span>
<span class="normal">                vd </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> dstp</span><span class="symbol">);</span>
<span class="normal">                </span><span class="comment">/* select the source and dest into vs */</span>
<span class="normal">                vd </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="function">vec_sel</span><span class="symbol">((</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vs</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="symbol">)</span><span class="normal">vd</span><span class="symbol">,</span><span class="normal"> vsel</span><span class="symbol">);</span>
<span class="normal">                </span>
<span class="normal">                </span><span class="function">vec_st</span><span class="symbol">(</span><span class="normal">vd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> dstp</span><span class="symbol">);</span>
<span class="normal">                srcp </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">                width </span><span class="symbol">-=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">                dstp </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">                vs </span><span class="symbol">=</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">            </span><span class="cbracket">}</span>
<span class="normal">            </span><span class="function">ONE_PIXEL_BLEND</span><span class="symbol">((</span><span class="normal">extrawidth</span><span class="symbol">),</span><span class="normal"> extrawidth</span><span class="symbol">);</span>
<span class="preproc">#undef</span><span class="normal"> ONE_PIXEL_BLEND</span>
<span class="normal">            srcp </span><span class="symbol">+=</span><span class="normal"> srcskip </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">            dstp </span><span class="symbol">+=</span><span class="normal"> dstskip </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="comment">/* Altivec code to swizzle one 32-bit surface to a different 32-bit format. */</span>
<span class="comment">/* Use this on a G5 */</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">ConvertAltivec32to32_noprefetch</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vzero </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u32</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vpermute </span><span class="symbol">=</span><span class="normal"> </span><span class="function">calc_swizzle32</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">!</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valpha</span><span class="symbol">;</span>
<span class="normal">            </span><span class="symbol">((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*)&amp;</span><span class="normal">valpha</span><span class="symbol">)[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha</span><span class="symbol">;</span>
<span class="normal">            vzero </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="function">vec_splat</span><span class="symbol">(</span><span class="normal">valpha</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>

<span class="normal">    </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">height</span><span class="symbol">--)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valigner</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vbits</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        </span><span class="usertype">Uint32</span><span class="normal"> bits</span><span class="symbol">;</span>
<span class="normal">        </span><span class="usertype">Uint8</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">;</span>

<span class="normal">        </span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">        </span><span class="type">int</span><span class="normal"> extrawidth</span><span class="symbol">;</span>

<span class="normal">        </span><span class="comment">/* do scalar until we can align... */</span>
<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">((</span><span class="function">UNALIGNED_PTR</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            bits </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">*(</span><span class="normal">src</span><span class="symbol">++);</span>
<span class="normal">            </span><span class="function">RGBA_FROM_8888</span><span class="symbol">(</span><span class="normal">bits</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">);</span>
<span class="normal">            </span><span class="symbol">*(</span><span class="normal">dst</span><span class="symbol">++)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">MAKE8888</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">,</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">);</span>
<span class="normal">            width</span><span class="symbol">--;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class="comment">/* After all that work, here's the vector part! */</span>
<span class="normal">        extrawidth </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">%</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>
<span class="normal">        width </span><span class="symbol">-=</span><span class="normal"> extrawidth</span><span class="symbol">;</span>
<span class="normal">        valigner </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VEC_ALIGNER</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">        vbits </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>

<span class="normal">       </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            voverflow </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">15</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">            src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">            width </span><span class="symbol">-=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">            vbits </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vbits</span><span class="symbol">,</span><span class="normal"> voverflow</span><span class="symbol">,</span><span class="normal"> valigner</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* src is ready. */</span>
<span class="normal">            vbits </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vbits</span><span class="symbol">,</span><span class="normal"> vzero</span><span class="symbol">,</span><span class="normal"> vpermute</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* swizzle it. */</span>
<span class="normal">            </span><span class="function">vec_st</span><span class="symbol">(</span><span class="normal">vbits</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> dst</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* store it back out. */</span>
<span class="normal">            dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">            vbits </span><span class="symbol">=</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>

<span class="normal">        </span><span class="comment">/* cover pixels at the end of the row that didn't fit in 16 bytes. */</span>
<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">extrawidth</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            bits </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">*(</span><span class="normal">src</span><span class="symbol">++);</span><span class="normal">  </span><span class="comment">/* max 7 pixels, don't bother with prefetch. */</span>
<span class="normal">            </span><span class="function">RGBA_FROM_8888</span><span class="symbol">(</span><span class="normal">bits</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">);</span>
<span class="normal">            </span><span class="symbol">*(</span><span class="normal">dst</span><span class="symbol">++)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">MAKE8888</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">,</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">);</span>
<span class="normal">            extrawidth</span><span class="symbol">--;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        src </span><span class="symbol">+=</span><span class="normal"> srcskip </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* move to next row, accounting for pitch. */</span>
<span class="normal">        dst </span><span class="symbol">+=</span><span class="normal"> dstskip </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="cbracket">}</span>

<span class="comment">/* Altivec code to swizzle one 32-bit surface to a different 32-bit format. */</span>
<span class="comment">/* Use this on a G4 */</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">ConvertAltivec32to32_prefetch</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">const</span><span class="normal"> </span><span class="type">int</span><span class="normal"> scalar_dst_lead </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">    </span><span class="keyword">const</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vector_dst_lead </span><span class="symbol">=</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> </span><span class="number">16</span><span class="symbol">;</span>

<span class="normal">    </span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vzero </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_splat_u32</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> vpermute </span><span class="symbol">=</span><span class="normal"> </span><span class="function">calc_swizzle32</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">!</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valpha</span><span class="symbol">;</span>
<span class="normal">            </span><span class="symbol">((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*)&amp;</span><span class="normal">valpha</span><span class="symbol">)[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha</span><span class="symbol">;</span>
<span class="normal">            vzero </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">vector </span><span class="usertype">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="function">vec_splat</span><span class="symbol">(</span><span class="normal">valpha</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>

<span class="normal">    </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">height</span><span class="symbol">--)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> valigner</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> vbits</span><span class="symbol">;</span>
<span class="normal">        vector </span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        </span><span class="usertype">Uint32</span><span class="normal"> bits</span><span class="symbol">;</span>
<span class="normal">        </span><span class="usertype">Uint8</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">;</span>

<span class="normal">        </span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">        </span><span class="type">int</span><span class="normal"> extrawidth</span><span class="symbol">;</span>

<span class="normal">        </span><span class="comment">/* do scalar until we can align... */</span>
<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">((</span><span class="function">UNALIGNED_PTR</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="function">vec_dstt</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">+</span><span class="normal">scalar_dst_lead</span><span class="symbol">,</span><span class="normal"> </span><span class="function">DST_CTRL</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">,</span><span class="number">32</span><span class="symbol">,</span><span class="number">1024</span><span class="symbol">),</span><span class="normal"> DST_CHAN_SRC</span><span class="symbol">);</span>
<span class="normal">            </span><span class="function">vec_dstst</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">+</span><span class="normal">scalar_dst_lead</span><span class="symbol">,</span><span class="normal"> </span><span class="function">DST_CTRL</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">,</span><span class="number">32</span><span class="symbol">,</span><span class="number">1024</span><span class="symbol">),</span><span class="normal"> DST_CHAN_DEST</span><span class="symbol">);</span>
<span class="normal">            bits </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">*(</span><span class="normal">src</span><span class="symbol">++);</span>
<span class="normal">            </span><span class="function">RGBA_FROM_8888</span><span class="symbol">(</span><span class="normal">bits</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">);</span>
<span class="normal">            </span><span class="symbol">*(</span><span class="normal">dst</span><span class="symbol">++)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">MAKE8888</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">,</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">);</span>
<span class="normal">            width</span><span class="symbol">--;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        </span><span class="comment">/* After all that work, here's the vector part! */</span>
<span class="normal">        extrawidth </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">%</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>
<span class="normal">        width </span><span class="symbol">-=</span><span class="normal"> extrawidth</span><span class="symbol">;</span>
<span class="normal">        valigner </span><span class="symbol">=</span><span class="normal"> </span><span class="function">VEC_ALIGNER</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">        vbits </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>

<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="function">vec_dstt</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">+</span><span class="normal">vector_dst_lead</span><span class="symbol">,</span><span class="normal"> </span><span class="function">DST_CTRL</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">,</span><span class="number">32</span><span class="symbol">,</span><span class="number">1024</span><span class="symbol">),</span><span class="normal"> DST_CHAN_SRC</span><span class="symbol">);</span>
<span class="normal">            </span><span class="function">vec_dstst</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">+</span><span class="normal">vector_dst_lead</span><span class="symbol">,</span><span class="normal"> </span><span class="function">DST_CTRL</span><span class="symbol">(</span><span class="number">2</span><span class="symbol">,</span><span class="number">32</span><span class="symbol">,</span><span class="number">1024</span><span class="symbol">),</span><span class="normal"> DST_CHAN_DEST</span><span class="symbol">);</span>
<span class="normal">            voverflow </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_ld</span><span class="symbol">(</span><span class="number">15</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">            src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">            width </span><span class="symbol">-=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">            vbits </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vbits</span><span class="symbol">,</span><span class="normal"> voverflow</span><span class="symbol">,</span><span class="normal"> valigner</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* src is ready. */</span>
<span class="normal">            vbits </span><span class="symbol">=</span><span class="normal"> </span><span class="function">vec_perm</span><span class="symbol">(</span><span class="normal">vbits</span><span class="symbol">,</span><span class="normal"> vzero</span><span class="symbol">,</span><span class="normal"> vpermute</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* swizzle it. */</span>
<span class="normal">            </span><span class="function">vec_st</span><span class="symbol">(</span><span class="normal">vbits</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> dst</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* store it back out. */</span>
<span class="normal">            dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">            vbits </span><span class="symbol">=</span><span class="normal"> voverflow</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">        </span>
<span class="normal">        </span><span class="function">assert</span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>

<span class="normal">        </span><span class="comment">/* cover pixels at the end of the row that didn't fit in 16 bytes. */</span>
<span class="normal">        </span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">extrawidth</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            bits </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">*(</span><span class="normal">src</span><span class="symbol">++);</span><span class="normal">  </span><span class="comment">/* max 7 pixels, don't bother with prefetch. */</span>
<span class="normal">            </span><span class="function">RGBA_FROM_8888</span><span class="symbol">(</span><span class="normal">bits</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">);</span>
<span class="normal">            </span><span class="symbol">*(</span><span class="normal">dst</span><span class="symbol">++)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">MAKE8888</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">,</span><span class="normal"> r</span><span class="symbol">,</span><span class="normal"> g</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> a</span><span class="symbol">);</span>
<span class="normal">            extrawidth</span><span class="symbol">--;</span>
<span class="normal">        </span><span class="cbracket">}</span>

<span class="normal">        src </span><span class="symbol">+=</span><span class="normal"> srcskip </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* move to next row, accounting for pitch. */</span>
<span class="normal">        dst </span><span class="symbol">+=</span><span class="normal"> dstskip </span><span class="symbol">&gt;&gt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="function">vec_dss</span><span class="symbol">(</span><span class="normal">DST_CHAN_SRC</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">vec_dss</span><span class="symbol">(</span><span class="normal">DST_CHAN_DEST</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="usertype">Uint32</span><span class="normal"> </span><span class="function">GetBlitFeatures</span><span class="symbol">(</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">static</span><span class="normal"> </span><span class="usertype">Uint32</span><span class="normal"> features </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0xffffffff</span><span class="symbol">;</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">features </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0xffffffff</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="comment">/* Provide an override for testing .. */</span>
<span class="normal">        </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">override </span><span class="symbol">=</span><span class="normal"> </span><span class="function">SDL_getenv</span><span class="symbol">(</span><span class="string">"SDL_ALTIVEC_BLIT_FEATURES"</span><span class="symbol">);</span>
<span class="normal">        </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">override</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            features </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="normal">            </span><span class="function">SDL_sscanf</span><span class="symbol">(</span><span class="normal">override</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"%u"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">features</span><span class="symbol">);</span>
<span class="normal">        </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            features </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="number">0</span>
<span class="normal">                </span><span class="comment">/* Feature 1 is has-MMX */</span>
<span class="normal">                </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">((</span><span class="function">SDL_HasMMX</span><span class="symbol">())</span><span class="normal"> </span><span class="symbol">?</span><span class="normal"> </span><span class="number">1</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span>
<span class="normal">                </span><span class="comment">/* Feature 2 is has-AltiVec */</span>
<span class="normal">                </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">((</span><span class="function">SDL_HasAltiVec</span><span class="symbol">())</span><span class="normal"> </span><span class="symbol">?</span><span class="normal"> </span><span class="number">2</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span>
<span class="normal">                </span><span class="comment">/* Feature 4 is dont-use-prefetch */</span>
<span class="normal">                </span><span class="comment">/* !!!! </span><span class="todo">FIXME:</span><span class="comment"> Check for G5 or later, not the cache size! Always prefetch on a G4. */</span>
<span class="normal">                </span><span class="symbol">|</span><span class="normal"> </span><span class="symbol">((</span><span class="function">GetL3CacheSize</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">?</span><span class="normal"> </span><span class="number">4</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span>
<span class="normal">            </span><span class="symbol">);</span>
<span class="normal">        </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> features</span><span class="symbol">;</span>
<span class="cbracket">}</span>
<span class="preproc">#if</span><span class="normal"> __MWERKS__</span>
<span class="preproc">#pragma</span><span class="normal"> altivec_model off</span>
<span class="preproc">#endif</span>
<span class="preproc">#else</span>
<span class="comment">/* Feature 1 is has-MMX */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">GetBlitFeatures</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">Uint32</span><span class="symbol">)(</span><span class="function">SDL_HasMMX</span><span class="symbol">()</span><span class="normal"> </span><span class="symbol">?</span><span class="normal"> </span><span class="number">1</span><span class="normal"> </span><span class="symbol">:</span><span class="normal"> </span><span class="number">0</span><span class="symbol">))</span>
<span class="preproc">#endif</span>

<span class="comment">/* This is now endian dependent */</span>
<span class="preproc">#if</span><span class="normal"> SDL_BYTEORDER </span><span class="symbol">==</span><span class="normal"> SDL_LIL_ENDIAN</span>
<span class="preproc">#define</span><span class="normal"> HI	</span><span class="number">1</span>
<span class="preproc">#define</span><span class="normal"> LO	</span><span class="number">0</span>
<span class="preproc">#else</span><span class="normal"> </span><span class="comment">/* SDL_BYTEORDER == SDL_BIG_ENDIAN */</span>
<span class="preproc">#define</span><span class="normal"> HI	</span><span class="number">0</span>
<span class="preproc">#define</span><span class="normal"> LO	</span><span class="number">1</span>
<span class="preproc">#endif</span>

<span class="preproc">#if</span><span class="normal"> SDL_HERMES_BLITTERS</span>

<span class="comment">/* Heheheh, we coerce Hermes into using SDL blit information */</span>
<span class="preproc">#define</span><span class="normal"> X86_ASSEMBLER</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="usertype">HermesConverterInterface</span><span class="normal">	SDL_BlitInfo</span>
<span class="preproc">#define</span><span class="normal"> HermesClearInterface		</span><span class="type">void</span>
<span class="preproc">#define</span><span class="normal"> STACKCALL</span>

<span class="preproc">#include</span><span class="normal"> </span><span class="string">"../hermes/HeadMMX.h"</span>
<span class="preproc">#include</span><span class="normal"> </span><span class="string">"../hermes/HeadX86.h"</span>

<span class="preproc">#else</span>

<span class="comment">/* Special optimized blit for RGB 8-8-8 --&gt; RGB 3-3-2 */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8</span><span class="symbol">)((((</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x00E00000</span><span class="symbol">)&gt;&gt;</span><span class="number">16</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	              </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x0000E000</span><span class="symbol">)&gt;&gt;</span><span class="number">11</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	              </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x000000C0</span><span class="symbol">)&gt;&gt;</span><span class="number">6</span><span class="symbol">));</span><span class="normal"> </span><span class="symbol">\</span>
<span class="cbracket">}</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB888_index8</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="preproc">#ifndef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> c</span><span class="symbol">;</span>
<span class="preproc">#endif</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width</span><span class="symbol">,</span><span class="normal"> height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">map</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip</span><span class="symbol">,</span><span class="normal"> dstskip</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">	width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">	dst </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	map </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">table</span><span class="symbol">;</span>

<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> map </span><span class="symbol">==</span><span class="normal"> NULL </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="preproc">#ifdef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">			</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(*</span><span class="normal">dst</span><span class="symbol">++,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">,</span><span class="normal"> width</span><span class="symbol">);</span>
<span class="preproc">#else</span>
<span class="normal">			</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="comment">/* Pack RGB into 8bit pixel */</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(*</span><span class="normal">dst</span><span class="symbol">++,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(*</span><span class="normal">dst</span><span class="symbol">++,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(*</span><span class="normal">dst</span><span class="symbol">++,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			</span><span class="keyword">switch</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> width </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">3</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">3</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB332</span><span class="symbol">(*</span><span class="normal">dst</span><span class="symbol">++,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">2</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB332</span><span class="symbol">(*</span><span class="normal">dst</span><span class="symbol">++,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">1</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB332</span><span class="symbol">(*</span><span class="normal">dst</span><span class="symbol">++,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* USE_DUFFS_LOOP */</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="type">int</span><span class="normal"> Pixel</span><span class="symbol">;</span>

<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="preproc">#ifdef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">			</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">,</span><span class="normal"> width</span><span class="symbol">);</span>
<span class="preproc">#else</span>
<span class="normal">			</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="comment">/* Pack RGB into 8bit pixel */</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			</span><span class="keyword">switch</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> width </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">3</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">3</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">2</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">1</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* USE_DUFFS_LOOP */</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="cbracket">}</span>
<span class="comment">/* Special optimized blit for RGB 8-8-8 --&gt; RGB 5-5-5 */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">RGB888_RGB555</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	</span><span class="symbol">*(</span><span class="normal">Uint16 </span><span class="symbol">*)(</span><span class="normal">dst</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint16</span><span class="symbol">)((((*</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x00F80000</span><span class="symbol">)&gt;&gt;</span><span class="number">9</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                            </span><span class="symbol">(((*</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x0000F800</span><span class="symbol">)&gt;&gt;</span><span class="number">6</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                            </span><span class="symbol">(((*</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x000000F8</span><span class="symbol">)&gt;&gt;</span><span class="number">3</span><span class="symbol">));</span><span class="normal"> </span><span class="symbol">\</span>
<span class="cbracket">}</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">RGB888_RGB555_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	</span><span class="symbol">*(</span><span class="normal">Uint32 </span><span class="symbol">*)(</span><span class="normal">dst</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(((((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">HI</span><span class="symbol">])&amp;</span><span class="number">0x00F80000</span><span class="symbol">)&gt;&gt;</span><span class="number">9</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">HI</span><span class="symbol">])&amp;</span><span class="number">0x0000F800</span><span class="symbol">)&gt;&gt;</span><span class="number">6</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">HI</span><span class="symbol">])&amp;</span><span class="number">0x000000F8</span><span class="symbol">)&gt;&gt;</span><span class="number">3</span><span class="symbol">))&lt;&lt;</span><span class="number">16</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">LO</span><span class="symbol">])&amp;</span><span class="number">0x00F80000</span><span class="symbol">)&gt;&gt;</span><span class="number">9</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">LO</span><span class="symbol">])&amp;</span><span class="number">0x0000F800</span><span class="symbol">)&gt;&gt;</span><span class="number">6</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">LO</span><span class="symbol">])&amp;</span><span class="number">0x000000F8</span><span class="symbol">)&gt;&gt;</span><span class="number">3</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="cbracket">}</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB888_RGB555</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="preproc">#ifndef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> c</span><span class="symbol">;</span>
<span class="preproc">#endif</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width</span><span class="symbol">,</span><span class="normal"> height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint16</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip</span><span class="symbol">,</span><span class="normal"> dstskip</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">	width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">	dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint16 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">/</span><span class="number">2</span><span class="symbol">;</span>

<span class="preproc">#ifdef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">			</span><span class="function">RGB888_RGB555</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">		</span><span class="symbol">,</span><span class="normal"> width</span><span class="symbol">);</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="preproc">#else</span>
<span class="normal">	</span><span class="comment">/* Memory align at 4-byte boundary, if necessary */</span>
<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal">dst </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0x03</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="comment">/* Don't do anything if width is 0 */</span>
<span class="normal">		</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> width </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="keyword">return</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">		</span><span class="symbol">--</span><span class="normal">width</span><span class="symbol">;</span>

<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="comment">/* Perform copy alignment */</span>
<span class="normal">			</span><span class="function">RGB888_RGB555</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>

<span class="normal">			</span><span class="comment">/* Copy in 4 pixel chunks */</span>
<span class="normal">			</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="function">RGB888_RGB555_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB555_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			</span><span class="comment">/* Get any leftovers */</span>
<span class="normal">			</span><span class="keyword">switch</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">3</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB555</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">2</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB555_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">					dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">					</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">1</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB555</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">					</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span>
<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="comment">/* Copy in 4 pixel chunks */</span>
<span class="normal">			</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="function">RGB888_RGB555_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB555_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			</span><span class="comment">/* Get any leftovers */</span>
<span class="normal">			</span><span class="keyword">switch</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">3</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB555</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">2</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB555_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">					dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">					</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">1</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB555</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">					</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* USE_DUFFS_LOOP */</span>
<span class="cbracket">}</span>
<span class="comment">/* Special optimized blit for RGB 8-8-8 --&gt; RGB 5-6-5 */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">RGB888_RGB565</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	</span><span class="symbol">*(</span><span class="normal">Uint16 </span><span class="symbol">*)(</span><span class="normal">dst</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint16</span><span class="symbol">)((((*</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x00F80000</span><span class="symbol">)&gt;&gt;</span><span class="number">8</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                            </span><span class="symbol">(((*</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x0000FC00</span><span class="symbol">)&gt;&gt;</span><span class="number">5</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                            </span><span class="symbol">(((*</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x000000F8</span><span class="symbol">)&gt;&gt;</span><span class="number">3</span><span class="symbol">));</span><span class="normal"> </span><span class="symbol">\</span>
<span class="cbracket">}</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">RGB888_RGB565_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	</span><span class="symbol">*(</span><span class="normal">Uint32 </span><span class="symbol">*)(</span><span class="normal">dst</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(((((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">HI</span><span class="symbol">])&amp;</span><span class="number">0x00F80000</span><span class="symbol">)&gt;&gt;</span><span class="number">8</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">HI</span><span class="symbol">])&amp;</span><span class="number">0x0000FC00</span><span class="symbol">)&gt;&gt;</span><span class="number">5</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">HI</span><span class="symbol">])&amp;</span><span class="number">0x000000F8</span><span class="symbol">)&gt;&gt;</span><span class="number">3</span><span class="symbol">))&lt;&lt;</span><span class="number">16</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">LO</span><span class="symbol">])&amp;</span><span class="number">0x00F80000</span><span class="symbol">)&gt;&gt;</span><span class="number">8</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">LO</span><span class="symbol">])&amp;</span><span class="number">0x0000FC00</span><span class="symbol">)&gt;&gt;</span><span class="number">5</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	                     </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">LO</span><span class="symbol">])&amp;</span><span class="number">0x000000F8</span><span class="symbol">)&gt;&gt;</span><span class="number">3</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="cbracket">}</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB888_RGB565</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="preproc">#ifndef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> c</span><span class="symbol">;</span>
<span class="preproc">#endif</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width</span><span class="symbol">,</span><span class="normal"> height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint16</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip</span><span class="symbol">,</span><span class="normal"> dstskip</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">	width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">	dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint16 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">/</span><span class="number">2</span><span class="symbol">;</span>

<span class="preproc">#ifdef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">			</span><span class="function">RGB888_RGB565</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">		</span><span class="symbol">,</span><span class="normal"> width</span><span class="symbol">);</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="preproc">#else</span>
<span class="normal">	</span><span class="comment">/* Memory align at 4-byte boundary, if necessary */</span>
<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal">dst </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0x03</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="comment">/* Don't do anything if width is 0 */</span>
<span class="normal">		</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> width </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="keyword">return</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">		</span><span class="symbol">--</span><span class="normal">width</span><span class="symbol">;</span>

<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="comment">/* Perform copy alignment */</span>
<span class="normal">			</span><span class="function">RGB888_RGB565</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>

<span class="normal">			</span><span class="comment">/* Copy in 4 pixel chunks */</span>
<span class="normal">			</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="function">RGB888_RGB565_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB565_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			</span><span class="comment">/* Get any leftovers */</span>
<span class="normal">			</span><span class="keyword">switch</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">3</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB565</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">2</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB565_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">					dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">					</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">1</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB565</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">					</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span>
<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="comment">/* Copy in 4 pixel chunks */</span>
<span class="normal">			</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="function">RGB888_RGB565_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				</span><span class="function">RGB888_RGB565_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			</span><span class="comment">/* Get any leftovers */</span>
<span class="normal">			</span><span class="keyword">switch</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">3</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB565</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">2</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB565_TWO</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">					dst </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">					</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">case</span><span class="normal"> </span><span class="number">1</span><span class="symbol">:</span>
<span class="normal">					</span><span class="function">RGB888_RGB565</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">);</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">					</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">					</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* USE_DUFFS_LOOP */</span>
<span class="cbracket">}</span>

<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* SDL_HERMES_BLITTERS */</span>


<span class="comment">/* Special optimized blit for RGB 5-6-5 --&gt; 32-bit RGB surfaces */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">RGB565_32</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> map</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">map</span><span class="symbol">[</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">LO</span><span class="symbol">]*</span><span class="number">2</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">+</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">src</span><span class="symbol">[</span><span class="normal">HI</span><span class="symbol">]*</span><span class="number">2</span><span class="symbol">+</span><span class="number">1</span><span class="symbol">])</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB565_32</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">map</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="preproc">#ifndef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> c</span><span class="symbol">;</span>
<span class="preproc">#endif</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width</span><span class="symbol">,</span><span class="normal"> height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip</span><span class="symbol">,</span><span class="normal"> dstskip</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">	width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">	dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span>

<span class="preproc">#ifdef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">		</span><span class="cbracket">{</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RGB565_32</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> map</span><span class="symbol">);</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">		width</span><span class="symbol">);</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="preproc">#else</span>
<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="comment">/* Copy in 4 pixel chunks */</span>
<span class="normal">		</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RGB565_32</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> map</span><span class="symbol">);</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RGB565_32</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> map</span><span class="symbol">);</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RGB565_32</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> map</span><span class="symbol">);</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RGB565_32</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> map</span><span class="symbol">);</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">		</span><span class="comment">/* Get any leftovers */</span>
<span class="normal">		</span><span class="keyword">switch</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">width </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="keyword">case</span><span class="normal"> </span><span class="number">3</span><span class="symbol">:</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RGB565_32</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> map</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">			</span><span class="keyword">case</span><span class="normal"> </span><span class="number">2</span><span class="symbol">:</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RGB565_32</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> map</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">			</span><span class="keyword">case</span><span class="normal"> </span><span class="number">1</span><span class="symbol">:</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="function">RGB565_32</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> map</span><span class="symbol">);</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">				</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* USE_DUFFS_LOOP */</span>
<span class="cbracket">}</span>

<span class="comment">/* Special optimized blit for RGB 5-6-5 --&gt; ARGB 8-8-8-8 */</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">Uint32</span><span class="normal"> RGB565_ARGB8888_LUT</span><span class="symbol">[</span><span class="number">512</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000008</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff002000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000010</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff004000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000018</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff006100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000020</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff008100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000029</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff00a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000031</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff00c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000039</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff00e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000041</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000004a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff082000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000052</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff084000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000005a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff086100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000062</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff088100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000006a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff08a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000073</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff08c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000007b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff08e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000083</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000008b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff102000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000094</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff104000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000009c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff106100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000000a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff108100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff10a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000000b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff10c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff10e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000000c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff182000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000000d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff184000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff186100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000000e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff188100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff18a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000000f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff18c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff18e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff200000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000408</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff202000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000410</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff204000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000418</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff206100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000420</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff208100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000429</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff20a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000431</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff20c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000439</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff20e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000441</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff290000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000044a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff292000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000452</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff294000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000045a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff296100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000462</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff298100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000046a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff29a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000473</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff29c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000047b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff29e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000483</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff310000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000048b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff312000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000494</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff314000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000049c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff316100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000004a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff318100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000004ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff31a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000004b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff31c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000004bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff31e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000004c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff390000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000004cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff392000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000004d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff394000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000004de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff396100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000004e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff398100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000004ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff39a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000004f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff39c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000004ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff39e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff410000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000808</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff412000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000810</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff414000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000818</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff416100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000820</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff418100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000829</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff41a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000831</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff41c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000839</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff41e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000841</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000084a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000852</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000085a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000862</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000086a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4aa100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000873</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4ac200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000087b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4ae200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000883</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff520000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000088b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff522000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000894</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff524000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000089c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff526100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000008a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff528100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000008ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff52a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000008b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff52c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000008bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff52e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000008c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000008cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000008d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000008de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000008e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000008ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5aa100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000008f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5ac200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000008ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5ae200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff620000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c08</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff622000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff624000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c18</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff626100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c20</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff628100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c29</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff62a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c31</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff62c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c39</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff62e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c41</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c4a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c52</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c5a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c62</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c6a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6aa100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c73</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6ac200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c7b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6ae200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c83</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff730000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c8b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff732000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000c94</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff734000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000c9c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff736100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000ca4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff738100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000cac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff73a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000cb4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff73c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000cbd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff73e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000cc5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000ccd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000cd5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000cde</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000ce6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000cee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7ba100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00000cf6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7bc200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7be200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff830000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001008</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff832000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001010</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff834000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001018</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff836100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001020</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff838100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001029</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff83a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001031</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff83c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001039</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff83e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001041</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000104a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001052</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000105a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001062</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000106a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8ba100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001073</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8bc200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000107b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8be200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001083</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff940000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000108b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff942000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001094</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff944000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000109c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff946100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000010a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff948100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000010ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff94a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000010b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff94c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000010bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff94e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000010c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000010cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000010d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000010de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000010e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000010ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9ca100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000010f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9cc200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000010ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9ce200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffa40000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001408</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffa42000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001410</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffa44000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001418</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffa46100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001420</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffa48100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001429</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffa4a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001431</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffa4c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001439</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffa4e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001441</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000144a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001452</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000145a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001462</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000146a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffaca100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001473</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffacc200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000147b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xfface200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001483</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffb40000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000148b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffb42000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001494</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffb44000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000149c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffb46100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000014a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffb48100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000014ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffb4a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000014b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffb4c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000014bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffb4e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000014c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000014cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000014d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000014de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000014e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000014ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbda100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000014f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbdc200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000014ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbde200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffc50000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001808</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffc52000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001810</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffc54000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001818</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffc56100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001820</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffc58100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001829</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffc5a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001831</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffc5c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001839</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffc5e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001841</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000184a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001852</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000185a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001862</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000186a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcda100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001873</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcdc200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000187b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcde200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001883</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffd50000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000188b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffd52000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001894</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffd54000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000189c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffd56100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000018a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffd58100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000018ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffd5a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000018b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffd5c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000018bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffd5e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000018c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000018cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000018d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000018de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000018e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000018ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffdea100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000018f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffdec200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000018ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffdee200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffe60000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c08</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffe62000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c10</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffe64000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c18</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffe66100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c20</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffe68100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c29</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffe6a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c31</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffe6c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c39</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffe6e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c41</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c4a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c52</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c5a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c62</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c6a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffeea100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c73</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffeec200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c7b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffeee200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c83</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xfff60000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c8b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xfff62000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001c94</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xfff64000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001c9c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xfff66100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001ca4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xfff68100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001cac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xfff6a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001cb4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xfff6c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001cbd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xfff6e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001cc5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001ccd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff2000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001cd5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff4000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001cde</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff6100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001ce6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff8100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001cee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffffa100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00001cf6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffffc200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00001cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffffe200</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB565_ARGB8888</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="function">Blit_RGB565_32</span><span class="symbol">(</span><span class="normal">info</span><span class="symbol">,</span><span class="normal"> RGB565_ARGB8888_LUT</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="comment">/* Special optimized blit for RGB 5-6-5 --&gt; ABGR 8-8-8-8 */</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">Uint32</span><span class="normal"> RGB565_ABGR8888_LUT</span><span class="symbol">[</span><span class="number">512</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="number">0xff000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff200000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff290000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a100</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff310000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c200</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff390000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e200</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff410000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000008</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002008</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff520000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004008</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006108</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff620000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008108</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a108</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff730000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c208</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e208</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff830000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000010</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002010</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff940000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004010</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006110</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffa40000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008110</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a110</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffb40000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c210</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e210</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffc50000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000018</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002018</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffd50000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004018</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006118</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffe60000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008118</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a118</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xfff60000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c218</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e218</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff000400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000020</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff080400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002020</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff100400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004020</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff180400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006120</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff200400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008120</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff290400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a120</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff310400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c220</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff390400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e220</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff410400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000029</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002029</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff520400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004029</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006129</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff620400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008129</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a129</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff730400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c229</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e229</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff830400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000031</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002031</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff940400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004031</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006131</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffa40400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008131</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a131</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffb40400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c231</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e231</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffc50400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000039</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002039</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffd50400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004039</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006139</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffe60400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008139</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a139</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xfff60400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c239</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff0400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e239</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff000800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000041</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff080800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002041</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff100800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004041</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff180800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006141</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff200800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008141</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff290800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a141</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff310800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c241</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff390800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e241</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff410800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000004a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000204a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff520800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000404a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000614a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff620800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000814a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a14a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff730800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c24a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e24a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff830800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000052</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002052</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff940800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004052</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006152</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffa40800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008152</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a152</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffb40800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c252</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e252</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffc50800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000005a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000205a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffd50800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000405a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000615a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffe60800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000815a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a15a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xfff60800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c25a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff0800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e25a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff000c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000062</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff080c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002062</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff100c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004062</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff180c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006162</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff200c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008162</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff290c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a162</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff310c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c262</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff390c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e262</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff410c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000006a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000206a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff520c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000406a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000616a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff620c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000816a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a16a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff730c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c26a</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e26a</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff830c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000073</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002073</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff940c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004073</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006173</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffa40c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008173</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a173</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffb40c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c273</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e273</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffc50c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000007b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000207b</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffd50c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000407b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000617b</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffe60c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000817b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a17b</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xfff60c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c27b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff0c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e27b</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff001000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000083</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff081000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002083</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff101000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004083</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff181000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006183</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff201000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008183</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff291000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a183</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff311000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c283</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff391000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e283</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff411000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000008b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000208b</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff521000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000408b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000618b</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff621000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000818b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a18b</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff731000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c28b</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e28b</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff831000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000094</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00002094</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff941000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004094</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006194</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffa41000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008194</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a194</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffb41000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c294</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e294</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffc51000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000009c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000209c</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffd51000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000409c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000619c</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffe61000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000819c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a19c</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xfff61000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c29c</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff1000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e29c</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff001400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff081400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020a4</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff101400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff181400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061a4</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff201400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff291400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1a4</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff311400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2a4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff391400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2a4</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff411400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020ac</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff521400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061ac</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff621400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1ac</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff731400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2ac</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2ac</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff831400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020b4</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff941400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061b4</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffa41400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1b4</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffb41400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2b4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2b4</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffc51400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020bd</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffd51400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061bd</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffe61400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1bd</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xfff61400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2bd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff1400</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2bd</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff001800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff081800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020c5</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff101800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff181800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061c5</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff201800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff291800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1c5</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff311800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2c5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff391800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2c5</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff411800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020cd</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff521800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061cd</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff621800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1cd</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff731800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2cd</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2cd</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff831800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020d5</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff941800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061d5</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffa41800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1d5</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffb41800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2d5</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2d5</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffc51800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020de</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffd51800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061de</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffe61800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1de</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xfff61800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2de</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff1800</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2de</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff001c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff081c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020e6</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff101c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff181c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061e6</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff201c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff291c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1e6</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff311c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2e6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff391c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2e6</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff411c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff4a1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020ee</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff521c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff5a1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061ee</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff621c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff6a1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1ee</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff731c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2ee</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff7b1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2ee</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff831c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff8b1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020f6</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xff941c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff9c1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061f6</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffa41c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffac1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1f6</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffb41c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2f6</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffbd1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2f6</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffc51c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffcd1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffd51c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000040ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffde1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000061ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xffe61c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000081ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffee1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a1ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xfff61c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c2ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffff1c00</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e2ff</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB565_ABGR8888</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="function">Blit_RGB565_32</span><span class="symbol">(</span><span class="normal">info</span><span class="symbol">,</span><span class="normal"> RGB565_ABGR8888_LUT</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="comment">/* Special optimized blit for RGB 5-6-5 --&gt; RGBA 8-8-8-8 */</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">Uint32</span><span class="normal"> RGB565_RGBA8888_LUT</span><span class="symbol">[</span><span class="number">512</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="number">0x000000ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000008ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000010ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000018ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000020ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000029ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000031ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000039ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000041ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000052ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00005aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000062ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000073ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00007bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000083ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000094ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00009cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0000a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0000b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x10e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0000c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0000d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0000e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0000f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000400ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x20000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000408ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x20200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000410ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x20400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000418ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x20610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000420ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x20810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000429ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x20a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000431ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x20c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000439ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x20e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000441ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00044aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000452ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00045aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000462ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00046aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000473ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00047bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000483ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x31000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00048bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x31200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000494ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x31400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00049cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x31610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0004a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x31810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0004acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x31a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0004b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x31c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0004bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x31e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0004c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0004cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0004d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0004deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0004e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0004eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0004f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0004ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000800ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x41000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000808ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x41200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000810ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x41400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000818ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x41610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000820ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x41810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000829ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x41a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000831ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x41c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000839ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x41e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000841ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00084aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000852ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00085aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000862ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00086aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4aa10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000873ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4ac20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00087bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4ae20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000883ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x52000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00088bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x52200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000894ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x52400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00089cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x52610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0008a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x52810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0008acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x52a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0008b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x52c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0008bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x52e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0008c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0008cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0008d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0008deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0008e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0008eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5aa10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0008f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5ac20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0008ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5ae20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c00ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x62000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c08ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x62200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c10ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x62400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c18ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x62610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c20ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x62810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c29ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x62a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c31ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x62c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c39ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x62e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c41ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c4aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c52ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c5aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c62ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c6aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6aa10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c73ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6ac20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c7bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6ae20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c83ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x73000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c8bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x73200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c94ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x73400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000c9cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x73610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000ca4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x73810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000cacff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x73a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000cb4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x73c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000cbdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x73e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000cc5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000ccdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000cd5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000cdeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000ce6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000ceeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7ba10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000cf6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7bc20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000cffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7be20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001000ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x83000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001008ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x83200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001010ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x83400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001018ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x83610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001020ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x83810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001029ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x83a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001031ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x83c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001039ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x83e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001041ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00104aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001052ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00105aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001062ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00106aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8ba10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001073ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8bc20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00107bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8be20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001083ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x94000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00108bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x94200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001094ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x94400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00109cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x94610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0010a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x94810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0010acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x94a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0010b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x94c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0010bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x94e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0010c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0010cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0010d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0010deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0010e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0010eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9ca10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0010f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9cc20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0010ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9ce20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001400ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xa4000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001408ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xa4200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001410ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xa4400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001418ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xa4610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001420ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xa4810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001429ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xa4a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001431ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xa4c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001439ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xa4e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001441ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00144aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001452ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00145aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001462ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00146aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xaca10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001473ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xacc20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00147bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xace20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001483ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xb4000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00148bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xb4200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001494ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xb4400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00149cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xb4610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0014a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xb4810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0014acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xb4a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0014b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xb4c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0014bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xb4e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0014c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0014cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0014d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0014deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0014e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0014eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbda10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0014f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbdc20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0014ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbde20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001800ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xc5000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001808ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xc5200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001810ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xc5400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001818ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xc5610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001820ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xc5810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001829ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xc5a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001831ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xc5c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001839ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xc5e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001841ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00184aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001852ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00185aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001862ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00186aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcda10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001873ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcdc20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00187bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcde20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001883ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xd5000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00188bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xd5200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001894ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xd5400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00189cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xd5610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0018a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xd5810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0018acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xd5a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0018b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xd5c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0018bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xd5e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0018c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0018cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0018d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0018deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0018e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0018eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xdea10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x0018f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xdec20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0018ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xdee20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c00ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xe6000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c08ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xe6200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c10ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xe6400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c18ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xe6610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c20ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xe6810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c29ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xe6a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c31ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xe6c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c39ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xe6e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c41ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c4aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c52ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c5aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c62ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c6aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xeea10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c73ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xeec20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c7bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xeee20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c83ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xf6000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c8bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xf6200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c94ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xf6400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001c9cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xf6610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001ca4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xf6810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001cacff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xf6a10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001cb4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xf6c20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001cbdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xf6e20000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001cc5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001ccdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff200000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001cd5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff400000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001cdeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff610000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001ce6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff810000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001ceeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffa10000</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001cf6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffc20000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x001cffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xffe20000</span><span class="symbol">,</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB565_RGBA8888</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="function">Blit_RGB565_32</span><span class="symbol">(</span><span class="normal">info</span><span class="symbol">,</span><span class="normal"> RGB565_RGBA8888_LUT</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="comment">/* Special optimized blit for RGB 5-6-5 --&gt; BGRA 8-8-8-8 */</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">Uint32</span><span class="normal"> RGB565_BGRA8888_LUT</span><span class="symbol">[</span><span class="number">512</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002000ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x10000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004000ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006100ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x20000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008100ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a100ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x31000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c200ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e200ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x41000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000008ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002008ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x52000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004008ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006108ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x62000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008108ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a108ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x73000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c208ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e208ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x83000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000010ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002010ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x94000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004010ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006110ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xa4000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008110ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a110ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xb4000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c210ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e210ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xc5000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000018ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002018ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xd5000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004018ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006118ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xe6000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008118ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a118ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xf6000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c218ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e218ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000020ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002020ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x10040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004020ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006120ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x20040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008120ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a120ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x31040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c220ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e220ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x41040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000029ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002029ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x52040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004029ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006129ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x62040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008129ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a129ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x73040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c229ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e229ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x83040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000031ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002031ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x94040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004031ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006131ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xa4040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008131ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a131ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xb4040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c231ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e231ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xc5040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000039ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002039ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xd5040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004039ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006139ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xe6040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008139ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a139ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xf6040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c239ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff040000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e239ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000041ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002041ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x10080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004041ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006141ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x20080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008141ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a141ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x31080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c241ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e241ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x41080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00004aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00204aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x52080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00404aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00614aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x62080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00814aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a14aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x73080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c24aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e24aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x83080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000052ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002052ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x94080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004052ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006152ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xa4080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008152ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a152ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xb4080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c252ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e252ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xc5080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00005aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00205aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xd5080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00405aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00615aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xe6080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00815aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a15aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xf6080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c25aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff080000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e25aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x000c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000062ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x080c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002062ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x100c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004062ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x180c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006162ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x200c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008162ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x290c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a162ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x310c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c262ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x390c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e262ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x410c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00006aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00206aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x520c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00406aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00616aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x620c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00816aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a16aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x730c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c26aff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e26aff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x830c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000073ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002073ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x940c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004073ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006173ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xa40c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008173ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a173ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xb40c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c273ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e273ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xc50c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00007bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00207bff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xd50c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00407bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00617bff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xe60c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00817bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a17bff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xf60c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c27bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff0c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e27bff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000083ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002083ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x10100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004083ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006183ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x20100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008183ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a183ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x31100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c283ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e283ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x41100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00008bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00208bff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x52100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00408bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00618bff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x62100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00818bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a18bff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x73100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c28bff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e28bff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x83100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000094ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x002094ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x94100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x004094ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x006194ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xa4100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x008194ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a194ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xb4100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c294ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e294ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xc5100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00009cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00209cff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xd5100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00409cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00619cff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xe6100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00819cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a19cff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xf6100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c29cff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff100000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e29cff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020a4ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x10140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061a4ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x20140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1a4ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x31140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2a4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2a4ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x41140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020acff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x52140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061acff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x62140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1acff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x73140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2acff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2acff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x83140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020b4ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x94140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061b4ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xa4140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1b4ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xb4140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2b4ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2b4ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xc5140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020bdff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xd5140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061bdff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xe6140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1bdff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xf6140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2bdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff140000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2bdff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x00180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x08180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020c5ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x10180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x18180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061c5ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x20180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x29180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1c5ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x31180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2c5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x39180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2c5ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x41180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020cdff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x52180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061cdff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x62180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1cdff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x73180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2cdff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2cdff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x83180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020d5ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x94180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061d5ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xa4180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1d5ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xb4180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2d5ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2d5ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xc5180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020deff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xd5180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061deff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xe6180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1deff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xf6180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2deff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff180000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2deff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x001c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x081c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020e6ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x101c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x181c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061e6ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x201c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x291c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1e6ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x311c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2e6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x391c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2e6ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x411c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x4a1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020eeff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x521c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x5a1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061eeff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x621c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x6a1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1eeff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x731c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2eeff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x7b1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2eeff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x831c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x8b1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020f6ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0x941c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x9c1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061f6ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xa41c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xac1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1f6ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xb41c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2f6ff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xbd1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2f6ff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xc51c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xcd1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0020ffff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xd51c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0040ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xde1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0061ffff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xe61c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0081ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xee1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00a1ffff</span><span class="symbol">,</span>
<span class="normal">		</span><span class="number">0xf61c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00c2ffff</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xff1c0000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00e2ffff</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB565_BGRA8888</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">    </span><span class="function">Blit_RGB565_32</span><span class="symbol">(</span><span class="normal">info</span><span class="symbol">,</span><span class="normal"> RGB565_BGRA8888_LUT</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="comment">/* Special optimized blit for RGB 8-8-8 --&gt; RGB 3-3-2 */</span>
<span class="preproc">#ifndef</span><span class="normal"> RGB888_RGB332</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x00E00000</span><span class="symbol">)&gt;&gt;</span><span class="number">16</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	      </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x0000E000</span><span class="symbol">)&gt;&gt;</span><span class="number">11</span><span class="symbol">)|</span><span class="normal"> </span><span class="symbol">\</span>
<span class="normal">	      </span><span class="symbol">(((</span><span class="normal">src</span><span class="symbol">)&amp;</span><span class="number">0x000000C0</span><span class="symbol">)&gt;&gt;</span><span class="number">6</span><span class="symbol">);</span><span class="normal"> </span><span class="symbol">\</span>
<span class="cbracket">}</span>
<span class="preproc">#endif</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit_RGB888_index8_map</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="preproc">#ifndef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> c</span><span class="symbol">;</span>
<span class="preproc">#endif</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> Pixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width</span><span class="symbol">,</span><span class="normal"> height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">map</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip</span><span class="symbol">,</span><span class="normal"> dstskip</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">	width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">	dst </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	map </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">table</span><span class="symbol">;</span>

<span class="preproc">#ifdef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">			</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">		</span><span class="symbol">,</span><span class="normal"> width</span><span class="symbol">);</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="preproc">#else</span>
<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">/</span><span class="number">4</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="comment">/* Pack RGB into 8bit pixel */</span>
<span class="normal">			</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">			</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">			</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">		</span><span class="keyword">switch</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> width </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">3</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="keyword">case</span><span class="normal"> </span><span class="number">3</span><span class="symbol">:</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="keyword">case</span><span class="normal"> </span><span class="number">2</span><span class="symbol">:</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="keyword">case</span><span class="normal"> </span><span class="number">1</span><span class="symbol">:</span>
<span class="normal">				</span><span class="function">RGB888_RGB332</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">++</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[</span><span class="normal">Pixel</span><span class="symbol">];</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* USE_DUFFS_LOOP */</span>
<span class="cbracket">}</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">BlitNto1</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="preproc">#ifndef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> c</span><span class="symbol">;</span>
<span class="preproc">#endif</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width</span><span class="symbol">,</span><span class="normal"> height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">map</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip</span><span class="symbol">,</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> Pixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal">  sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">	width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	src </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">	dst </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	map </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">table</span><span class="symbol">;</span>
<span class="normal">	srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	srcbpp </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>

<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> map </span><span class="symbol">==</span><span class="normal"> NULL </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="preproc">#ifdef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">			</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">				</span><span class="function">DISEMBLE_RGB</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span>
<span class="normal">								sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">);</span>
<span class="normal">				</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="number">1</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				  	</span><span class="comment">/* Pack RGB into 8bit pixel */</span>
<span class="normal">				  	</span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">sR</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">3</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">))|</span>
<span class="normal">					        </span><span class="symbol">((</span><span class="normal">sG</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">2</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">|</span>
<span class="normal">					        </span><span class="symbol">((</span><span class="normal">sB</span><span class="symbol">&gt;&gt;</span><span class="number">6</span><span class="symbol">)&lt;&lt;(</span><span class="number">0</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">;</span>
<span class="normal">				</span><span class="cbracket">}</span>
<span class="normal">				dst</span><span class="symbol">++;</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">,</span><span class="normal"> width</span><span class="symbol">);</span>
<span class="preproc">#else</span>
<span class="normal">			</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="function">DISEMBLE_RGB</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span>
<span class="normal">								sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">);</span>
<span class="normal">				</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="number">1</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				  	</span><span class="comment">/* Pack RGB into 8bit pixel */</span>
<span class="normal">				  	</span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">sR</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">3</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">))|</span>
<span class="normal">					        </span><span class="symbol">((</span><span class="normal">sG</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">2</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">|</span>
<span class="normal">					        </span><span class="symbol">((</span><span class="normal">sB</span><span class="symbol">&gt;&gt;</span><span class="number">6</span><span class="symbol">)&lt;&lt;(</span><span class="number">0</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">;</span>
<span class="normal">				</span><span class="cbracket">}</span>
<span class="normal">				dst</span><span class="symbol">++;</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="preproc">#endif</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="preproc">#ifdef</span><span class="normal"> USE_DUFFS_LOOP</span>
<span class="normal">			</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">				</span><span class="function">DISEMBLE_RGB</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span>
<span class="normal">								sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">);</span>
<span class="normal">				</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="number">1</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				  	</span><span class="comment">/* Pack RGB into 8bit pixel */</span>
<span class="normal">				  	</span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[((</span><span class="normal">sR</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">3</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">))|</span>
<span class="normal">						   </span><span class="symbol">((</span><span class="normal">sG</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">2</span><span class="symbol">))</span><span class="normal">  </span><span class="symbol">|</span>
<span class="normal">						   </span><span class="symbol">((</span><span class="normal">sB</span><span class="symbol">&gt;&gt;</span><span class="number">6</span><span class="symbol">)&lt;&lt;(</span><span class="number">0</span><span class="symbol">))</span><span class="normal">  </span><span class="symbol">];</span>
<span class="normal">				</span><span class="cbracket">}</span>
<span class="normal">				dst</span><span class="symbol">++;</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">			</span><span class="symbol">,</span><span class="normal"> width</span><span class="symbol">);</span>
<span class="preproc">#else</span>
<span class="normal">			</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="function">DISEMBLE_RGB</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span>
<span class="normal">								sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">);</span>
<span class="normal">				</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="number">1</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				  	</span><span class="comment">/* Pack RGB into 8bit pixel */</span>
<span class="normal">				  	</span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> map</span><span class="symbol">[((</span><span class="normal">sR</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">3</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">))|</span>
<span class="normal">						   </span><span class="symbol">((</span><span class="normal">sG</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">2</span><span class="symbol">))</span><span class="normal">  </span><span class="symbol">|</span>
<span class="normal">						   </span><span class="symbol">((</span><span class="normal">sB</span><span class="symbol">&gt;&gt;</span><span class="number">6</span><span class="symbol">)&lt;&lt;(</span><span class="number">0</span><span class="symbol">))</span><span class="normal">  </span><span class="symbol">];</span>
<span class="normal">				</span><span class="cbracket">}</span>
<span class="normal">				dst</span><span class="symbol">++;</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* USE_DUFFS_LOOP */</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="comment">/* blits 32 bit RGB&lt;-&gt;RGBA with both surfaces having the same R,G,B fields */</span>
<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit4to4MaskAlpha</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>

<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="comment">/* RGB-&gt;RGBA, SET_ALPHA */</span>
<span class="normal">		</span><span class="usertype">Uint32</span><span class="normal"> mask </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha </span><span class="symbol">&gt;&gt;</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Aloss</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Ashift</span><span class="symbol">;</span>

<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">			</span><span class="cbracket">{</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">|</span><span class="normal"> mask</span><span class="symbol">;</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">			width</span><span class="symbol">);</span>
<span class="normal">			src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32</span><span class="symbol">*)((</span><span class="normal">Uint8</span><span class="symbol">*)</span><span class="normal">src </span><span class="symbol">+</span><span class="normal"> srcskip</span><span class="symbol">);</span>
<span class="normal">			dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32</span><span class="symbol">*)((</span><span class="normal">Uint8</span><span class="symbol">*)</span><span class="normal">dst </span><span class="symbol">+</span><span class="normal"> dstskip</span><span class="symbol">);</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="comment">/* RGBA-&gt;RGB, NO_ALPHA */</span>
<span class="normal">		</span><span class="usertype">Uint32</span><span class="normal"> mask </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Rmask </span><span class="symbol">|</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Gmask </span><span class="symbol">|</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Bmask</span><span class="symbol">;</span>

<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">			</span><span class="cbracket">{</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">&amp;</span><span class="normal"> mask</span><span class="symbol">;</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">				</span><span class="symbol">++</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">			width</span><span class="symbol">);</span>
<span class="normal">			src </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32</span><span class="symbol">*)((</span><span class="normal">Uint8</span><span class="symbol">*)</span><span class="normal">src </span><span class="symbol">+</span><span class="normal"> srcskip</span><span class="symbol">);</span>
<span class="normal">			dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint32</span><span class="symbol">*)((</span><span class="normal">Uint8</span><span class="symbol">*)</span><span class="normal">dst </span><span class="symbol">+</span><span class="normal"> dstskip</span><span class="symbol">);</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">BlitNtoN</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcbpp </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstbpp </span><span class="symbol">=</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">unsigned</span><span class="normal"> alpha </span><span class="symbol">=</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">?</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha </span><span class="symbol">:</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>

<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">		</span><span class="cbracket">{</span>
<span class="normal">		        </span><span class="usertype">Uint32</span><span class="normal"> Pixel</span><span class="symbol">;</span>
<span class="normal">			</span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">;</span>
<span class="normal">			</span><span class="type">unsigned</span><span class="normal"> sG</span><span class="symbol">;</span>
<span class="normal">			</span><span class="type">unsigned</span><span class="normal"> sB</span><span class="symbol">;</span>
<span class="normal">			</span><span class="function">DISEMBLE_RGB</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">);</span>
<span class="normal">			</span><span class="function">ASSEMBLE_RGBA</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> dstbpp</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">,</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> alpha</span><span class="symbol">);</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstbpp</span><span class="symbol">;</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">		width</span><span class="symbol">);</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">BlitNtoNCopyAlpha</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcbpp </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstbpp </span><span class="symbol">=</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> c</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* </span><span class="todo">FIXME:</span><span class="comment"> should map alpha to [0..255] correctly! */</span>
<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> c</span><span class="symbol">=</span><span class="normal">width</span><span class="symbol">;</span><span class="normal"> c</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">--</span><span class="normal">c </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		        </span><span class="usertype">Uint32</span><span class="normal"> Pixel</span><span class="symbol">;</span>
<span class="normal">			</span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">;</span>
<span class="normal">			</span><span class="function">DISEMBLE_RGBA</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span>
<span class="normal">				      sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">);</span>
<span class="normal">			</span><span class="function">ASSEMBLE_RGBA</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> dstbpp</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">,</span>
<span class="normal">				      sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">);</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstbpp</span><span class="symbol">;</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">BlitNto1Key</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">palmap </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">table</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> ckey </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">colorkey</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> rgbmask </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">~</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> Pixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">	srcbpp </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">	ckey </span><span class="symbol">&amp;=</span><span class="normal"> rgbmask</span><span class="symbol">;</span>

<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> palmap </span><span class="symbol">==</span><span class="normal"> NULL </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">			</span><span class="cbracket">{</span>
<span class="normal">				</span><span class="function">DISEMBLE_RGB</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span>
<span class="normal">								sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">);</span>
<span class="normal">				</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&amp;</span><span class="normal"> rgbmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> ckey </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				  	</span><span class="comment">/* Pack RGB into 8bit pixel */</span>
<span class="normal">				  	</span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8</span><span class="symbol">)(((</span><span class="normal">sR</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">3</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">))|</span>
<span class="normal">						           </span><span class="symbol">((</span><span class="normal">sG</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">2</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">|</span>
<span class="normal">						           </span><span class="symbol">((</span><span class="normal">sB</span><span class="symbol">&gt;&gt;</span><span class="number">6</span><span class="symbol">)&lt;&lt;(</span><span class="number">0</span><span class="symbol">)));</span>
<span class="normal">				</span><span class="cbracket">}</span>
<span class="normal">				dst</span><span class="symbol">++;</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">			width</span><span class="symbol">);</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">			</span><span class="cbracket">{</span>
<span class="normal">				</span><span class="function">DISEMBLE_RGB</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span>
<span class="normal">								sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">);</span>
<span class="normal">				</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&amp;</span><span class="normal"> rgbmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> ckey </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				  	</span><span class="comment">/* Pack RGB into 8bit pixel */</span>
<span class="normal">				  	</span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint8</span><span class="symbol">)</span><span class="normal">palmap</span><span class="symbol">[((</span><span class="normal">sR</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">3</span><span class="symbol">+</span><span class="number">2</span><span class="symbol">))|</span>
<span class="normal">							             </span><span class="symbol">((</span><span class="normal">sG</span><span class="symbol">&gt;&gt;</span><span class="number">5</span><span class="symbol">)&lt;&lt;(</span><span class="number">2</span><span class="symbol">))</span><span class="normal">  </span><span class="symbol">|</span>
<span class="normal">							             </span><span class="symbol">((</span><span class="normal">sB</span><span class="symbol">&gt;&gt;</span><span class="number">6</span><span class="symbol">)&lt;&lt;(</span><span class="number">0</span><span class="symbol">))</span><span class="normal">  </span><span class="symbol">];</span>
<span class="normal">				</span><span class="cbracket">}</span>
<span class="normal">				dst</span><span class="symbol">++;</span>
<span class="normal">				src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">			width</span><span class="symbol">);</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">Blit2to2Key</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint16</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcp </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint16 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint16</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstp </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Uint16 </span><span class="symbol">*)</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> ckey </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">-&gt;</span><span class="normal">colorkey</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> rgbmask </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">~</span><span class="normal">info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">        srcskip </span><span class="symbol">/=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">        dstskip </span><span class="symbol">/=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span>
<span class="normal">	ckey </span><span class="symbol">&amp;=</span><span class="normal"> rgbmask</span><span class="symbol">;</span>

<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">		</span><span class="cbracket">{</span>
<span class="normal">			</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">srcp </span><span class="symbol">&amp;</span><span class="normal"> rgbmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> ckey </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				</span><span class="symbol">*</span><span class="normal">dstp </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcp</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			dstp</span><span class="symbol">++;</span>
<span class="normal">			srcp</span><span class="symbol">++;</span>
<span class="normal">		</span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">		width</span><span class="symbol">);</span>
<span class="normal">		srcp </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dstp </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">BlitNtoNKey</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> ckey </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">-&gt;</span><span class="normal">colorkey</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcbpp </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstbpp </span><span class="symbol">=</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">unsigned</span><span class="normal"> alpha </span><span class="symbol">=</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">?</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">alpha </span><span class="symbol">:</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> rgbmask </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">~</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">	ckey </span><span class="symbol">&amp;=</span><span class="normal"> rgbmask</span><span class="symbol">;</span>

<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">		</span><span class="cbracket">{</span>
<span class="normal">		        </span><span class="usertype">Uint32</span><span class="normal"> Pixel</span><span class="symbol">;</span>
<span class="normal">			</span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">;</span>
<span class="normal">			</span><span class="type">unsigned</span><span class="normal"> sG</span><span class="symbol">;</span>
<span class="normal">			</span><span class="type">unsigned</span><span class="normal"> sB</span><span class="symbol">;</span>
<span class="normal">			</span><span class="function">RETRIEVE_RGB_PIXEL</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">);</span>
<span class="normal">			</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&amp;</span><span class="normal"> rgbmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> ckey </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			        </span><span class="function">RGB_FROM_PIXEL</span><span class="symbol">(</span><span class="normal">Pixel</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">);</span>
<span class="normal">				</span><span class="function">ASSEMBLE_RGBA</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> dstbpp</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">,</span>
<span class="normal">					      sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> alpha</span><span class="symbol">);</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstbpp</span><span class="symbol">;</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">		width</span><span class="symbol">);</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">BlitNtoNKeyCopyAlpha</span><span class="symbol">(</span><span class="usertype">SDL_BlitInfo</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">info</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> width </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_width</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> height </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_height</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> srcskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">s_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dst </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_pixels</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstskip </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">d_skip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> ckey </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">-&gt;</span><span class="normal">colorkey</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">src</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt </span><span class="symbol">=</span><span class="normal"> info</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> rgbmask </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">~</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">;</span>

<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint8</span><span class="normal"> dstbpp</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> Pixel</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">unsigned</span><span class="normal"> sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up some basic variables */</span>
<span class="normal">	srcbpp </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">	dstbpp </span><span class="symbol">=</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">;</span>
<span class="normal">	ckey </span><span class="symbol">&amp;=</span><span class="normal"> rgbmask</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* </span><span class="todo">FIXME:</span><span class="comment"> should map alpha to [0..255] correctly! */</span>
<span class="normal">	</span><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> height</span><span class="symbol">--</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="function">DUFFS_LOOP</span><span class="symbol">(</span>
<span class="normal">		</span><span class="cbracket">{</span>
<span class="normal">			</span><span class="function">DISEMBLE_RGBA</span><span class="symbol">(</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> srcbpp</span><span class="symbol">,</span><span class="normal"> srcfmt</span><span class="symbol">,</span><span class="normal"> Pixel</span><span class="symbol">,</span>
<span class="normal">				      sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">);</span>
<span class="normal">			</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">Pixel </span><span class="symbol">&amp;</span><span class="normal"> rgbmask</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> ckey </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				  </span><span class="function">ASSEMBLE_RGBA</span><span class="symbol">(</span><span class="normal">dst</span><span class="symbol">,</span><span class="normal"> dstbpp</span><span class="symbol">,</span><span class="normal"> dstfmt</span><span class="symbol">,</span>
<span class="normal">						sR</span><span class="symbol">,</span><span class="normal"> sG</span><span class="symbol">,</span><span class="normal"> sB</span><span class="symbol">,</span><span class="normal"> sA</span><span class="symbol">);</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">			dst </span><span class="symbol">+=</span><span class="normal"> dstbpp</span><span class="symbol">;</span>
<span class="normal">			src </span><span class="symbol">+=</span><span class="normal"> srcbpp</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">		width</span><span class="symbol">);</span>
<span class="normal">		src </span><span class="symbol">+=</span><span class="normal"> srcskip</span><span class="symbol">;</span>
<span class="normal">		dst </span><span class="symbol">+=</span><span class="normal"> dstskip</span><span class="symbol">;</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="cbracket">}</span>

<span class="comment">/* Normal N to N optimized blitters */</span>
<span class="keyword">struct</span><span class="normal"> </span><span class="classname">blit_table</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> srcR</span><span class="symbol">,</span><span class="normal"> srcG</span><span class="symbol">,</span><span class="normal"> srcB</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> dstbpp</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> dstR</span><span class="symbol">,</span><span class="normal"> dstG</span><span class="symbol">,</span><span class="normal"> dstB</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">Uint32</span><span class="normal"> blit_features</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">aux_data</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_loblit</span><span class="normal"> blitfunc</span><span class="symbol">;</span>
<span class="normal">	</span><span class="keyword">enum</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> NO_ALPHA</span><span class="symbol">=</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> SET_ALPHA</span><span class="symbol">=</span><span class="number">2</span><span class="symbol">,</span><span class="normal"> COPY_ALPHA</span><span class="symbol">=</span><span class="number">4</span><span class="normal"> </span><span class="cbracket">}</span><span class="normal"> alpha</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">blit_table</span><span class="normal"> normal_blit_1</span><span class="symbol">[]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	</span><span class="comment">/* Default for 8-bit RGB source, an invalid combination */</span>
<span class="normal">	</span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> NULL </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">blit_table</span><span class="normal"> normal_blit_2</span><span class="symbol">[]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="preproc">#if</span><span class="normal"> SDL_HERMES_BLITTERS</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000F800</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p16_16BGR565</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00007C00</span><span class="symbol">,</span><span class="number">0x000003E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p16_16RGB555</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="number">0x000003E0</span><span class="symbol">,</span><span class="number">0x00007C00</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p16_16BGR555</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="preproc">#elif</span><span class="normal"> SDL_ALTIVEC_BLITTERS</span>
<span class="normal">    </span><span class="comment">/* has-altivec */</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> Blit_RGB565_32Altivec</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="symbol">|</span><span class="normal"> COPY_ALPHA </span><span class="symbol">|</span><span class="normal"> SET_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00007C00</span><span class="symbol">,</span><span class="number">0x000003E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> Blit_RGB555_32Altivec</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="symbol">|</span><span class="normal"> COPY_ALPHA </span><span class="symbol">|</span><span class="normal"> SET_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="preproc">#endif</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> Blit_RGB565_ARGB8888</span><span class="symbol">,</span><span class="normal"> SET_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x00FF0000</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> Blit_RGB565_ABGR8888</span><span class="symbol">,</span><span class="normal"> SET_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xFF000000</span><span class="symbol">,</span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> Blit_RGB565_RGBA8888</span><span class="symbol">,</span><span class="normal"> SET_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0xFF000000</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> Blit_RGB565_BGRA8888</span><span class="symbol">,</span><span class="normal"> SET_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>

<span class="normal">    </span><span class="comment">/* Default for 16-bit RGB source, used if no other blitter matches */</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> BlitNtoN</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="cbracket">}</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">blit_table</span><span class="normal"> normal_blit_3</span><span class="symbol">[]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	</span><span class="comment">/* Default for 24-bit RGB source, never optimized */</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> BlitNtoN</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="cbracket">}</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">blit_table</span><span class="normal"> normal_blit_4</span><span class="symbol">[]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="preproc">#if</span><span class="normal"> SDL_HERMES_BLITTERS</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> ConvertMMXpII32_16RGB565</span><span class="symbol">,</span><span class="normal"> ConvertMMX</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p32_16RGB565</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000F800</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> ConvertMMXpII32_16BGR565</span><span class="symbol">,</span><span class="normal"> ConvertMMX</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000F800</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p32_16BGR565</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00007C00</span><span class="symbol">,</span><span class="number">0x000003E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> ConvertMMXpII32_16RGB555</span><span class="symbol">,</span><span class="normal"> ConvertMMX</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00007C00</span><span class="symbol">,</span><span class="number">0x000003E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p32_16RGB555</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="number">0x000003E0</span><span class="symbol">,</span><span class="number">0x00007C00</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> ConvertMMXpII32_16BGR555</span><span class="symbol">,</span><span class="normal"> ConvertMMX</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000001F</span><span class="symbol">,</span><span class="number">0x000003E0</span><span class="symbol">,</span><span class="number">0x00007C00</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p32_16BGR555</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p32_24RGB888</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x00FF0000</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p32_24BGR888</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x00FF0000</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p32_32BGR888</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0xFF000000</span><span class="symbol">,</span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p32_32RGBA888</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0xFF000000</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> ConvertX86p32_32BGRA888</span><span class="symbol">,</span><span class="normal"> ConvertX86</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="preproc">#else</span>
<span class="preproc">#if</span><span class="normal"> SDL_ALTIVEC_BLITTERS</span>
<span class="normal">    </span><span class="comment">/* has-altivec | dont-use-prefetch */</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">6</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> ConvertAltivec32to32_noprefetch</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="symbol">|</span><span class="normal"> COPY_ALPHA </span><span class="symbol">|</span><span class="normal"> SET_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="comment">/* has-altivec */</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> ConvertAltivec32to32_prefetch</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="symbol">|</span><span class="normal"> COPY_ALPHA </span><span class="symbol">|</span><span class="normal"> SET_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="comment">/* has-altivec */</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="number">0x00000000</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> Blit_RGB888_RGB565Altivec</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="preproc">#endif</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x0000F800</span><span class="symbol">,</span><span class="number">0x000007E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> Blit_RGB888_RGB565</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">,</span><span class="number">0x0000FF00</span><span class="symbol">,</span><span class="number">0x000000FF</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x00007C00</span><span class="symbol">,</span><span class="number">0x000003E0</span><span class="symbol">,</span><span class="number">0x0000001F</span><span class="symbol">,</span>
<span class="normal">      </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> Blit_RGB888_RGB555</span><span class="symbol">,</span><span class="normal"> NO_ALPHA </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="preproc">#endif</span>
<span class="normal">	</span><span class="comment">/* Default for 32-bit RGB source, used if no other blitter matches */</span>
<span class="normal">	</span><span class="cbracket">{</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> BlitNtoN</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="cbracket">}</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">static</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">blit_table</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">normal_blit</span><span class="symbol">[]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	normal_blit_1</span><span class="symbol">,</span><span class="normal"> normal_blit_2</span><span class="symbol">,</span><span class="normal"> normal_blit_3</span><span class="symbol">,</span><span class="normal"> normal_blit_4</span>
<span class="cbracket">}</span><span class="symbol">;</span>

<span class="comment">/* Mask matches table, or table entry is zero */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">MASKOK</span><span class="symbol">(</span><span class="normal">x</span><span class="symbol">,</span><span class="normal"> y</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(((</span><span class="normal">x</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">y</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">||</span><span class="normal"> </span><span class="symbol">((</span><span class="normal">y</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0x00000000</span><span class="symbol">))</span>

<span class="usertype">SDL_loblit</span><span class="normal"> </span><span class="function">SDL_CalculateBlitN</span><span class="symbol">(</span><span class="usertype">SDL_Surface</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">surface</span><span class="symbol">,</span><span class="normal"> </span><span class="type">int</span><span class="normal"> blit_index</span><span class="symbol">)</span>
<span class="cbracket">{</span>
<span class="normal">	</span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">private_swaccel</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">sdata</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">srcfmt</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_PixelFormat</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">dstfmt</span><span class="symbol">;</span>
<span class="normal">	</span><span class="keyword">const</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">blit_table</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">table</span><span class="symbol">;</span>
<span class="normal">	</span><span class="type">int</span><span class="normal"> which</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">SDL_loblit</span><span class="normal"> blitfun</span><span class="symbol">;</span>

<span class="normal">	</span><span class="comment">/* Set up data for choosing the blit */</span>
<span class="normal">	sdata </span><span class="symbol">=</span><span class="normal"> surface</span><span class="symbol">-&gt;</span><span class="normal">map</span><span class="symbol">-&gt;</span><span class="normal">sw_data</span><span class="symbol">;</span>
<span class="normal">	srcfmt </span><span class="symbol">=</span><span class="normal"> surface</span><span class="symbol">-&gt;</span><span class="normal">format</span><span class="symbol">;</span>
<span class="normal">	dstfmt </span><span class="symbol">=</span><span class="normal"> surface</span><span class="symbol">-&gt;</span><span class="normal">map</span><span class="symbol">-&gt;</span><span class="normal">dst</span><span class="symbol">-&gt;</span><span class="normal">format</span><span class="symbol">;</span>

<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> blit_index </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">2</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	        </span><span class="comment">/* alpha or alpha+colorkey */</span>
<span class="normal">	        </span><span class="keyword">return</span><span class="normal"> </span><span class="function">SDL_CalculateAlphaBlit</span><span class="symbol">(</span><span class="normal">surface</span><span class="symbol">,</span><span class="normal"> blit_index</span><span class="symbol">);</span>
<span class="normal">	</span><span class="cbracket">}</span>

<span class="normal">	</span><span class="comment">/* We don't support destinations less than 8-bits */</span>
<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BitsPerPixel </span><span class="symbol">&lt;</span><span class="normal"> </span><span class="number">8</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="keyword">return</span><span class="symbol">(</span><span class="normal">NULL</span><span class="symbol">);</span>
<span class="normal">	</span><span class="cbracket">}</span>
<span class="normal">	</span>
<span class="normal">	</span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">blit_index </span><span class="symbol">==</span><span class="normal"> </span><span class="number">1</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	    </span><span class="comment">/* colorkey blit: Here we don't have too many options, mostly</span>
<span class="comment">	       because RLE is the preferred fast way to deal with this.</span>
<span class="comment">	       If a particular case turns out to be useful we'll add it. */</span>

<span class="normal">	    </span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">2</span>
<span class="normal">	       </span><span class="symbol">&amp;&amp;</span><span class="normal"> surface</span><span class="symbol">-&gt;</span><span class="normal">map</span><span class="symbol">-&gt;</span><span class="normal">identity</span><span class="symbol">)</span>
<span class="normal">		</span><span class="keyword">return</span><span class="normal"> Blit2to2Key</span><span class="symbol">;</span>
<span class="normal">	    </span><span class="keyword">else</span><span class="normal"> </span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">1</span><span class="symbol">)</span>
<span class="normal">		</span><span class="keyword">return</span><span class="normal"> BlitNto1Key</span><span class="symbol">;</span>
<span class="normal">	    </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="preproc">#if</span><span class="normal"> SDL_ALTIVEC_BLITTERS</span>
<span class="normal">        </span><span class="keyword">if</span><span class="symbol">((</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> </span><span class="function">SDL_HasAltiVec</span><span class="symbol">())</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">            </span><span class="keyword">return</span><span class="normal"> Blit32to32KeyAltivec</span><span class="symbol">;</span>
<span class="normal">        </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span>
<span class="preproc">#endif</span>

<span class="normal">		</span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">&amp;&amp;</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">)</span>
<span class="normal">		    </span><span class="keyword">return</span><span class="normal"> BlitNtoNKeyCopyAlpha</span><span class="symbol">;</span>
<span class="normal">		</span><span class="keyword">else</span>
<span class="normal">		    </span><span class="keyword">return</span><span class="normal"> BlitNtoNKey</span><span class="symbol">;</span>
<span class="normal">	    </span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span>

<span class="normal">	blitfun </span><span class="symbol">=</span><span class="normal"> NULL</span><span class="symbol">;</span>
<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BitsPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">8</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="comment">/* We assume 8-bit destinations are palettized */</span>
<span class="normal">		</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">		     </span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Rmask </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0x00FF0000</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">		     </span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Gmask </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0x0000FF00</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">		     </span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Bmask </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0x000000FF</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> surface</span><span class="symbol">-&gt;</span><span class="normal">map</span><span class="symbol">-&gt;</span><span class="normal">table </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				blitfun </span><span class="symbol">=</span><span class="normal"> Blit_RGB888_index8_map</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="preproc">#if</span><span class="normal"> SDL_HERMES_BLITTERS</span>
<span class="normal">				sdata</span><span class="symbol">-&gt;</span><span class="normal">aux_data </span><span class="symbol">=</span><span class="normal"> ConvertX86p32_8RGB332</span><span class="symbol">;</span>
<span class="normal">				blitfun </span><span class="symbol">=</span><span class="normal"> ConvertX86</span><span class="symbol">;</span>
<span class="preproc">#else</span>
<span class="normal">				blitfun </span><span class="symbol">=</span><span class="normal"> Blit_RGB888_index8</span><span class="symbol">;</span>
<span class="preproc">#endif</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">		</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			blitfun </span><span class="symbol">=</span><span class="normal"> BlitNto1</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">		</span><span class="comment">/* Now the meat, choose the blitter we want */</span>
<span class="normal">		</span><span class="type">int</span><span class="normal"> a_need </span><span class="symbol">=</span><span class="normal"> NO_ALPHA</span><span class="symbol">;</span>
<span class="normal">		</span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask</span><span class="symbol">)</span>
<span class="normal">		    a_need </span><span class="symbol">=</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Amask </span><span class="symbol">?</span><span class="normal"> COPY_ALPHA </span><span class="symbol">:</span><span class="normal"> SET_ALPHA</span><span class="symbol">;</span>
<span class="normal">		table </span><span class="symbol">=</span><span class="normal"> normal_blit</span><span class="symbol">[</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel</span><span class="symbol">-</span><span class="number">1</span><span class="symbol">];</span>
<span class="normal">		</span><span class="keyword">for</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> which</span><span class="symbol">=</span><span class="number">0</span><span class="symbol">;</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">dstbpp</span><span class="symbol">;</span><span class="normal"> </span><span class="symbol">++</span><span class="normal">which </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="function">MASKOK</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Rmask</span><span class="symbol">,</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">srcR</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			    </span><span class="function">MASKOK</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Gmask</span><span class="symbol">,</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">srcG</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			    </span><span class="function">MASKOK</span><span class="symbol">(</span><span class="normal">srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Bmask</span><span class="symbol">,</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">srcB</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			    </span><span class="function">MASKOK</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Rmask</span><span class="symbol">,</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">dstR</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			    </span><span class="function">MASKOK</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Gmask</span><span class="symbol">,</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">dstG</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			    </span><span class="function">MASKOK</span><span class="symbol">(</span><span class="normal">dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Bmask</span><span class="symbol">,</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">dstB</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			    dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">dstbpp </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			    </span><span class="symbol">(</span><span class="normal">a_need </span><span class="symbol">&amp;</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">alpha</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> a_need </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			    </span><span class="symbol">((</span><span class="normal">table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">blit_features </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="function">GetBlitFeatures</span><span class="symbol">())</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">blit_features</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">)</span>
<span class="normal">				</span><span class="keyword">break</span><span class="symbol">;</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">		sdata</span><span class="symbol">-&gt;</span><span class="normal">aux_data </span><span class="symbol">=</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">aux_data</span><span class="symbol">;</span>
<span class="normal">		blitfun </span><span class="symbol">=</span><span class="normal"> table</span><span class="symbol">[</span><span class="normal">which</span><span class="symbol">].</span><span class="normal">blitfunc</span><span class="symbol">;</span>

<span class="normal">		</span><span class="keyword">if</span><span class="symbol">(</span><span class="normal">blitfun </span><span class="symbol">==</span><span class="normal"> BlitNtoN</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal">  </span><span class="comment">/* default C fallback catch-all. Slow! */</span>
<span class="normal">			</span><span class="comment">/* Fastpath C fallback: 32bit RGB&lt;-&gt;RGBA blit with matching RGB */</span>
<span class="normal">			</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> srcfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">BytesPerPixel </span><span class="symbol">==</span><span class="normal"> </span><span class="number">4</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			     srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Rmask </span><span class="symbol">==</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Rmask </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			     srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Gmask </span><span class="symbol">==</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Gmask </span><span class="symbol">&amp;&amp;</span>
<span class="normal">			     srcfmt</span><span class="symbol">-&gt;</span><span class="normal">Bmask </span><span class="symbol">==</span><span class="normal"> dstfmt</span><span class="symbol">-&gt;</span><span class="normal">Bmask </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">				blitfun </span><span class="symbol">=</span><span class="normal"> Blit4to4MaskAlpha</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> a_need </span><span class="symbol">==</span><span class="normal"> COPY_ALPHA </span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">			    blitfun </span><span class="symbol">=</span><span class="normal"> BlitNtoNCopyAlpha</span><span class="symbol">;</span>
<span class="normal">			</span><span class="cbracket">}</span>
<span class="normal">		</span><span class="cbracket">}</span>
<span class="normal">	</span><span class="cbracket">}</span>

<span class="preproc">#ifdef</span><span class="normal"> DEBUG_ASM</span>
<span class="preproc">#if</span><span class="normal"> SDL_HERMES_BLITTERS</span>
<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> blitfun </span><span class="symbol">==</span><span class="normal"> ConvertMMX </span><span class="symbol">)</span>
<span class="normal">		</span><span class="function">fprintf</span><span class="symbol">(</span><span class="normal">stderr</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Using mmx blit</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">	</span><span class="keyword">else</span>
<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> blitfun </span><span class="symbol">==</span><span class="normal"> ConvertX86 </span><span class="symbol">)</span>
<span class="normal">		</span><span class="function">fprintf</span><span class="symbol">(</span><span class="normal">stderr</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Using asm blit</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">	</span><span class="keyword">else</span>
<span class="preproc">#endif</span>
<span class="normal">	</span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">blitfun </span><span class="symbol">==</span><span class="normal"> BlitNtoN</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">||</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">blitfun </span><span class="symbol">==</span><span class="normal"> BlitNto1</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">)</span>
<span class="normal">		</span><span class="function">fprintf</span><span class="symbol">(</span><span class="normal">stderr</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Using C blit</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">	</span><span class="keyword">else</span>
<span class="normal">		</span><span class="function">fprintf</span><span class="symbol">(</span><span class="normal">stderr</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Using optimized C blit</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="preproc">#endif</span><span class="normal"> </span><span class="comment">/* DEBUG_ASM */</span>

<span class="normal">	</span><span class="keyword">return</span><span class="symbol">(</span><span class="normal">blitfun</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</tt></pre></div><div style="text-align: right; padding: 8pt; font-size: 12px"><a href="/xmlfeed/weblog-rss20.xml"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPAgMAAAAOp6AcAAAADFBMVEVmZmb/ZgD///+JjnlbTUWmAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABQAAAADwCexKkxAAAAWUlEQVQYlWNgwAa0VmGAFQyqoSCQ/x8J/CBFMCt0ZdTU/F/7/+1HEkydFpoKVPn+93sUlUujQvP/7UcRTAuNDJ2a//s/imDqtKVZofm/1qGYSZk7sfodGwAAiobBJtffoNAAAAAASUVORK5CYII=" alt="RSS 2.0 Weblog Feed" width="80" height="15"/></a> <a href="/xmlfeed/weblog-atom10.xml"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPAgMAAAAOp6AcAAAADFBMVEVmZmb/ZgD///+JjnlbTUWmAAAAaklEQVQYlWNgwAa0VmGAFQyqoSCQ/x8J/CBFMDV16rTQ/H/7V//69+//v/3/9oMEI6cuAwr+fv/+/b5d///v//0eJBgWOhMo+Gs9UPAdXDBy6lSYyn9wQZCZS0GCYDPXQcykzJ1Y/Y4NAABKvL80wyoMPgAAAABJRU5ErkJggg==" alt="Atom 1.0 Weblog Feed" width="80" height="15"/></a> <a href="http://validator.w3.org/check?uri=referer"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAB1FBMVEUHQIgIRY0MN4QNRYoSRYsXUpIYVJQeUpUhWpgjUJMjWpgmU5QnXJkuYZ0uYpwwV5YyZJ4zaKM3ZaA5aaI6aqM6a6E8ZqA8Z6BAbaRBbqdCbaVHd61KSkpKcaZQUFBUf69UgbBVVVVXfq9Yg7NZhbJZh7RagrNeXVxeh7RfjLdgYGBiiLZmZmZnZ2doirhpkbt0m8F3m8B3ncJ5lb55ocR+ocSDgX+Do8eEpMqGhoaHp8iIpMeJjnmJpseKqMeOqsqPsdCQrcyVlZWVsM2Zs9CZtNCfu9ahoaGhuNShudSivNSjtMWjvNSmpqWnpqSrw9qvxNqyxdmyxdyzsK6zs7Ozx9y0xt21yN22tra4y+K80eK/v7/AwMDExMTEy9DH2ejK2+jM2ujN3uvP0dLR0NDR3uvS3uvS3+zU4u3V1dXY2dnY4u7Y4+3b5e/d3d3d5u/d5/De3t7f39/h4uLj4uHj6/Ll7PXm7fTn7/Xo7/Tp7/bq7Ozr6unr8ffw8PDw9vvx9fny+P7z8/Pz9vnz9vv3+fv4+vz5+vz6+vr6+/36/P36///7+/77/Pz7/f37/f78/Pz8/f38/f79/f39/f79/f/9/v79///+/v7+/v////3///+tYR2LAAABKklEQVQ4y2PQoTJg0JlNVYDPQBsyAMTAqaFes8tdsmdPCtA3MDStr3GKKK6myMAprgJ9pcpWs/MlRExYJBvNZLR0sigycHYOV1S7mtjsQJ4gf+HIFPXoWMs6qIGzIRiKZs9GFoEaMRuZhhrYqqJXy8uZYauRxC/VHew7e3YTPAxnI5swG6JxNrKBNjB1EFmIgV0+HA6C8pqqzhXG7BbJJROQIwViMYQ7G2oDQQNn57JyG7kxiCfObrBmS5+BHMuYLkTzMnYDm5WY4lOZZRPKZocxes+aPbuwCFsYohiICLvZsKBAMrDTQ7K/StveU8icTzrOL8JdLpOyWJ49u8Bx9ozw8DY7UYW03hhdxZAOSg2c3jN79rSJs1vSKmfOnpFXNJmynELlvExlAADnaZpLFGEC2wAAAABJRU5ErkJggg==" alt="Valid XHTML 1.1" width="80" height="15"/></a> <a href="http://jigsaw.w3.org/css-validator/check/referer"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAB1FBMVEUHQIgIRY0MN4QNRYoSRYsXUpIYVJQeUpUhWpgjUJMjWpgmU5QnXJkuYZ0uYpwwV5YyZJ4zaKM3ZaA5aaI6aqM6a6E8ZqA8Z6BAbaRBbqdCbaVHd61KSkpKcaZQUFBUf69UgbBVVVVXfq9Yg7NZhbJZh7RagrNeXVxeh7RfjLdgYGBiiLZmZmZnZ2doirhpkbt0m8F3m8B3ncJ5lb55ocR+ocSDgX+Do8eEpMqGhoaHp8iIpMeJjnmJpseKqMeOqsqPsdCQrcyVlZWVsM2Zs9CZtNCfu9ahoaGhuNShudSivNSjtMWjvNSmpqWnpqSrw9qvxNqyxdmyxdyzsK6zs7Ozx9y0xt21yN22tra4y+K80eK/v7/AwMDExMTEy9DH2ejK2+jM2ujN3uvP0dLR0NDR3uvS3uvS3+zU4u3V1dXY2dnY4u7Y4+3b5e/d3d3d5u/d5/De3t7f39/h4uLj4uHj6/Ll7PXm7fTn7/Xo7/Tp7/bq7Ozr6unr8ffw8PDw9vvx9fny+P7z8/Pz9vnz9vv3+fv4+vz5+vz6+vr6+/36/P36///7+/77/Pz7/f37/f78/Pz8/f38/f79/f39/f79/f/9/v79///+/v7+/v////3///+tYR2LAAABEUlEQVQ4y2PQoTJg0JlNVYDPQBsyAMTAqaFes8tdsmdPCtA3MDStr3GKKK6myMAprgJ9pcpWs/MlRExYJBvNZLR0sigycHYOV1S7mtjsQJ4gf+HIFPXoWMs6mIEQCsIjwhKoga0qerW8nBm2Gkn8Ut3BvrNnN8HCcDYM2cBIogzs8uFwEJTXVHWuMGa3SC6ZgIgUqCEwdxJr4OxcVm4jNwbxxNkN1mzpM2ajGIjsPGK9PLtZiSk+lVk2oWx2GKP3rNmzC4tQwpDoIIQb2Okh2V+lbe8pZM4nHecX4S6XSVksz55d4Dh7Rnh4m52oQlpvjK5iSAelBk7vmT172sTZLWmVM2fPyCuaTFlOoXJepjIAANlljDGY/l5pAAAAAElFTkSuQmCC" alt="Valid CSS (2.1)" width="80" height="15"/></a><br/>Copyright 2005-2015 <a href="/about/">Timo Bingmann</a> - <a href="/about/impressum.html">Impressum</a></div><script type="text/javascript">var _paq = _paq || []; _paq.push(["trackPageView"]); _paq.push(["enableLinkTracking"]);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://panthema.net/wik-331/"; _paq.push(["setTrackerUrl", u+"js/"]); _paq.push(["setSiteId", "2"]);var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";g.defer=true; g.async=true; g.src=u+"js/"; s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="http://panthema.net/wik-331/js/?idsite=2&amp;rec=1" style="border:0" alt="" /></p></noscript></body></html>