<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VGServer: GraphConnection.cc Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>GraphConnection.cc</h1><a href="GraphConnection_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// $Id: GraphConnection.cc 127 2006-05-13 15:30:07Z bingmann $</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="preprocessor">#include "<a class="code" href="GraphConnection_8h.html">GraphConnection.h</a>"</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include "<a class="code" href="GraphContainer_8h.html">GraphContainer.h</a>"</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include "<a class="code" href="GraphClientFace_8h.html">GraphClientFace.h</a>"</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include "<a class="code" href="ByteOutBuffer_8h.html">ByteOutBuffer.h</a>"</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="keyword">namespace </span>VGServer {
<a name="l00009"></a>00009 
<a name="l00010"></a><a class="code" href="classVGServer_1_1GraphConnection.html#49b8ed4e067c4f2811771243ccc9d366">00010</a> <a class="code" href="classVGServer_1_1GraphConnection.html#49b8ed4e067c4f2811771243ccc9d366">GraphConnection::GraphConnection</a>(<a class="code" href="classVGServer_1_1GraphContainer.html">GraphContainer</a> &amp;_graph)
<a name="l00011"></a>00011     : graph(_graph), changes(graph)
<a name="l00012"></a>00012 {
<a name="l00013"></a>00013 }
<a name="l00014"></a>00014 
<a name="l00015"></a><a class="code" href="classVGServer_1_1GraphConnection.html#f913077df32b05b349ed180d633a27ae">00015</a> <a class="code" href="classVGServer_1_1GraphConnection.html#f913077df32b05b349ed180d633a27ae">GraphConnection::~GraphConnection</a>()
<a name="l00016"></a>00016 {
<a name="l00017"></a>00017 }
<a name="l00018"></a>00018 
<a name="l00019"></a><a class="code" href="classVGServer_1_1GraphConnection.html#136a30d8720d3589b6656879be3a5286">00019</a> <span class="keyword">class </span><a class="code" href="classVGServer_1_1GraphClientFace.html">GraphClientFace</a> GraphConnection::getClientFace()
<a name="l00020"></a>00020 { <span class="keywordflow">return</span> <a class="code" href="classVGServer_1_1GraphClientFace.html#e64b8ff7827065077ea4dc35fd50a4b7">GraphClientFace</a>(*<span class="keyword">this</span>); }
<a name="l00021"></a>00021 
<a name="l00022"></a><a class="code" href="classVGServer_1_1GraphConnection.html#74421a3c27a31b214b3a5c3a0c4bd064">00022</a> <span class="keywordtype">void</span> <a class="code" href="classVGServer_1_1GraphConnection.html#74421a3c27a31b214b3a5c3a0c4bd064">GraphConnection::rollback</a>()
<a name="l00023"></a>00023 {
<a name="l00024"></a>00024     changes.<a class="code" href="classVGServer_1_1ChangeTimeline.html#1557f34e84022f270b3c2f93b771c8af">clear</a>();
<a name="l00025"></a>00025 }
<a name="l00026"></a>00026 
<a name="l00027"></a><a class="code" href="classVGServer_1_1GraphConnection.html#f3bcba628ef71aa0cdedc749b8a95cff">00027</a> <span class="keywordtype">void</span> <a class="code" href="classVGServer_1_1GraphConnection.html#f3bcba628ef71aa0cdedc749b8a95cff">GraphConnection::commit</a>()
<a name="l00028"></a>00028 {
<a name="l00029"></a>00029     graph.<a class="code" href="classVGServer_1_1GraphContainer.html#2255ce0b6ab749a9d01f6bdd0f293bb9">applyChangelist</a>(changes.<a class="code" href="classVGServer_1_1ChangeTimeline.html#890248be41c24c5eb9417dd83dc6b882">getChangelistEnd</a>());
<a name="l00030"></a>00030     changes.<a class="code" href="classVGServer_1_1ChangeTimeline.html#1557f34e84022f270b3c2f93b771c8af">clear</a>();
<a name="l00031"></a>00031 }
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="classVGServer_1_1GraphConnection.html#14c75930ffb34fe40a74f5211a23dd73">00033</a> <span class="keywordtype">void</span> <a class="code" href="classVGServer_1_1GraphConnection.html#14c75930ffb34fe40a74f5211a23dd73">GraphConnection::getGraphProperties</a>(<span class="keyword">class</span> <a class="code" href="classVGServer_1_1ByteBuffer.html">ByteBuffer</a> &amp;dest)<span class="keyword"> const</span>
<a name="l00034"></a>00034 <span class="keyword"></span>{
<a name="l00035"></a>00035     graph.<a class="code" href="classVGServer_1_1GraphContainer.html#453b45b43724495314a178b3a0a87323">getGraphProperties</a>(dest);
<a name="l00036"></a>00036 }
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keywordtype">void</span>
<a name="l00039"></a><a class="code" href="classVGServer_1_1GraphConnection.html#0506a1aa7b53aca3ede80f340c66e57c">00039</a> <a class="code" href="classVGServer_1_1GraphConnection.html#0506a1aa7b53aca3ede80f340c66e57c">GraphConnection::getArea</a>(<a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> x1, <a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> y1, <a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> x2, <a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> y2,
<a name="l00040"></a>00040                          <span class="keyword">const</span> <a class="code" href="structVGServer_1_1QueryLimits.html">QueryLimits</a> *ql,
<a name="l00041"></a>00041                          <span class="keyword">const</span> <span class="keywordtype">char</span>* filter, <span class="keyword">const</span> <span class="keywordtype">char</span>* vertexattrsel, <span class="keyword">const</span> <span class="keywordtype">char</span>* edgeattrsel,
<a name="l00042"></a>00042                          <span class="keyword">class</span> <a class="code" href="classVGServer_1_1ByteBuffer.html">ByteBuffer</a> &amp;dest)<span class="keyword"> const</span>
<a name="l00043"></a>00043 <span class="keyword"></span>{
<a name="l00044"></a>00044     graph.<a class="code" href="classVGServer_1_1GraphContainer.html#1e06bc06a22a4b5a2524e7400540f11c">getArea</a>(x1, y1, x2, y2, ql, filter, vertexattrsel, edgeattrsel, changes, dest);
<a name="l00045"></a>00045 }
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="keywordtype">void</span> 
<a name="l00048"></a><a class="code" href="classVGServer_1_1GraphConnection.html#ed19314cf40592959ab0d2e2223984ed">00048</a> <a class="code" href="classVGServer_1_1GraphConnection.html#ed19314cf40592959ab0d2e2223984ed">GraphConnection::getNearestNeighbor</a>(<a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> x1, <a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> y1, <a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> x2, <a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> y2,
<a name="l00049"></a>00049                                     <a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> selx, <a class="code" href="namespaceVGServer.html#1f3304f702e0e9ab7d408827ef5142d6">coord_t</a> sely, <span class="keyword">const</span> <a class="code" href="structVGServer_1_1QueryLimits.html">QueryLimits</a> *ql,
<a name="l00050"></a>00050                                     <span class="keyword">const</span> <span class="keywordtype">char</span>* filter, <span class="keyword">const</span> <span class="keywordtype">char</span>* vertexattrsel, <span class="keyword">const</span> <span class="keywordtype">char</span>* edgeattrsel,
<a name="l00051"></a>00051                                     <span class="keyword">class</span> <a class="code" href="classVGServer_1_1ByteBuffer.html">ByteBuffer</a> &amp;dest)<span class="keyword"> const</span>
<a name="l00052"></a>00052 <span class="keyword"></span>{
<a name="l00053"></a>00053     graph.<a class="code" href="classVGServer_1_1GraphContainer.html#d189e26552f75d6879749b03e6c59882">getNearestNeighbor</a>(x1, y1, x2, y2, selx, sely, ql, filter, vertexattrsel, edgeattrsel, changes.<a class="code" href="classVGServer_1_1ChangeTimeline.html#6b73457d79bc5e55b030ddab6755b017">getChangelistStart</a>(), dest);
<a name="l00054"></a>00054 }
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 } <span class="comment">// namespace VGServer</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Sep 27 14:34:00 2006 for VGServer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
