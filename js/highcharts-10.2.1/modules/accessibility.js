(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/accessibility",["highcharts"],function(a){b(a);b.Highcharts=a;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(c){function b(e,f,g,d){e.hasOwnProperty(f)||(e[f]=d.apply(null,g),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:f,module:e[f]}})))}c=c?c._modules:{};b(c,"Accessibility/Utils/HTMLUtilities.js",[c["Core/Globals.js"],c["Core/Utilities.js"]],function(f,i){function k(h){if("function"===typeof d.MouseEvent){return new d.MouseEvent(h.type,h)}if(j.createEvent){var l=j.createEvent("MouseEvent");if(l.initMouseEvent){return l.initMouseEvent(h.type,h.bubbles,h.cancelable,h.view||d,h.detail,h.screenX,h.screenY,h.clientX,h.clientY,h.ctrlKey,h.altKey,h.shiftKey,h.metaKey,h.button,h.relatedTarget),l}}return e(h.type)}function e(h,m){m=m||{x:0,y:0};if("function"===typeof d.MouseEvent){return new d.MouseEvent(h,{bubbles:!0,cancelable:!0,composed:!0,view:d,detail:"click"===h?1:0,screenX:m.x,screenY:m.y,clientX:m.x,clientY:m.y})}if(j.createEvent){var l=j.createEvent("MouseEvent");if(l.initMouseEvent){return l.initMouseEvent(h,!0,!0,d,"click"===h?1:0,m.x,m.y,m.x,m.y,!1,!1,!1,!1,0,null),l}}return{type:h}}var j=f.doc,d=f.win,g=i.css;return{addClass:function(h,l){h.classList?h.classList.add(l):0>h.className.indexOf(l)&&(h.className+=" "+l)},cloneMouseEvent:k,cloneTouchEvent:function(h){var l=function(m){for(var n=[],p=0;p<m.length;++p){var o=m.item(p);o&&n.push(o)}return n};if("function"===typeof d.TouchEvent){return l=new d.TouchEvent(h.type,{touches:l(h.touches),targetTouches:l(h.targetTouches),changedTouches:l(h.changedTouches),ctrlKey:h.ctrlKey,shiftKey:h.shiftKey,altKey:h.altKey,metaKey:h.metaKey,bubbles:h.bubbles,cancelable:h.cancelable,composed:h.composed,detail:h.detail,view:h.view}),h.defaultPrevented&&l.preventDefault(),l}l=k(h);l.touches=h.touches;l.changedTouches=h.changedTouches;l.targetTouches=h.targetTouches;return l},escapeStringForHTML:function(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(h){return j.getElementById(h)},getFakeMouseEvent:e,getHeadingTagNameForElement:function(h){var m=function(n){n=parseInt(n.slice(1),10);return"h"+Math.min(6,n+1)},l=function(n){var p;n:{for(p=n;p=p.previousSibling;){var o=p.tagName||"";if(/H[1-6]/.test(o)){p=o;break n}}p=""}if(p){return m(p)}n=n.parentElement;if(!n){return"p"}p=n.tagName;return/H[1-6]/.test(p)?m(p):l(n)};return l(h)},removeChildNodes:function(h){for(;h.lastChild;){h.removeChild(h.lastChild)}},removeClass:function(h,l){h.classList?h.classList.remove(l):h.className=h.className.replace(new RegExp(l,"g"),"")},removeElement:function(h){h&&h.parentNode&&h.parentNode.removeChild(h)},reverseChildNodes:function(h){for(var l=h.childNodes.length;l--;){h.appendChild(h.childNodes[l])}},stripHTMLTagsFromString:function(h){return"string"===typeof h?h.replace(/<\/?[^>]+(>|$)/g,""):h},visuallyHideElement:function(h){g(h,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:0.01})}}});b(c,"Accessibility/A11yI18n.js",[c["Core/FormatUtilities.js"],c["Core/Utilities.js"]],function(f,g){var j=f.format,e=g.getNestedProperty,i=g.pick,d;(function(h){function m(t,r){var s=t.indexOf("#each("),k=t.indexOf("#plural("),q=t.indexOf("["),n=t.indexOf("]");if(-1<s){n=t.slice(s).indexOf(")")+s;k=t.substring(0,s);q=t.substring(n+1);n=t.substring(s+6,n).split(",");s=Number(n[1]);t="";if(r=e(n[0],r)){for(s=isNaN(s)?r.length:s,s=0>s?r.length+s:Math.min(s,r.length),n=0;n<s;++n){t+=k+r[n]+q}}return t.length?t:""}if(-1<k){q=t.slice(k).indexOf(")")+k;k=t.substring(k+8,q).split(",");switch(Number(e(k[0],r))){case 0:t=i(k[4],k[1]);break;case 1:t=i(k[2],k[1]);break;case 2:t=i(k[3],k[1]);break;default:t=k[1]}t?(r=t,r=r.trim&&r.trim()||r.replace(/^\s+|\s+$/g,"")):r="";return r}return -1<q?(k=t.substring(0,q),q=Number(t.substring(q+1,n)),t=void 0,r=e(k,r),!isNaN(q)&&r&&(0>q?(t=r[r.length+q],"undefined"===typeof t&&(t=r[0])):(t=r[q],"undefined"===typeof t&&(t=r[r.length-1]))),"undefined"!==typeof t?t:""):"{"+t+"}"}function o(w,t,v){var n=function(a,x){a=a.slice(x||0);var k=a.indexOf("{"),y=a.indexOf("}");if(-1<k&&y>k){return{statement:a.substring(k+1,y),begin:x+k+1,end:x+y}}},s=[],q=0;do{var u=n(w,q);var r=w.substring(q,u&&u.begin-1);r.length&&s.push({value:r,type:"constant"});u&&s.push({value:u.statement,type:"statement"});q=u?u.end+1:q+1}while(u);s.forEach(function(a){"statement"===a.type&&(a.value=m(a.value,t))});return j(s.reduce(function(a,k){return a+k.value},""),t,v)}function p(q,k){q=q.split(".");for(var n=this.options.lang,a=0;a<q.length;++a){n=n&&n[q[a]]}return"string"===typeof n?o(n,k,this):""}var l=[];h.compose=function(a){-1===l.indexOf(a)&&(l.push(a),a.prototype.langFormat=p);return a};h.i18nFormat=o})(d||(d={}));return d});b(c,"Accessibility/Utils/ChartUtilities.js",[c["Core/Globals.js"],c["Accessibility/Utils/HTMLUtilities.js"],c["Core/Utilities.js"]],function(z,r,i){function A(a,d){var h=d.type,g=a.hcEvents;j.createEvent&&(a.dispatchEvent||a.fireEvent)?a.dispatchEvent?a.dispatchEvent(d):a.fireEvent(h,d):g&&g[h]?x(a,h,d):a.element&&A(a.element,d)}function f(g){var l=g.chart,n={},k="Seconds";n.Seconds=((g.dataMax||g.max||0)-(g.dataMin||g.min||0))/1000;n.Minutes=n.Seconds/60;n.Hours=n.Minutes/60;n.Days=n.Hours/24;["Minutes","Hours","Days"].forEach(function(a){2<n[a]&&(k=a)});var h=n[k].toFixed("Seconds"!==k&&"Minutes"!==k?1:0);return l.langFormat("accessibility.axis.timeRange"+k,{chart:l,axis:g,range:h.replace(".0","")})}function m(g){var l=g.chart,n=l.options,k=n&&n.accessibility&&n.accessibility.screenReaderSection.axisRangeDateFormat||"",h={min:g.dataMin||g.min||0,max:g.dataMax||g.max||0};n=function(a){return g.dateTime?l.time.dateFormat(k,h[a]):h[a].toString()};return l.langFormat("accessibility.axis.rangeFromTo",{chart:l,axis:g,rangeFrom:n("min"),rangeTo:n("max")})}function C(a){if(a.points&&a.points.length){return(a=u(a.points,function(d){return !!d.graphic}))&&a.graphic&&a.graphic.element}}function B(a){var e=C(a);return e&&e.parentNode||a.graph&&a.graph.element||a.group&&a.group.element}function s(a,e){e.setAttribute("aria-hidden",!1);e!==a.renderTo&&e.parentNode&&e.parentNode!==j.body&&(Array.prototype.forEach.call(e.parentNode.childNodes,function(d){d.hasAttribute("aria-hidden")||d.setAttribute("aria-hidden",!0)}),s(a,e.parentNode))}var j=z.doc,o=r.stripHTMLTagsFromString,y=i.defined,u=i.find,x=i.fireEvent;return{fireEventOnWrappedOrUnwrappedElement:A,getChartTitle:function(a){return o(a.options.title.text||a.langFormat("accessibility.defaultChartTitle",{chart:a}))},getAxisDescription:function(a){return a&&(a.userOptions&&a.userOptions.accessibility&&a.userOptions.accessibility.description||a.axisTitle&&a.axisTitle.textStr||a.options.id||a.categories&&"categories"||a.dateTime&&"Time"||"values")},getAxisRangeDescription:function(a){var e=a.options||{};return e.accessibility&&"undefined"!==typeof e.accessibility.rangeDescription?e.accessibility.rangeDescription:a.categories?(e=a.chart,a=a.dataMax&&a.dataMin?e.langFormat("accessibility.axis.rangeCategories",{chart:e,axis:a,numCategories:a.dataMax-a.dataMin+1}):"",a):!a.dateTime||0!==a.min&&0!==a.dataMin?m(a):f(a)},getPointFromXY:function(e,k,l){for(var h=e.length,g;h--;){if(g=u(e[h].points||[],function(a){return a.x===k&&a.y===l})){return g}}},getSeriesFirstPointElement:C,getSeriesFromName:function(a,e){return e?(a.series||[]).filter(function(d){return d.name===e}):a.series},getSeriesA11yElement:B,unhideChartElementFromAT:s,hideSeriesFromAT:function(a){(a=B(a))&&a.setAttribute("aria-hidden",!0)},scrollToPoint:function(d){var p=d.series.xAxis,q=d.series.yAxis,h=p&&p.scrollbar?p:q;if((p=h&&h.scrollbar)&&y(p.to)&&y(p.from)){q=p.to-p.from;if(y(h.dataMin)&&y(h.dataMax)){var l=h.toPixels(h.dataMin),n=h.toPixels(h.dataMax);d=(h.toPixels(d["xAxis"===h.coll?"x":"y"]||0)-l)/(n-l)}else{d=0}p.updatePosition(d-q/2,d+q/2);x(p,"changed",{from:p.from,to:p.to,trigger:"scrollbar",DOMEvent:null})}}}});b(c,"Accessibility/Utils/DOMElementProvider.js",[c["Core/Globals.js"],c["Accessibility/Utils/HTMLUtilities.js"]],function(e,f){var g=e.doc,d=f.removeElement;return function(){function h(){this.elements=[]}h.prototype.createElement=function(){var i=g.createElement.apply(g,arguments);this.elements.push(i);return i};h.prototype.destroyCreatedElements=function(){this.elements.forEach(function(i){d(i)});this.elements=[]};return h}()});b(c,"Accessibility/Utils/EventProvider.js",[c["Core/Globals.js"],c["Core/Utilities.js"]],function(d,e){var f=e.addEvent;return function(){function a(){this.eventRemovers=[]}a.prototype.addEvent=function(){var g=f.apply(d,arguments);this.eventRemovers.push(g);return g};a.prototype.removeAddedEvents=function(){this.eventRemovers.forEach(function(g){return g()});this.eventRemovers=[]};return a}()});b(c,"Accessibility/AccessibilityComponent.js",[c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/Utils/DOMElementProvider.js"],c["Accessibility/Utils/EventProvider.js"],c["Accessibility/Utils/HTMLUtilities.js"],c["Core/Utilities.js"]],function(f,i,k,e,j){var d=f.fireEventOnWrappedOrUnwrappedElement,g=e.getFakeMouseEvent;f=j.extend;e=function(){function h(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}h.prototype.initBase=function(l,m){this.chart=l;this.eventProvider=new k;this.domElementProvider=new i;this.proxyProvider=m;this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}};h.prototype.addEvent=function(l,p,m,o){return this.eventProvider.addEvent(l,p,m,o)};h.prototype.createElement=function(l,m){return this.domElementProvider.createElement(l,m)};h.prototype.fakeClickEvent=function(l){var m=g("click");d(l,m)};h.prototype.destroyBase=function(){this.domElementProvider.destroyCreatedElements();this.eventProvider.removeAddedEvents()};return h}();f(e.prototype,{init:function(){},getKeyboardNavigation:function(){},onChartUpdate:function(){},onChartRender:function(){},destroy:function(){}});return e});b(c,"Accessibility/KeyboardNavigationHandler.js",[c["Core/Utilities.js"]],function(d){var e=d.find;d=function(){function f(g,i){this.chart=g;this.keyCodeMap=i.keyCodeMap||[];this.validate=i.validate;this.init=i.init;this.terminate=i.terminate;this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}f.prototype.run=function(h){var j=h.which||h.keyCode,g=this.response.noHandler,i=e(this.keyCodeMap,function(k){return -1<k[0].indexOf(j)});i?g=i[1].call(this,j,h):9===j&&(g=this.response[h.shiftKey?"prev":"next"]);return g};return f}();"";return d});b(c,"Accessibility/Components/ContainerComponent.js",[c["Accessibility/AccessibilityComponent.js"],c["Accessibility/KeyboardNavigationHandler.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Core/Globals.js"],c["Accessibility/Utils/HTMLUtilities.js"]],function(m,j,e,o,d){var i=this&&this.__extends||function(){var g=function(h,a){g=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(n,l){n.__proto__=l}||function(p,l){for(var n in l){l.hasOwnProperty(n)&&(p[n]=l[n])}};return g(h,a)};return function(l,a){function h(){this.constructor=l}g(l,a);l.prototype=null===a?Object.create(a):(h.prototype=a.prototype,new h)}}(),s=e.unhideChartElementFromAT,r=e.getChartTitle,k=o.doc,f=d.stripHTMLTagsFromString;return function(g){function h(){return null!==g&&g.apply(this,arguments)||this}i(h,g);h.prototype.onChartUpdate=function(){this.handleSVGTitleElement();this.setSVGContainerLabel();this.setGraphicContainerAttrs();this.setRenderToAttrs();this.makeCreditsAccessible()};h.prototype.handleSVGTitleElement=function(){var n=this.chart,p="highcharts-title-"+n.index,l=f(n.langFormat("accessibility.svgContainerTitle",{chartTitle:r(n)}));if(l.length){var q=this.svgTitleElement=this.svgTitleElement||k.createElementNS("http://www.w3.org/2000/svg","title");q.textContent=l;q.id=p;n.renderTo.insertBefore(q,n.renderTo.firstChild)}};h.prototype.setSVGContainerLabel=function(){var l=this.chart,n=l.langFormat("accessibility.svgContainerLabel",{chartTitle:r(l)});l.renderer.box&&n.length&&l.renderer.box.setAttribute("aria-label",n)};h.prototype.setGraphicContainerAttrs=function(){var l=this.chart,n=l.langFormat("accessibility.graphicContainerLabel",{chartTitle:r(l)});n.length&&l.container.setAttribute("aria-label",n)};h.prototype.setRenderToAttrs=function(){var n=this.chart,p="disabled"!==n.options.accessibility.landmarkVerbosity,l=n.langFormat("accessibility.chartContainerLabel",{title:r(n),chart:n});l&&(n.renderTo.setAttribute("role",p?"region":"group"),n.renderTo.setAttribute("aria-label",l))};h.prototype.makeCreditsAccessible=function(){var l=this.chart,n=l.credits;n&&(n.textStr&&n.element.setAttribute("aria-label",l.langFormat("accessibility.credits",{creditsStr:f(n.textStr)})),s(l,n.element))};h.prototype.getKeyboardNavigation=function(){var l=this.chart;return new j(l,{keyCodeMap:[],validate:function(){return !0},init:function(){var a=l.accessibility;a&&a.keyboardNavigation.tabindexContainer.focus()}})};h.prototype.destroy=function(){this.chart.renderTo.setAttribute("aria-hidden",!0)};return h}(m)});b(c,"Accessibility/FocusBorder.js",[c["Core/Renderer/SVG/SVGLabel.js"],c["Core/Utilities.js"]],function(d,f){var i=f.addEvent,e=f.pick,g;(function(o){function j(){var h=this.focusElement,k=this.options.accessibility.keyboardNavigation.focusBorder;h&&(h.removeFocusBorder(),k.enabled&&h.addFocusBorder(k.margin,{stroke:k.style.color,strokeWidth:k.style.lineWidth,r:k.style.borderRadius}))}function u(h,l){var k=this.options.accessibility.keyboardNavigation.focusBorder;(l=l||h.element)&&l.focus&&(l.hcEvents&&l.hcEvents.focusin||i(l,"focusin",function(){}),l.focus(),k.hideBrowserFocusOutline&&(l.style.outline="none"));this.focusElement&&this.focusElement.removeFocusBorder();this.focusElement=h;this.renderFocusBorder()}function p(h){if(!h.focusBorderDestroyHook){var k=h.destroy;h.destroy=function(){h.focusBorder&&h.focusBorder.destroy&&h.focusBorder.destroy();return k.apply(h,arguments)};h.focusBorderDestroyHook=k}}function a(J,G){this.focusBorder&&this.removeFocusBorder();var H=this.getBBox(),B=e(J,3),F=this.parentGroup,I=this.scaleX||F&&F.scaleX,x=this.scaleY||F&&F.scaleY;I=(I?!x:x)?Math.abs(I||x||1):(Math.abs(I||1)+Math.abs(x||1))/2;H.x+=this.translateX?this.translateX:0;H.y+=this.translateY?this.translateY:0;x=H.x-B;var A=H.y-B,M=H.width+2*B,w=H.height+2*B,l=this instanceof d;if("text"===this.element.nodeName||l){var K=!!this.rotation;if(l){var L={x:K?1:0,y:0}}else{var z=L=0;"middle"===this.attr("text-anchor")?L=z=0.5:this.rotation?L=0.25:z=0.75;L={x:L,y:z}}z=+this.attr("x");var k=+this.attr("y");isNaN(z)||(x=z-H.width*L.x-B);isNaN(k)||(A=k-H.height*L.y-B);l&&K&&(l=M,M=w,w=l,isNaN(z)||(x=z-H.height*L.x-B),isNaN(k)||(A=k-H.width*L.y-B))}this.focusBorder=this.renderer.rect(x,A,M,w,parseInt((G&&G.r||0).toString(),10)/I).addClass("highcharts-focus-border").attr({zIndex:99}).add(F);this.renderer.styledMode||this.focusBorder.attr({stroke:G&&G.stroke,"stroke-width":(G&&G.strokeWidth||0)/I});m(this,J,G);p(this)}function m(k){for(var h=[],l=1;l<arguments.length;l++){h[l-1]=arguments[l]}k.focusBorderUpdateHooks||(k.focusBorderUpdateHooks={},t.forEach(function(n){n+="Setter";var v=k[n]||k._defaultSetter;k.focusBorderUpdateHooks[n]=v;k[n]=function(){var w=v.apply(k,arguments);k.addFocusBorder.apply(k,h);return w}}))}function s(){q(this);this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook);this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}function q(h){h.focusBorderUpdateHooks&&(Object.keys(h.focusBorderUpdateHooks).forEach(function(l){var k=h.focusBorderUpdateHooks[l];k===h._defaultSetter?delete h[l]:h[l]=k}),delete h.focusBorderUpdateHooks)}var r=[],t="x y transform width height r d stroke-width".split(" ");o.compose=function(h,k){-1===r.indexOf(h)&&(r.push(h),h=h.prototype,h.renderFocusBorder=j,h.setFocusToElement=u);-1===r.indexOf(k)&&(r.push(k),k=k.prototype,k.addFocusBorder=a,k.removeFocusBorder=s)}})(g||(g={}));return g});b(c,"Accessibility/Utils/Announcer.js",[c["Core/Renderer/HTML/AST.js"],c["Accessibility/Utils/DOMElementProvider.js"],c["Core/Globals.js"],c["Accessibility/Utils/HTMLUtilities.js"],c["Core/Utilities.js"]],function(k,i,e,m,d){var f=e.doc,o=m.addClass,n=m.visuallyHideElement,j=d.attr;return function(){function a(g,h){this.chart=g;this.domElementProvider=new i;this.announceRegion=this.addAnnounceRegion(h)}a.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()};a.prototype.announce=function(g){var h=this;k.setElementHTML(this.announceRegion,g);this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer);this.clearAnnouncementRegionTimer=setTimeout(function(){h.announceRegion.innerHTML=k.emptyHTML;delete h.clearAnnouncementRegionTimer},1000)};a.prototype.addAnnounceRegion=function(g){var l=this.chart.announcerContainer||this.createAnnouncerContainer(),h=this.domElementProvider.createElement("div");j(h,{"aria-hidden":!1,"aria-live":g});this.chart.styledMode?o(h,"highcharts-visually-hidden"):n(h);l.appendChild(h);return h};a.prototype.createAnnouncerContainer=function(){var g=this.chart,h=f.createElement("div");j(h,{"aria-hidden":!1,"class":"highcharts-announcer-container"});h.style.position="relative";g.renderTo.insertBefore(h,g.renderTo.firstChild);return g.announcerContainer=h};return a}()});b(c,"Accessibility/Components/AnnotationsA11y.js",[c["Accessibility/Utils/HTMLUtilities.js"]],function(e){function i(h){return(h.annotations||[]).reduce(function(l,m){m.options&&!1!==m.options.visible&&(l=l.concat(m.labels));return l},[])}function k(h){return h.options&&h.options.accessibility&&h.options.accessibility.description||h.graphic&&h.graphic.text&&h.graphic.text.textStr||""}function f(h){var m=h.options&&h.options.accessibility&&h.options.accessibility.description;if(m){return m}m=h.chart;var q=k(h),l=h.points.filter(function(n){return !!n.graphic}).map(function(r){var n=r.accessibility&&r.accessibility.valueDescription||r.graphic&&r.graphic.element&&r.graphic.element.getAttribute("aria-label")||"";r=r&&r.series.name||"";return(r?r+", ":"")+"data point "+n}).filter(function(n){return !!n}),p=l.length,o="accessibility.screenReaderSection.annotations.description"+(1<p?"MultiplePoints":p?"SinglePoint":"NoPoints");h={annotationText:q,annotation:h,numPoints:p,annotationPoint:l[0],additionalAnnotationPoints:l.slice(1)};return m.langFormat(o,h)}function j(h){return i(h).map(function(l){return(l=d(g(f(l))))?"<li>".concat(l,"</li>"):""})}var d=e.escapeStringForHTML,g=e.stripHTMLTagsFromString;return{getAnnotationsInfoHTML:function(h){var l=h.annotations;if(!l||!l.length){return""}h=j(h);return'<ul style="list-style-type: none">'.concat(h.join(" "),"</ul>")},getAnnotationLabelDescription:f,getAnnotationListItems:j,getPointAnnotationTexts:function(h){var l=i(h.series.chart).filter(function(a){return -1<a.points.indexOf(h)});return l.length?l.map(function(m){return"".concat(k(m))}):[]}}});b(c,"Accessibility/Components/InfoRegionsComponent.js",[c["Accessibility/A11yI18n.js"],c["Accessibility/AccessibilityComponent.js"],c["Accessibility/Utils/Announcer.js"],c["Accessibility/Components/AnnotationsA11y.js"],c["Core/Renderer/HTML/AST.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Core/FormatUtilities.js"],c["Core/Globals.js"],c["Accessibility/Utils/HTMLUtilities.js"],c["Core/Utilities.js"]],function(Z,S,O,r,M,Q,s,u,T,P){function R(f,e){var h=e[0],g=f.series&&f.series[0]||{};g={numSeries:f.series.length,numPoints:g.points&&g.points.length,chart:f,mapTitle:f.mapView&&f.mapView.geoMap&&f.mapView.geoMap.title};if(!h){return f.langFormat("accessibility.chartTypes.emptyChart",g)}if("map"===h){return g.mapTitle?f.langFormat("accessibility.chartTypes.mapTypeDescription",g):f.langFormat("accessibility.chartTypes.unknownMap",g)}if(1<f.types.length){return f.langFormat("accessibility.chartTypes.combinationChart",g)}e=e[0];h=f.langFormat("accessibility.seriesTypeDescriptions."+e,g);var k=f.series&&2>f.series.length?"Single":"Multiple";return(f.langFormat("accessibility.chartTypes."+e+k,g)||f.langFormat("accessibility.chartTypes.default"+k,g))+(h?" "+h:"")}var X=this&&this.__extends||function(){var d=function(a,e){d=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var h in f){f.hasOwnProperty(h)&&(g[h]=f[h])}};return d(a,e)};return function(a,f){function e(){this.constructor=a}d(a,f);a.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}(),V=r.getAnnotationsInfoHTML,W=Q.getAxisDescription,Y=Q.getAxisRangeDescription,U=Q.getChartTitle,m=Q.unhideChartElementFromAT,j=s.format,i=u.doc,H=T.addClass,o=T.getElement,L=T.getHeadingTagNameForElement,N=T.stripHTMLTagsFromString,F=T.visuallyHideElement,J=P.attr,I=P.pick;return function(d){function a(){var e=null!==d&&d.apply(this,arguments)||this;e.announcer=void 0;e.screenReaderSections={};return e}X(a,d);a.prototype.init=function(){var f=this.chart,e=this;this.initRegionsDefinitions();this.addEvent(f,"aftergetTableAST",function(g){e.onDataTableCreated(g)});this.addEvent(f,"afterViewData",function(g){e.dataTableDiv=g;setTimeout(function(){e.focusDataTable()},300)});this.announcer=new O(f,"assertive")};a.prototype.initRegionsDefinitions=function(){var e=this;this.screenReaderSections={before:{element:null,buildContent:function(f){var g=f.options.accessibility.screenReaderSection.beforeChartFormatter;return g?g(f):e.defaultBeforeChartFormatter(f)},insertIntoDOM:function(g,f){f.renderTo.insertBefore(g,f.renderTo.firstChild)},afterInserted:function(){"undefined"!==typeof e.sonifyButtonId&&e.initSonifyButton(e.sonifyButtonId);"undefined"!==typeof e.dataTableButtonId&&e.initDataTableButton(e.dataTableButtonId)}},after:{element:null,buildContent:function(f){var g=f.options.accessibility.screenReaderSection.afterChartFormatter;return g?g(f):e.defaultAfterChartFormatter()},insertIntoDOM:function(g,f){f.renderTo.insertBefore(g,f.container.nextSibling)},afterInserted:function(){e.chart.accessibility&&e.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}};a.prototype.onChartRender=function(){var e=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement();this.setLinkedDescriptionAttrs();Object.keys(this.screenReaderSections).forEach(function(f){e.updateScreenReaderSection(f)})};a.prototype.getLinkedDescriptionElement=function(){var e=this.chart.options.accessibility.linkedDescription;if(e){if("string"!==typeof e){return e}e=j(e,this.chart);e=i.querySelectorAll(e);if(1===e.length){return e[0]}}};a.prototype.setLinkedDescriptionAttrs=function(){var e=this.linkedDescriptionElement;e&&(e.setAttribute("aria-hidden","true"),H(e,"highcharts-linked-description"))};a.prototype.updateScreenReaderSection=function(h){var g=this.chart,l=this.screenReaderSections[h],n=l.buildContent(g),e=l.element=l.element||this.createElement("div"),k=e.firstChild||this.createElement("div");n?(this.setScreenReaderSectionAttribs(e,h),M.setElementHTML(k,n),e.appendChild(k),l.insertIntoDOM(e,g),g.styledMode?H(k,"highcharts-visually-hidden"):F(k),m(g,k),l.afterInserted&&l.afterInserted()):(e.parentNode&&e.parentNode.removeChild(e),l.element=null)};a.prototype.setScreenReaderSectionAttribs=function(f,e){var g=this.chart,h=g.langFormat("accessibility.screenReaderSection."+e+"RegionLabel",{chart:g,chartTitle:U(g)});e="highcharts-screen-reader-region-".concat(e,"-").concat(g.index);J(f,{id:e,"aria-label":h||void 0});f.style.position="relative";h&&f.setAttribute("role","all"===g.options.accessibility.landmarkVerbosity?"region":"group")};a.prototype.defaultBeforeChartFormatter=function(){var e=this.chart,n=e.options.accessibility.screenReaderSection.beforeChartFormat;if(!n){return""}var q=this.getAxesDescription(),h=e.sonify&&e.options.sonification&&e.options.sonification.enabled,k="highcharts-a11y-sonify-data-btn-"+e.index,f="hc-linkto-highcharts-data-table-"+e.index,p=V(e),l=e.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:e});q={headingTagName:L(e.renderTo),chartTitle:U(e),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:q.xAxis,yAxisDescription:q.yAxis,playAsSoundButton:h?this.getSonifyButtonText(k):"",viewTableButton:e.getCSV?this.getDataTableButtonText(f):"",annotationsTitle:p?l:"",annotationsList:p};e=Z.i18nFormat(n,q,e);this.dataTableButtonId=f;this.sonifyButtonId=k;return e.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")};a.prototype.defaultAfterChartFormatter=function(){var e=this.chart,f=e.options.accessibility.screenReaderSection.afterChartFormat;if(!f){return""}var g={endOfChartMarker:this.getEndOfChartMarkerText()};return Z.i18nFormat(f,g,e).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")};a.prototype.getLinkedDescription=function(){var e=this.linkedDescriptionElement;return N(e&&e.innerHTML||"")};a.prototype.getLongdescText=function(){var f=this.chart.options,e=f.caption;e=e&&e.text;var g=this.getLinkedDescription();return f.accessibility.description||g||e||""};a.prototype.getTypeDescriptionText=function(){var e=this.chart;return e.types?e.options.accessibility.typeDescription||R(e,e.types):""};a.prototype.getDataTableButtonText=function(f){var e=this.chart;e=e.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:e,chartTitle:U(e)});return'<button id="'+f+'">'+e+"</button>"};a.prototype.getSonifyButtonText=function(f){var e=this.chart;if(e.options.sonification&&!1===e.options.sonification.enabled){return""}e=e.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:e,chartTitle:U(e)});return'<button id="'+f+'">'+e+"</button>"};a.prototype.getSubtitleText=function(){var e=this.chart.options.subtitle;return N(e&&e.text||"")};a.prototype.getEndOfChartMarkerText=function(){var f=this.chart,e=f.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:f});return'<div id="highcharts-end-of-chart-marker-'+f.index+'">'+e+"</div>"};a.prototype.onDataTableCreated=function(f){var e=this.chart;if(e.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");var g=f.tree.attributes||{};g.tabindex=-1;g.summary=e.langFormat("accessibility.table.tableSummary",{chart:e});f.tree.attributes=g}};a.prototype.focusDataTable=function(){var e=this.dataTableDiv;(e=e&&e.getElementsByTagName("table")[0])&&e.focus&&e.focus()};a.prototype.initSonifyButton=function(g){var e=this,k=this.sonifyButton=o(g),l=this.chart,h=function(f){k&&(k.setAttribute("aria-hidden","true"),k.setAttribute("aria-label",""));f.preventDefault();f.stopPropagation();f=l.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:l});e.announcer.announce(f);setTimeout(function(){k&&(k.removeAttribute("aria-hidden"),k.removeAttribute("aria-label"));l.sonify&&l.sonify()},1000)};k&&l&&(k.setAttribute("tabindex",-1),k.onclick=function(f){(l.options.accessibility&&l.options.accessibility.screenReaderSection.onPlayAsSoundClick||h).call(this,f,l)})};a.prototype.initDataTableButton=function(f){var e=this.viewDataTableButton=o(f),g=this.chart;f=f.replace("hc-linkto-","");e&&(J(e,{tabindex:-1,"aria-expanded":!!o(f)}),e.onclick=g.options.accessibility.screenReaderSection.onViewDataTableClick||function(){g.viewData()})};a.prototype.getAxesDescription=function(){var g=this.chart,e=function(f,n){f=g[f];return 1<f.length||f[0]&&I(f[0].options.accessibility&&f[0].options.accessibility.enabled,n)},k=!!g.types&&0>g.types.indexOf("map")&&0>g.types.indexOf("treemap")&&0>g.types.indexOf("tilemap"),l=!!g.hasCartesianSeries,h=e("xAxis",!g.angular&&l&&k);e=e("yAxis",l&&k);k={};h&&(k.xAxis=this.getAxisDescriptionText("xAxis"));e&&(k.yAxis=this.getAxisDescriptionText("yAxis"));return k};a.prototype.getAxisDescriptionText=function(e){var h=this.chart,g=h[e];return h.langFormat("accessibility.axis."+e+"Description"+(1<g.length?"Plural":"Singular"),{chart:h,names:g.map(function(f){return W(f)}),ranges:g.map(function(f){return Y(f)}),numAxes:g.length})};a.prototype.destroy=function(){this.announcer&&this.announcer.destroy()};return a}(S)});b(c,"Accessibility/Components/MenuComponent.js",[c["Core/Chart/Chart.js"],c["Core/Utilities.js"],c["Accessibility/AccessibilityComponent.js"],c["Accessibility/KeyboardNavigationHandler.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/Utils/HTMLUtilities.js"]],function(r,m,e,s,d,i){var x=this&&this.__extends||function(){var g=function(h,a){g=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(k,l){k.__proto__=l}||function(l,n){for(var k in n){n.hasOwnProperty(k)&&(l[k]=n[k])}};return g(h,a)};return function(k,h){function a(){this.constructor=k}g(k,h);k.prototype=null===h?Object.create(h):(a.prototype=h.prototype,new a)}}(),u=m.attr,o=d.getChartTitle,f=d.unhideChartElementFromAT,j=i.getFakeMouseEvent;m=function(g){function h(){return null!==g&&g.apply(this,arguments)||this}x(h,g);h.prototype.init=function(){var l=this.chart,k=this;this.addEvent(l,"exportMenuShown",function(){k.onMenuShown()});this.addEvent(l,"exportMenuHidden",function(){k.onMenuHidden()});this.createProxyGroup()};h.prototype.onMenuHidden=function(){var k=this.chart.exportContextMenu;k&&k.setAttribute("aria-hidden","true");this.setExportButtonExpandedState("false")};h.prototype.onMenuShown=function(){var l=this.chart,k=l.exportContextMenu;k&&(this.addAccessibleContextMenuAttribs(),f(l,k));this.setExportButtonExpandedState("true")};h.prototype.setExportButtonExpandedState=function(k){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",k)};h.prototype.onChartRender=function(){var l=this.chart,k=l.focusElement,n=l.accessibility;this.proxyProvider.clearGroup("chartMenu");this.proxyMenuButton();this.exportButtonProxy&&k&&k===l.exportingGroup&&(k.focusBorder?l.setFocusToElement(k,this.exportButtonProxy.buttonElement):n&&n.keyboardNavigation.tabindexContainer.focus())};h.prototype.proxyMenuButton=function(){var n=this.chart,l=this.proxyProvider,t=n.exportSVGElements&&n.exportSVGElements[0],q=n.options.exporting,p=n.exportSVGElements&&n.exportSVGElements[0];q&&!1!==q.enabled&&q.accessibility&&q.accessibility.enabled&&p&&p.element&&t&&(this.exportButtonProxy=l.addProxyElement("chartMenu",{click:t},{"aria-label":n.langFormat("accessibility.exporting.menuButtonLabel",{chart:n,chartTitle:o(n)}),"aria-expanded":!1,title:n.options.lang.contextButtonTitle||null}))};h.prototype.createProxyGroup=function(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")};h.prototype.addAccessibleContextMenuAttribs=function(){var l=this.chart,k=l.exportDivElements;k&&k.length&&(k.forEach(function(n){n&&("LI"!==n.tagName||n.children&&n.children.length?n.setAttribute("aria-hidden","true"):n.setAttribute("tabindex",-1))}),(k=k[0]&&k[0].parentNode)&&u(k,{"aria-hidden":void 0,"aria-label":l.langFormat("accessibility.exporting.chartMenuLabel",{chart:l}),role:"list"}))};h.prototype.getKeyboardNavigation=function(){var l=this.keyCodes,k=this.chart,n=this;return new s(k,{keyCodeMap:[[[l.left,l.up],function(){return n.onKbdPrevious(this)}],[[l.right,l.down],function(){return n.onKbdNext(this)}],[[l.enter,l.space],function(){return n.onKbdClick(this)}]],validate:function(){return !!k.exporting&&!1!==k.options.exporting.enabled&&!1!==k.options.exporting.accessibility.enabled},init:function(){var p=n.exportButtonProxy,q=n.chart.exportingGroup;p&&q&&k.setFocusToElement(q,p.buttonElement)},terminate:function(){k.hideExportMenu()}})};h.prototype.onKbdPrevious=function(l){var k=this.chart,n=k.options.accessibility;l=l.response;for(var p=k.highlightedExportItemIx||0;p--;){if(k.highlightExportItem(p)){return l.success}}return n.keyboardNavigation.wrapAround?(k.highlightLastExportItem(),l.success):l.prev};h.prototype.onKbdNext=function(l){var k=this.chart,n=k.options.accessibility;l=l.response;for(var p=(k.highlightedExportItemIx||0)+1;p<k.exportDivElements.length;++p){if(k.highlightExportItem(p)){return l.success}}return n.keyboardNavigation.wrapAround?(k.highlightExportItem(0),l.success):l.next};h.prototype.onKbdClick=function(l){var k=this.chart,n=k.exportDivElements[k.highlightedExportItemIx],p=(k.exportSVGElements&&k.exportSVGElements[0]).element;k.openMenu?this.fakeClickEvent(n):(this.fakeClickEvent(p),k.highlightExportItem(0));return l.response.success};return h}(e);(function(n){function h(){var p=this.exportSVGElements&&this.exportSVGElements[0];if(p&&(p=p.element,p.onclick)){p.onclick(j("click"))}}function k(){var p=this.exportDivElements;p&&this.exportContextMenu&&this.openMenu&&(p.forEach(function(q){if(q&&"highcharts-menu-item"===q.className&&q.onmouseout){q.onmouseout(j("mouseout"))}}),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function a(q){var p=this.exportDivElements&&this.exportDivElements[q],t=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(p&&"LI"===p.tagName&&(!p.children||!p.children.length)){var v=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;p.focus&&v&&p.focus();if(t&&t.onmouseout){t.onmouseout(j("mouseout"))}if(p.onmouseover){p.onmouseover(j("mouseover"))}this.highlightedExportItemIx=q;return !0}return !1}function g(){if(this.exportDivElements){for(var p=this.exportDivElements.length;p--;){if(this.highlightExportItem(p)){return !0}}}return !1}var l=[];n.compose=function(p){-1===l.indexOf(p)&&(l.push(p),p=r.prototype,p.hideExportMenu=k,p.highlightExportItem=a,p.highlightLastExportItem=g,p.showExportMenu=h)}})(m||(m={}));return m});b(c,"Accessibility/KeyboardNavigation.js",[c["Core/Globals.js"],c["Accessibility/Components/MenuComponent.js"],c["Core/Utilities.js"],c["Accessibility/Utils/EventProvider.js"],c["Accessibility/Utils/HTMLUtilities.js"]],function(m,j,e,o,d){var i=m.doc,s=m.win,r=e.addEvent,k=e.fireEvent,f=d.getElement;e=function(){function g(h,l){this.components=this.chart=void 0;this.currentModuleIx=NaN;this.exitAnchor=this.eventProvider=void 0;this.modules=[];this.tabindexContainer=void 0;this.init(h,l)}g.prototype.init=function(l,n){var p=this,h=this.eventProvider=new o;this.chart=l;this.components=n;this.modules=[];this.currentModuleIx=0;this.update();h.addEvent(this.tabindexContainer,"keydown",function(q){return p.onKeydown(q)});h.addEvent(this.tabindexContainer,"focus",function(q){return p.onFocus(q)});["mouseup","touchend"].forEach(function(q){return h.addEvent(i,q,function(){return p.onMouseUp()})});["mousedown","touchstart"].forEach(function(a){return h.addEvent(l.renderTo,a,function(){p.isClickingChart=!0})});h.addEvent(l.renderTo,"mouseover",function(){p.pointerIsOverChart=!0});h.addEvent(l.renderTo,"mouseout",function(){p.pointerIsOverChart=!1})};g.prototype.update=function(h){var n=this.chart.options.accessibility;n=n&&n.keyboardNavigation;var l=this.components;this.updateContainerTabindex();n&&n.enabled&&h&&h.length?(this.modules=h.reduce(function(p,q){q=l[q].getKeyboardNavigation();return p.concat(q)},[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())};g.prototype.updateExitAnchor=function(){var h="highcharts-end-of-chart-marker-".concat(this.chart.index);h=f(h);this.removeExitAnchor();h?(this.makeElementAnExitAnchor(h),this.exitAnchor=h):this.createExitAnchor()};g.prototype.move=function(h){var l=this.modules&&this.modules[this.currentModuleIx];l&&l.terminate&&l.terminate(h);this.chart.focusElement&&this.chart.focusElement.removeFocusBorder();this.currentModuleIx+=h;if(l=this.modules&&this.modules[this.currentModuleIx]){if(l.validate&&!l.validate()){return this.move(h)}if(l.init){return l.init(h),!0}}this.currentModuleIx=0;this.exiting=!0;0<h?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus();return !1};g.prototype.onFocus=function(h){var l=this.chart;h=h.relatedTarget&&l.container.contains(h.relatedTarget);this.exiting||this.tabbingInBackwards||this.isClickingChart||h||(h=this.getFirstValidModuleIx(),null!==h&&(this.currentModuleIx=h,this.modules[h].init(1)));this.exiting=!1};g.prototype.onMouseUp=function(){delete this.isClickingChart;if(!this.keyboardReset){var h=this.chart;if(!this.pointerIsOverChart){var l=this.modules&&this.modules[this.currentModuleIx||0];l&&l.terminate&&l.terminate();this.currentModuleIx=0}h.focusElement&&(h.focusElement.removeFocusBorder(),delete h.focusElement);this.keyboardReset=!0}};g.prototype.onKeydown=function(l){l=l||s.event;var p=this.modules&&this.modules.length&&this.modules[this.currentModuleIx],n;this.exiting=this.keyboardReset=!1;if(p){var h=p.run(l);h===p.response.success?n=!0:h===p.response.prev?n=this.move(-1):h===p.response.next&&(n=this.move(1));n&&(l.preventDefault(),l.stopPropagation())}};g.prototype.updateContainerTabindex=function(){var l=this.chart.options.accessibility;l=l&&l.keyboardNavigation;l=!(l&&!1===l.enabled);var n=this.chart,p=n.container;n.renderTo.hasAttribute("tabindex")&&(p.removeAttribute("tabindex"),p=n.renderTo);this.tabindexContainer=p;var h=p.getAttribute("tabindex");l&&!h?p.setAttribute("tabindex","0"):l||n.container.removeAttribute("tabindex")};g.prototype.createExitAnchor=function(){var h=this.chart,l=this.exitAnchor=i.createElement("div");h.renderTo.appendChild(l);this.makeElementAnExitAnchor(l)};g.prototype.makeElementAnExitAnchor=function(h){var l=this.tabindexContainer.getAttribute("tabindex")||0;h.setAttribute("class","highcharts-exit-anchor");h.setAttribute("tabindex",l);h.setAttribute("aria-hidden",!1);this.addExitAnchorEventsToEl(h)};g.prototype.removeExitAnchor=function(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)};g.prototype.addExitAnchorEventsToEl=function(h){var n=this.chart,l=this;this.eventProvider.addEvent(h,"focus",function(q){q=q||s.event;var p=!(q.relatedTarget&&n.container.contains(q.relatedTarget)||l.exiting);n.focusElement&&delete n.focusElement;p?(l.tabbingInBackwards=!0,l.tabindexContainer.focus(),delete l.tabbingInBackwards,q.preventDefault(),l.modules&&l.modules.length&&(l.currentModuleIx=l.modules.length-1,(q=l.modules[l.currentModuleIx])&&q.validate&&!q.validate()?l.move(-1):q&&q.init(-1))):l.exiting=!1})};g.prototype.getFirstValidModuleIx=function(){for(var h=this.modules.length,l=0;l<h;++l){var n=this.modules[l];if(!n.validate||n.validate()){return l}}return null};g.prototype.destroy=function(){this.removeExitAnchor();this.eventProvider.removeAddedEvents();this.chart.container.removeAttribute("tabindex")};return g}();(function(a){function l(){var n=this;k(this,"dismissPopupContent",{},function(){n.tooltip&&n.tooltip.hide(0);n.hideExportMenu()})}function g(n){27===(n.which||n.keyCode)&&m.charts&&m.charts.forEach(function(p){p&&p.dismissPopupContent&&p.dismissPopupContent()})}var h=[];a.compose=function(n){j.compose(n);-1===h.indexOf(n)&&(h.push(n),n.prototype.dismissPopupContent=l);-1===h.indexOf(i)&&(h.push(i),r(i,"keydown",g));return n}})(e||(e={}));return e});b(c,"Accessibility/Components/LegendComponent.js",[c["Core/Animation/AnimationUtilities.js"],c["Core/Globals.js"],c["Core/Legend/Legend.js"],c["Core/Utilities.js"],c["Accessibility/AccessibilityComponent.js"],c["Accessibility/KeyboardNavigationHandler.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/Utils/HTMLUtilities.js"]],function(R,K,E,o,D,I,r,s){function L(f){var e=f.legend&&f.legend.allItems,g=f.options.legend.accessibility||{};f=f.colorAxis&&f.colorAxis.some(function(d){return !d.dataClasses||!d.dataClasses.length});return !(!e||!e.length||f||!1===g.enabled)}function H(e,f){f.setState(e?"hover":"",!0);["legendGroup","legendItem","legendSymbol"].forEach(function(a){(a=(a=f[a])&&a.element||a)&&Q(a,e?"mouseover":"mouseout")})}var J=this&&this.__extends||function(){var d=function(a,e){d=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var h in f){f.hasOwnProperty(h)&&(g[h]=f[h])}};return d(a,e)};return function(a,e){function f(){this.constructor=a}d(a,e);a.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)}}(),P=R.animObject,N=K.doc,O=o.addEvent,Q=o.fireEvent,M=o.isNumber,j=o.pick,i=o.syncTimeout,A=r.getChartTitle,m=s.stripHTMLTagsFromString,u=s.addClass,C=s.removeClass;R=function(e){function d(){var a=null!==e&&e.apply(this,arguments)||this;a.highlightedLegendItemIx=NaN;a.proxyGroup=null;return a}J(d,e);d.prototype.init=function(){var f=this;this.recreateProxies();this.addEvent(E,"afterScroll",function(){this.chart===f.chart&&(f.proxyProvider.updateGroupProxyElementPositions("legend"),f.updateLegendItemProxyVisibility(),-1<f.highlightedLegendItemIx&&this.chart.highlightLegendItem(f.highlightedLegendItemIx))});this.addEvent(E,"afterPositionItem",function(a){this.chart===f.chart&&this.chart.renderer&&f.updateProxyPositionForItem(a.item)});this.addEvent(E,"afterRender",function(){this.chart===f.chart&&this.chart.renderer&&f.recreateProxies()&&i(function(){return f.proxyProvider.updateGroupProxyElementPositions("legend")},P(j(this.chart.renderer.globalAnimation,!0)).duration)})};d.prototype.updateLegendItemProxyVisibility=function(){var g=this.chart,f=g.legend,h=f.currentPage||1,k=f.clipHeight||0;(f.allItems||[]).forEach(function(n){if(n.a11yProxyElement){var l=n.a11yProxyElement.element,a=!1;if(f.pages&&f.pages.length){a=n.pageIx||0;var p=n._legendItemPos?n._legendItemPos[1]:0;n=n.legendItem?Math.round(n.legendItem.getBBox().height):0;a=p+n-f.pages[a]>k||a!==h-1}a?g.styledMode?u(l,"highcharts-a11y-invisible"):l.style.visibility="hidden":(C(l,"highcharts-a11y-invisible"),l.style.visibility="")}})};d.prototype.onChartRender=function(){L(this.chart)||this.removeProxies()};d.prototype.highlightAdjacentLegendPage=function(h){var g=this.chart,l=g.legend;h=(l.currentPage||1)+h;var n=l.pages||[];if(0<h&&h<=n.length){n=l.allItems.length;for(var k=0;k<n;++k){if(l.allItems[k].pageIx+1===h){g.highlightLegendItem(k)&&(this.highlightedLegendItemIx=k);break}}}};d.prototype.updateProxyPositionForItem=function(f){f.a11yProxyElement&&f.a11yProxyElement.refreshPosition()};d.prototype.recreateProxies=function(){var g=N.activeElement,f=this.proxyGroup;g=g&&f&&f.contains(g);this.removeProxies();return L(this.chart)?(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),g&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0):!1};d.prototype.removeProxies=function(){this.proxyProvider.removeGroup("legend")};d.prototype.updateLegendTitle=function(){var g=this.chart,f=m((g.legend&&g.legend.options.title&&g.legend.options.title.text||"").replace(/<br ?\/?>/g," "));g=g.langFormat("accessibility.legend.legendLabel"+(f?"":"NoTitle"),{chart:g,legendTitle:f,chartTitle:A(g)});this.proxyProvider.updateGroupAttrs("legend",{"aria-label":g})};d.prototype.addLegendProxyGroup=function(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})};d.prototype.proxyLegendItems=function(){var f=this;(this.chart.legend&&this.chart.legend.allItems||[]).forEach(function(a){a.legendItem&&a.legendItem.element&&f.proxyLegendItem(a)})};d.prototype.proxyLegendItem=function(g){if(g.legendItem&&g.legendGroup){var f=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:m(g.name),item:g});g.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:g.legendItem,visual:(g.legendGroup.div?g.legendItem:g.legendGroup).element},{tabindex:-1,"aria-pressed":g.visible,"aria-label":f})}};d.prototype.getKeyboardNavigation=function(){var g=this.keyCodes,f=this,h=this.chart;return new I(h,{keyCodeMap:[[[g.left,g.right,g.up,g.down],function(k){return f.onKbdArrowKey(this,k)}],[[g.enter,g.space],function(a){return K.isFirefox&&a===g.space?this.response.success:f.onKbdClick(this)}],[[g.pageDown,g.pageUp],function(a){f.highlightAdjacentLegendPage(a===g.pageDown?1:-1);return this.response.success}]],validate:function(){return f.shouldHaveLegendNavigation()},init:function(){h.highlightLegendItem(0);f.highlightedLegendItemIx=0},terminate:function(){f.highlightedLegendItemIx=-1;h.legend.allItems.forEach(function(k){return H(!1,k)})}})};d.prototype.onKbdArrowKey=function(h,g){var p=this.keyCodes,q=h.response,l=this.chart,k=l.options.accessibility,n=l.legend.allItems.length;g=g===p.left||g===p.up?-1:1;if(l.highlightLegendItem(this.highlightedLegendItemIx+g)){return this.highlightedLegendItemIx+=g,q.success}1<n&&k.keyboardNavigation.wrapAround&&h.init(g);return q.success};d.prototype.onKbdClick=function(g){var f=this.chart.legend.allItems[this.highlightedLegendItemIx];f&&f.a11yProxyElement&&f.a11yProxyElement.click();return g.response.success};d.prototype.shouldHaveLegendNavigation=function(){if(!L(this.chart)){return !1}var g=this.chart,f=(g.options.legend||{}).accessibility||{};return !!(g.legend.display&&f.keyboardNavigation&&f.keyboardNavigation.enabled)};return d}(D);(function(f){function d(k){var e=this.legend.allItems,l=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx,n=e[k];return n?(M(l)&&e[l]&&H(!1,e[l]),e=this.legend,k=e.allItems[k].pageIx,l=e.currentPage,"undefined"!==typeof k&&k+1!==l&&e.scroll(1+k-l),k=n.legendItem,e=n.a11yProxyElement&&n.a11yProxyElement.buttonElement,k&&k.element&&e&&this.setFocusToElement(k,e),H(!0,n),!0):!1}function h(k){var e=k.item;this.chart.options.accessibility.enabled&&e&&e.a11yProxyElement&&e.a11yProxyElement.buttonElement.setAttribute("aria-pressed",k.visible?"true":"false")}var g=[];f.compose=function(e,k){-1===g.indexOf(e)&&(g.push(e),e.prototype.highlightLegendItem=d);-1===g.indexOf(k)&&(g.push(k),O(k,"afterColorizeItem",h))}})(R||(R={}));return R});b(c,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[c["Accessibility/Components/AnnotationsA11y.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Core/FormatUtilities.js"],c["Accessibility/Utils/HTMLUtilities.js"],c["Core/Utilities.js"]],function(af,Y,T,G,R){function W(e){var d=e.index;return e.series&&e.series.data&&V(d)?O(e.series.data,function(f){return !!(f&&"undefined"!==typeof f.index&&f.index>d&&f.graphic&&f.graphic.element)})||null:null}function N(e){var d=e.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return !!(!1!==d&&e.points&&e.points.length>=d)}function H(e){var d=e.options.accessibility||{};return !N(e)&&!d.exposeAsGroupOnly}function Z(e){var d=e.chart.options.accessibility.keyboardNavigation.seriesNavigation;return !(!e.points||!(e.points.length<d.pointNavigationEnabledThreshold||!1===d.pointNavigationEnabledThreshold))}function U(g,e){var k=g.series,l=k.chart;g=l.options.accessibility.point||{};var h=k.options.accessibility&&k.options.accessibility.point||{};k=k.tooltipOptions||{};l=l.options.lang;return i(e)?S(e,h.valueDecimals||g.valueDecimals||k.valueDecimals||-1,l.decimalPoint,l.accessibility.thousandsSep||l.thousandsSep):e}function X(e){var d=(e.options.accessibility||{}).description;return d&&e.chart.langFormat("accessibility.series.description",{description:d,series:e})||""}function ad(e,d){return e.chart.langFormat("accessibility.series."+d+"Description",{name:o(e[d]),series:e})}function ab(g,e,k){var l=e||"",h=k||"";return g.series.pointArrayMap.reduce(function(a,m){a+=a.length?", ":"";var f=U(g,I(g[m],g.options[m]));return a+(m+": "+l+f+h)},"")}function ac(B){var A=B.series,w=1<A.chart.series.length||A.options.name,y=B.series;var v=y.chart;var e=y.options.accessibility;e=e&&e.point&&e.point.valueDescriptionFormat||v.options.accessibility.point.valueDescriptionFormat;y=I(y.xAxis&&y.xAxis.options.accessibility&&y.xAxis.options.accessibility.enabled,!v.angular);if(y){var u=B.series;var q=u.chart;var x=u.options.accessibility&&u.options.accessibility.point||{},t=q.options.accessibility.point||{};(u=u.xAxis&&u.xAxis.dateTime)?(u=u.getXDateFormat(B.x||0,q.options.tooltip.dateTimeLabelFormats),x=x.dateFormatter&&x.dateFormatter(B)||t.dateFormatter&&t.dateFormatter(B)||x.dateFormat||t.dateFormat||u,q=q.time.dateFormat(x,B.x||0,void 0)):q=void 0;x=(B.series.xAxis||{}).categories&&V(B.category)&&(""+B.category).replace("<br/>"," ");t=V(B.id)&&0>(""+B.id).indexOf("highcharts-");u="x, "+B.x;q=B.name||q||x||(t?B.id:u)}else{q=""}x=V(B.index)?B.index+1:"";t=B.series;var n=t.chart.options.accessibility.point||{},m=t.chart.options.accessibility&&t.chart.options.accessibility.point||{},C=t.tooltipOptions||{};u=m.valuePrefix||n.valuePrefix||C.valuePrefix||"";n=m.valueSuffix||n.valueSuffix||C.valueSuffix||"";m=U(B,B["undefined"!==typeof B.value?"value":"y"]);t=B.isNull?t.chart.langFormat("accessibility.series.nullPointValue",{point:B}):t.pointArrayMap?ab(B,u,n):u+m+n;v=Q(e,{point:B,index:x,xDescription:q,value:t,separator:y?", ":""},v);e=(e=B.options&&B.options.accessibility&&B.options.accessibility.description)?" "+e:"";A=w?" "+A.name+".":"";w=B.series.chart;y=r(B);q={point:B,annotations:y};w=y.length?w.langFormat("accessibility.series.pointAnnotationsDescription",q):"";B.accessibility=B.accessibility||{};B.accessibility.valueDescription=v;return v+e+A+(w?" "+w:"")}function ae(e){var d=H(e),h=Z(e),g=e.chart.options.accessibility.point.describeNull;(d||h)&&e.points.forEach(function(l){var k;if(!(k=l.graphic&&l.graphic.element)){var f=l.series;k=f&&f.chart;f=f&&f.is("sunburst");k=k&&k.options.accessibility.point.describeNull;if(k=l.isNull&&!f&&k){f=l.series;var a=W(l);f=(k=a&&a.graphic)?k.parentGroup:f.graph||f.group;a=a?{x:I(l.plotX,a.plotX,0),y:I(l.plotY,a.plotY,0)}:{x:I(l.plotX,0),y:I(l.plotY,0)};a=l.series.chart.renderer.rect(a.x,a.y,1,1);a.attr({"class":"highcharts-a11y-dummy-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0});f&&f.element?(l.graphic=a,l.hasDummyGraphic=!0,a.add(f),f.element.insertBefore(a.element,k?k.element:null),k=a.element):k=void 0}}f=l.options&&l.options.accessibility&&!1===l.options.accessibility.enabled;k&&(l.isNull&&!g?k.setAttribute("aria-hidden",!0):(k.setAttribute("tabindex","-1"),e.chart.styledMode||(k.style.outline="none"),d&&!f?(a=l.series,f=a.chart.options.accessibility.point||{},a=a.options.accessibility&&a.options.accessibility.point||{},l=P(a.descriptionFormatter&&a.descriptionFormatter(l)||f.descriptionFormatter&&f.descriptionFormatter(l)||ac(l)),k.setAttribute("role","img"),k.setAttribute("aria-label",l)):k.setAttribute("aria-hidden",!0)))})}function aa(v){var u=v.chart,q=u.types||[],n=X(v),p=function(a){return u[a]&&1<u[a].length&&v[a]},k=v.index+1,h=ad(v,"xAxis"),l=ad(v,"yAxis"),t={seriesNumber:k,series:v,chart:u};q=1<q.length?"Combination":"";t=u.langFormat("accessibility.series.summary."+v.type+q,t)||u.langFormat("accessibility.series.summary.default"+q,t);p=(p("yAxis")?" "+l+".":"")+(p("xAxis")?" "+h+".":"");return Q(u.options.accessibility.series.descriptionFormat||"",{seriesDescription:t,authorDescription:n?" "+n:"",axisDescription:p,series:v,chart:u,seriesNumber:k},void 0)}var r=af.getPointAnnotationTexts,o=Y.getAxisDescription,j=Y.getSeriesFirstPointElement,s=Y.getSeriesA11yElement,J=Y.unhideChartElementFromAT,Q=T.format,S=T.numberFormat,M=G.reverseChildNodes,P=G.stripHTMLTagsFromString,O=R.find,i=R.isNumber,I=R.pick,V=R.defined;return{defaultPointDescriptionFormatter:ac,defaultSeriesDescriptionFormatter:aa,describeSeries:function(g){var l=g.chart,n=j(g),k=s(g),f=l.is3d&&l.is3d();if(k){k.lastChild!==n||f||M(k);ae(g);J(l,k);f=g.chart;l=f.options.chart;n=1<f.series.length;f=f.options.accessibility.series.describeSingleSeries;var h=(g.options.accessibility||{}).exposeAsGroupOnly;l.options3d&&l.options3d.enabled&&n||!(n||f||h||N(g))?k.removeAttribute("aria-label"):(l=g.chart.options.accessibility,n=l.landmarkVerbosity,(g.options.accessibility||{}).exposeAsGroupOnly?k.setAttribute("role","img"):"all"===n?k.setAttribute("role","region"):k.setAttribute("role","group"),k.setAttribute("tabindex","-1"),g.chart.styledMode||(k.style.outline="none"),k.setAttribute("aria-label",P(l.series.descriptionFormatter&&l.series.descriptionFormatter(g)||aa(g))))}}}});b(c,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[c["Core/Globals.js"],c["Core/Utilities.js"],c["Accessibility/Utils/Announcer.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/Utils/EventProvider.js"],c["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(x,o,f,y,d,j){function A(g){var e=g.series.data.filter(function(a){return g.x===a.x&&g.y===a.y});return 1===e.length?e[0]:g}function z(g,e){var h=(g||[]).concat(e||[]).reduce(function(l,k){l[k.name+k.index]=k;return l},{});return Object.keys(h).map(function(k){return h[k]})}var r=o.addEvent,i=o.defined,m=y.getChartTitle,u=j.defaultPointDescriptionFormatter,s=j.defaultSeriesDescriptionFormatter;o=function(){function a(e){this.announcer=void 0;this.dirty={allSeries:{}};this.eventProvider=void 0;this.lastAnnouncementTime=0;this.chart=e}a.prototype.init=function(){var e=this.chart,g=e.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0;this.dirty={allSeries:{}};this.eventProvider=new d;this.announcer=new f(e,g);this.addEventListeners()};a.prototype.destroy=function(){this.eventProvider.removeAddedEvents();this.announcer.destroy()};a.prototype.addEventListeners=function(){var e=this,g=this.chart,h=this.eventProvider;h.addEvent(g,"afterApplyDrilldown",function(){e.lastAnnouncementTime=0});h.addEvent(g,"afterAddSeries",function(k){e.onSeriesAdded(k.series)});h.addEvent(g,"redraw",function(){e.announceDirtyData()})};a.prototype.onSeriesAdded=function(e){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[e.name+e.index]=e,this.dirty.newSeries=i(this.dirty.newSeries)?void 0:e)};a.prototype.announceDirtyData=function(){var e=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){var g=this.dirty.newPoint;g&&(g=A(g));this.queueAnnouncement(Object.keys(this.dirty.allSeries).map(function(h){return e.dirty.allSeries[h]}),this.dirty.newSeries,g);this.dirty={allSeries:{}}}};a.prototype.queueAnnouncement=function(h,n,p){var g=this,l=this.chart.options.accessibility.announceNewData;if(l.enabled){var k=+new Date;l=Math.max(0,l.minAnnounceInterval-(k-this.lastAnnouncementTime));h=z(this.queuedAnnouncement&&this.queuedAnnouncement.series,h);if(n=this.buildAnnouncementMessage(h,n,p)){this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:k,message:n,series:h},this.queuedAnnouncementTimer=setTimeout(function(){g&&g.announcer&&(g.lastAnnouncementTime=+new Date,g.announcer.announce(g.queuedAnnouncement.message),delete g.queuedAnnouncement,delete g.queuedAnnouncementTimer)},l)}}};a.prototype.buildAnnouncementMessage=function(e,l,h){var k=this.chart,n=k.options.accessibility.announceNewData;if(n.announcementFormatter&&(e=n.announcementFormatter(e,l,h),!1!==e)){return e.length?e:null}e=x.charts&&1<x.charts.length?"Multiple":"Single";e=l?"newSeriesAnnounce"+e:h?"newPointAnnounce"+e:"newDataAnnounce";n=m(k);return k.langFormat("accessibility.announceNewData."+e,{chartTitle:n,seriesDesc:l?s(l):null,pointDesc:h?u(h):null,point:h,series:l})};return a}();(function(g){function e(l){var k=this.chart,n=this.newDataAnnouncer;n&&n.chart===k&&k.options.accessibility.announceNewData.enabled&&(n.dirty.newPoint=i(n.dirty.newPoint)?void 0:l.point)}function h(){var l=this.chart,k=this.newDataAnnouncer;k&&k.chart===l&&l.options.accessibility.announceNewData.enabled&&(k.dirty.hasDirty=!0,k.dirty.allSeries[this.name+this.index]=this)}g.composedClasses=[];g.compose=function(a){-1===g.composedClasses.indexOf(a)&&(g.composedClasses.push(a),r(a,"addPoint",e),r(a,"updatedData",h))}})(o||(o={}));return o});b(c,"Accessibility/ProxyElement.js",[c["Core/Globals.js"],c["Core/Utilities.js"],c["Accessibility/Utils/EventProvider.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/Utils/HTMLUtilities.js"]],function(z,r,i,A,f){var m=z.doc,C=r.attr,B=r.css,s=r.merge,j=A.fireEventOnWrappedOrUnwrappedElement,o=f.cloneMouseEvent,y=f.cloneTouchEvent,u=f.getFakeMouseEvent,x=f.removeElement;return function(){function d(h,g,n,p){this.chart=h;this.target=g;this.groupType=n;n="ul"===n;this.eventProvider=new i;var l=n?m.createElement("li"):null,k=this.buttonElement=m.createElement("button");h.styledMode||this.hideButtonVisually(k);l?(n&&!h.styledMode&&(l.style.listStyle="none"),l.appendChild(k),this.element=l):this.element=k;this.updateTarget(g,p)}d.prototype.click=function(){var e=this.getTargetPosition();e.x+=e.width/2;e.y+=e.height/2;e=u("click",e);j(this.target.click,e)};d.prototype.updateTarget=function(g,e){this.target=g;this.updateCSSClassName();var h=e||{};Object.keys(h).forEach(function(k){null===h[k]&&delete h[k]});C(this.buttonElement,s({"aria-label":this.getTargetAttr(g.click,"aria-label")},h));this.eventProvider.removeAddedEvents();this.addProxyEventsToButton(this.buttonElement,g.click);this.refreshPosition()};d.prototype.refreshPosition=function(){var e=this.getTargetPosition();B(this.buttonElement,{width:(e.width||1)+"px",height:(e.height||1)+"px",left:(Math.round(e.x)||0)+"px",top:(Math.round(e.y)||0)+"px"})};d.prototype.remove=function(){this.eventProvider.removeAddedEvents();x(this.element)};d.prototype.updateCSSClassName=function(){var g=this.chart.legend;g=g.group&&g.group.div;g=-1<(g&&g.className||"").indexOf("highcharts-no-tooltip");var e=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=g||e?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"};d.prototype.addProxyEventsToButton=function(g,e){var h=this;"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach(function(k){var a=0===k.indexOf("touch");h.eventProvider.addEvent(g,k,function(l){var n=a?y(l):o(l);e&&j(e,n);l.stopPropagation();a||l.preventDefault()},{passive:!1})})};d.prototype.hideButtonVisually=function(e){B(e,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:0.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})};d.prototype.getTargetPosition=function(){var g=this.target.click;g=g.element?g.element:g;g=this.target.visual||g;if(this.chart.renderTo&&g&&g.getBoundingClientRect){g=g.getBoundingClientRect();var e=this.chart.pointer.getChartPosition();return{x:(g.left-e.left)/e.scaleX,y:(g.top-e.top)/e.scaleY,width:g.right/e.scaleX-g.left/e.scaleX,height:g.bottom/e.scaleY-g.top/e.scaleY}}return{x:0,y:0,width:1,height:1}};d.prototype.getTargetAttr=function(g,e){return g.element?g.element.getAttribute(e):g.getAttribute(e)};return d}()});b(c,"Accessibility/ProxyProvider.js",[c["Core/Globals.js"],c["Core/Utilities.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/Utils/DOMElementProvider.js"],c["Accessibility/Utils/HTMLUtilities.js"],c["Accessibility/ProxyElement.js"]],function(s,m,e,u,d,i){var y=s.doc,x=m.attr,o=m.css,f=e.unhideChartElementFromAT,j=d.removeElement,r=d.removeChildNodes;return function(){function g(h){this.chart=h;this.domElementProvider=new u;this.groups={};this.groupOrder=[];this.beforeChartProxyPosContainer=this.createProxyPosContainer("before");this.afterChartProxyPosContainer=this.createProxyPosContainer("after");this.update()}g.prototype.addProxyElement=function(k,h,n){var l=this.groups[k];if(!l){throw Error("ProxyProvider.addProxyElement: Invalid group key "+k)}k=new i(this.chart,h,l.type,n);l.proxyContainerElement.appendChild(k.element);l.proxyElements.push(k);return k};g.prototype.addGroup=function(k,h,p){var n=this.groups[k];if(n){return n.groupElement}n=this.domElementProvider.createElement(h);if(p&&p.role&&"div"!==h){var l=this.domElementProvider.createElement("div");l.appendChild(n)}else{l=n}l.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+k.replace(/\W/g,"-");this.groups[k]={proxyContainerElement:n,groupElement:l,type:h,proxyElements:[]};x(l,p||{});"ul"===h&&n.setAttribute("role","list");this.afterChartProxyPosContainer.appendChild(l);this.updateGroupOrder(this.groupOrder);return l};g.prototype.updateGroupAttrs=function(k,h){var l=this.groups[k];if(!l){throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+k)}x(l.groupElement,h)};g.prototype.updateGroupOrder=function(k){var h=this;this.groupOrder=k.slice();if(!this.isDOMOrderGroupOrder()){var p=k.indexOf("series"),n=-1<p?k.slice(0,p):k,l=-1<p?k.slice(p+1):[];k=y.activeElement;["before","after"].forEach(function(q){var t=h["before"===q?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];q="before"===q?n:l;r(t);q.forEach(function(v){(v=h.groups[v])&&t.appendChild(v.groupElement)})});(this.beforeChartProxyPosContainer.contains(k)||this.afterChartProxyPosContainer.contains(k))&&k&&k.focus&&k.focus()}};g.prototype.clearGroup=function(k){var h=this.groups[k];if(!h){throw Error("ProxyProvider.clearGroup: Invalid group key "+k)}r(h.proxyContainerElement)};g.prototype.removeGroup=function(k){var h=this.groups[k];h&&(j(h.groupElement),delete this.groups[k])};g.prototype.update=function(){this.updatePosContainerPositions();this.updateGroupOrder(this.groupOrder);this.updateProxyElementPositions()};g.prototype.updateProxyElementPositions=function(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))};g.prototype.updateGroupProxyElementPositions=function(h){(h=this.groups[h])&&h.proxyElements.forEach(function(k){return k.refreshPosition()})};g.prototype.destroy=function(){this.domElementProvider.destroyCreatedElements()};g.prototype.createProxyPosContainer=function(k){var h=this.domElementProvider.createElement("div");h.setAttribute("aria-hidden","false");h.className="highcharts-a11y-proxy-container"+(k?"-"+k:"");o(h,{top:"0",left:"0"});this.chart.styledMode||(h.style.whiteSpace="nowrap",h.style.position="absolute");return h};g.prototype.getCurrentGroupOrderInDOM=function(){var k=this,h=function(a){var w=[];a=a.children;for(var z=0;z<a.length;++z){k:{var v=a[z];for(var t=Object.keys(k.groups),q=t.length;q--;){var n=t[q],p=k.groups[n];if(p&&v===p.groupElement){v=n;break k}}v=void 0}v&&w.push(v)}return w},l=h(this.beforeChartProxyPosContainer);h=h(this.afterChartProxyPosContainer);l.push("series");return l.concat(h)};g.prototype.isDOMOrderGroupOrder=function(){var k=this,h=this.getCurrentGroupOrderInDOM(),n=this.groupOrder.filter(function(a){return"series"===a||!!k.groups[a]}),l=h.length;if(l!==n.length){return !1}for(;l--;){if(h[l]!==n[l]){return !1}}return !0};g.prototype.updatePosContainerPositions=function(){var k=this.chart;if(!k.renderer.forExport){var h=k.renderer.box;k.container.insertBefore(this.afterChartProxyPosContainer,h.nextSibling);k.container.insertBefore(this.beforeChartProxyPosContainer,h);f(this.chart,this.afterChartProxyPosContainer);f(this.chart,this.beforeChartProxyPosContainer)}};return g}()});b(c,"Extensions/RangeSelector.js",[c["Core/Axis/Axis.js"],c["Core/Chart/Chart.js"],c["Core/Globals.js"],c["Core/DefaultOptions.js"],c["Core/Renderer/SVG/SVGElement.js"],c["Core/Utilities.js"]],function(ab,U,Q,s,O,S){function I(f){if(-1!==f.indexOf("%L")){return"text"}var e="aAdewbBmoyY".split("").some(function(a){return -1!==f.indexOf("%"+a)}),g="HkIlMS".split("").some(function(a){return -1!==f.indexOf("%"+a)});return e&&g?"datetime-local":e?"date":g?"time":"text"}var u=s.defaultOptions,V=S.addEvent,R=S.createElement,T=S.css,Z=S.defined,X=S.destroyObjectProperties,Y=S.discardElement,aa=S.extend,W=S.find,o=S.fireEvent,j=S.isNumber,r=S.merge,m=S.objectEach,G=S.pad,N=S.pick,P=S.pInt,H=S.splat;aa(u,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}});aa(u.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"});var M=function(){function a(d){this.buttons=void 0;this.buttonOptions=a.prototype.defaultButtons;this.initialButtonGroupWidth=0;this.options=void 0;this.chart=d;this.init(d)}a.prototype.clickButton=function(ad,ac){var L=this.chart,C=this.buttonOptions[ad],J=L.xAxis[0],g=L.scroller&&L.scroller.getUnionExtremes()||J||{},E=g.dataMin,F=g.dataMax,B=J&&Math.round(Math.min(J.max,N(F,J.max))),ag=C.type;g=C._range;var D,y=C.dataGrouping;var x=!0;if(null!==E&&null!==F){L.fixedRange=g;this.setSelected(ad);y&&(this.forcedDataGrouping=!0,ab.prototype.setDataGrouping.call(J||{chart:this.chart},y,!1),this.frozenStates=C.preserveDataGrouping);if("month"===ag||"year"===ag){if(J){x={range:C,max:B,chart:L,dataMin:E,dataMax:F};var z=J.minFromRange.call(x);j(x.newMax)&&(B=x.newMax);x=!1}else{g=C}}else{if(g){z=Math.max(B-g,E),B=Math.min(z+g,F),x=!1}else{if("ytd"===ag){if(J){if("undefined"===typeof F||"undefined"===typeof E){E=Number.MAX_VALUE,F=Number.MIN_VALUE,L.series.forEach(function(d){if(d=d.xData){E=Math.min(d[0],E),F=Math.max(d[d.length-1],F)}}),ac=!1}B=this.getYTDExtremes(F,E,L.time.useUTC);z=D=B.min;B=B.max}else{this.deferredYTDClick=ad;return}}else{"all"===ag&&J&&(L.navigator&&L.navigator.baseSeries[0]&&(L.navigator.baseSeries[0].xAxis.options.range=void 0),z=E,B=F)}}}x&&C._offsetMin&&Z(z)&&(z+=C._offsetMin);C._offsetMax&&Z(B)&&(B+=C._offsetMax);this.dropdown&&(this.dropdown.selectedIndex=ad+1);if(J){J.setExtremes(z,B,N(ac,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:C})}else{var ah=H(L.options.xAxis)[0];var ae=ah.range;ah.range=g;var af=ah.min;ah.min=D;V(L,"load",function(){ah.range=ae;ah.min=af})}o(this,"afterBtnClick")}};a.prototype.setSelected=function(d){this.selected=this.options.selected=d};a.prototype.init=function(h){var g=this,l=h.options.rangeSelector,n=l.buttons||g.defaultButtons.slice(),k=l.selected,f=function(){var e=g.minInput,p=g.maxInput;e&&e.blur&&o(e,"blur");p&&p.blur&&o(p,"blur")};g.chart=h;g.options=l;g.buttons=[];g.buttonOptions=n;this.eventsToUnbind=[];this.eventsToUnbind.push(V(h.container,"mousedown",f));this.eventsToUnbind.push(V(h,"resize",f));n.forEach(g.computeButtonRange);"undefined"!==typeof k&&n[k]&&this.clickButton(k,!1);this.eventsToUnbind.push(V(h,"load",function(){h.xAxis&&h.xAxis[0]&&V(h.xAxis[0],"setExtremes",function(e){this.max-this.min!==h.fixedRange&&"rangeSelectorButton"!==e.trigger&&"updatedData"!==e.trigger&&g.forcedDataGrouping&&!g.frozenStates&&this.setDataGrouping(!1,!1)})}))};a.prototype.updateButtonStates=function(){var ac=this,L=this.chart,E=this.dropdown,F=L.xAxis[0],D=Math.round(F.max-F.min),C=!F.hasVisibleSeries,B=L.scroller&&L.scroller.getUnionExtremes()||F,z=B.dataMin,A=B.dataMax;L=ac.getYTDExtremes(A,z,L.time.useUTC);var w=L.min,ad=L.max,J=ac.selected,x=j(J),v=ac.options.allButtonsEnabled,t=ac.buttons;ac.buttonOptions.forEach(function(p,f){var d=p._range,h=p.type,q=p.count||1,l=t[f],y=0,n=p._offsetMax-p._offsetMin;p=f===J;var k=d>A-z,e=d<F.minRange,af=!1,ae=!1;d=d===D;("month"===h||"year"===h)&&D+3600000>=86400000*{month:28,year:365}[h]*q-n&&D-3600000<=86400000*{month:31,year:366}[h]*q+n?d=!0:"ytd"===h?(d=ad-w+n===D,af=!p):"all"===h&&(d=F.max-F.min>=A-z,ae=!p&&x&&d);h=!v&&(k||e||ae||C);q=p&&d||d&&!x&&!af||p&&ac.frozenStates;h?y=3:q&&(x=!0,y=2);l.state!==y&&(l.setState(y),E&&(E.options[f+1].disabled=h,2===y&&(E.selectedIndex=f+1)),0===y&&J===f&&ac.setSelected())})};a.prototype.computeButtonRange=function(f){var e=f.type,g=f.count||1,h={millisecond:1,second:1000,minute:60000,hour:3600000,day:86400000,week:604800000};if(h[e]){f._range=h[e]*g}else{if("month"===e||"year"===e){f._range=86400000*{month:30,year:365}[e]*g}}f._offsetMin=N(f.offsetMin,0);f._offsetMax=N(f.offsetMax,0);f._range+=f._offsetMax-f._offsetMin};a.prototype.getInputValue=function(f){f="min"===f?this.minInput:this.maxInput;var e=this.chart.options.rangeSelector,g=this.chart.time;return f?("text"===f.type&&e.inputDateParser||this.defaultInputDateParser)(f.value,g.useUTC,g):0};a.prototype.setInputValue=function(k,h){var p=this.options,n=this.chart.time,l="min"===k?this.minInput:this.maxInput;k="min"===k?this.minDateBox:this.maxDateBox;if(l){var g=l.getAttribute("data-hc-time");g=Z(g)?Number(g):void 0;Z(h)&&(Z(g)&&l.setAttribute("data-hc-time-previous",g),l.setAttribute("data-hc-time",h),g=h);l.value=n.dateFormat(this.inputTypeFormats[l.type]||p.inputEditDateFormat,g);k&&k.attr({text:n.dateFormat(p.inputDateFormat,g)})}};a.prototype.setInputExtremes=function(g,f,k){if(g="min"===g?this.minInput:this.maxInput){var l=this.inputTypeFormats[g.type],h=this.chart.time;l&&(f=h.dateFormat(l,f),g.min!==f&&(g.min=f),k=h.dateFormat(l,k),g.max!==k&&(g.max=k))}};a.prototype.showInput=function(h){var g="min"===h?this.minDateBox:this.maxDateBox;if((h="min"===h?this.minInput:this.maxInput)&&g&&this.inputGroup){var n="text"===h.type,p=this.inputGroup,l=p.translateX;p=p.translateY;var k=this.options.inputBoxWidth;T(h,{width:n?g.width+(k?-2:20)+"px":"auto",height:n?g.height-2+"px":"auto",border:"2px solid silver"});n&&k?T(h,{left:l+g.x+"px",top:p+"px"}):T(h,{left:Math.min(Math.round(g.x+l-(h.offsetWidth-g.width)/2),this.chart.chartWidth-h.offsetWidth)+"px",top:p-(h.offsetHeight-g.height)/2+"px"})}};a.prototype.hideInput=function(d){(d="min"===d?this.minInput:this.maxInput)&&T(d,{top:"-9999em",border:0,width:"1px",height:"1px"})};a.prototype.defaultInputDateParser=function(g,f,k){var l=g.split("/").join("-").split(" ").join("T");-1===l.indexOf("T")&&(l+="T00:00");if(f){l+="Z"}else{var h;if(h=Q.isSafari){h=l,h=!(6<h.length&&(h.lastIndexOf("-")===h.length-6||h.lastIndexOf("+")===h.length-6))}h&&(h=(new Date(l)).getTimezoneOffset()/60,l+=0>=h?"+".concat(G(-h),":00"):"-".concat(G(h),":00"))}l=Date.parse(l);j(l)||(g=g.split("-"),l=Date.UTC(P(g[0]),P(g[1])-1,P(g[2])));k&&f&&j(l)&&(l+=k.getTimezoneOffset(l));return l};a.prototype.drawInput=function(E){function B(){var h=p.getInputValue(E),J=C.xAxis[0],A=C.scroller&&C.scroller.xAxis?C.scroller.xAxis:J,y=A.dataMin;A=A.dataMax;var q=p.maxInput,l=p.minInput;h!==Number(k.getAttribute("data-hc-time-previous"))&&j(h)&&(k.setAttribute("data-hc-time-previous",h),D&&q&&j(y)?h>Number(q.getAttribute("data-hc-time"))?h=void 0:h<y&&(h=y):l&&j(A)&&(h<Number(l.getAttribute("data-hc-time"))?h=void 0:h>A&&(h=A)),"undefined"!==typeof h&&J.setExtremes(D?h:J.min,D?J.max:h,void 0,void 0,{trigger:"rangeSelectorInput"}))}var C=this.chart,z=this.div,x=this.inputGroup,p=this,w=C.renderer.style||{},v=C.renderer,F=C.options.rangeSelector,D="min"===E,t=u.lang[D?"rangeSelectorFrom":"rangeSelectorTo"]||"";t=v.label(t,0).addClass("highcharts-range-label").attr({padding:t?2:0,height:t?F.inputBoxHeight:0}).add(x);v=v.label("",0).addClass("highcharts-range-input").attr({padding:2,width:F.inputBoxWidth,height:F.inputBoxHeight,"text-align":"center"}).on("click",function(){p.showInput(E);p[E+"Input"].focus()});C.styledMode||v.attr({stroke:F.inputBoxBorderColor,"stroke-width":1});v.add(x);var k=R("input",{name:E,className:"highcharts-range-selector"},void 0,z);k.setAttribute("type",I(F.inputDateFormat||"%b %e, %Y"));C.styledMode||(t.css(r(w,F.labelStyle)),v.css(r({color:"#333333"},w,F.inputStyle)),T(k,aa({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:w.fontSize,fontFamily:w.fontFamily,top:"-9999em"},F.inputStyle)));k.onfocus=function(){p.showInput(E)};k.onblur=function(){k===Q.doc.activeElement&&B();p.hideInput(E);p.setInputValue(E);k.blur()};var n=!1;k.onchange=function(){n||(B(),p.hideInput(E),k.blur())};k.onkeypress=function(d){13===d.keyCode&&B()};k.onkeydown=function(d){n=!0;38!==d.keyCode&&40!==d.keyCode||B()};k.onkeyup=function(){n=!1};return{dateBox:v,input:k,label:t}};a.prototype.getPosition=function(){var e=this.chart,d=e.options.rangeSelector;e="top"===d.verticalAlign?e.plotTop-e.axisOffset[0]:0;return{buttonTop:e+d.buttonPosition.y,inputTop:e+d.inputPosition.y-10}};a.prototype.getYTDExtremes=function(h,g,n){var p=this.chart.time,l=new p.Date(h),k=p.get("FullYear",l);n=n?p.Date.UTC(k,0,1):+new p.Date(k,0,1);g=Math.max(g,n);l=l.getTime();return{max:Math.min(h||l,l),min:g}};a.prototype.render=function(x,w){var v=this.chart,t=v.renderer,q=v.container,l=v.options,h=l.rangeSelector,p=N(l.chart.style&&l.chart.style.zIndex,0)+1;l=h.inputEnabled;if(!1!==h.enabled){this.rendered||(this.group=t.g("range-selector-group").attr({zIndex:7}).add(),this.div=R("div",void 0,{position:"relative",height:0,zIndex:p}),this.buttonOptions.length&&this.renderButtons(),q.parentNode&&q.parentNode.insertBefore(this.div,q),l&&(this.inputGroup=t.g("input-group").add(this.group),t=this.drawInput("min"),this.minDateBox=t.dateBox,this.minLabel=t.label,this.minInput=t.input,t=this.drawInput("max"),this.maxDateBox=t.dateBox,this.maxLabel=t.label,this.maxInput=t.input));if(l&&(this.setInputValue("min",x),this.setInputValue("max",w),x=v.scroller&&v.scroller.getUnionExtremes()||v.xAxis[0]||{},Z(x.dataMin)&&Z(x.dataMax)&&(v=v.xAxis[0].minRange||0,this.setInputExtremes("min",x.dataMin,Math.min(x.dataMax,this.getInputValue("max"))-v),this.setInputExtremes("max",Math.max(x.dataMin,this.getInputValue("min"))+v,x.dataMax)),this.inputGroup)){var n=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(e){if(e){var d=e.getBBox().width;d&&(e.attr({x:n}),n+=d+h.inputSpacing)}})}this.alignElements();this.rendered=!0}};a.prototype.renderButtons=function(){var w=this,v=this.buttons,q=this.options,t=u.lang,p=this.chart.renderer,n=r(q.buttonTheme),g=n&&n.states,l=n.width||28;delete n.width;delete n.states;this.buttonGroup=p.g("range-selector-buttons").add(this.group);var x=this.dropdown=R("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:0.0001},this.div);V(x,"touchstart",function(){x.style.fontSize="16px"});[[Q.isMS?"mouseover":"mouseenter"],[Q.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(h){var k=h[0],f=h[1];V(x,k,function(){var e=v[w.currentButtonIndex()];e&&o(e.element,f||k)})});this.zoomText=p.label(t&&t.rangeSelectorZoom||"",0).attr({padding:q.buttonTheme.padding,height:q.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup);this.chart.styledMode||(this.zoomText.css(q.labelStyle),n["stroke-width"]=N(n["stroke-width"],0));R("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,x);this.buttonOptions.forEach(function(e,f){R("option",{textContent:e.title||e.text},void 0,x);v[f]=p.button(e.text,0,0,function(d){var k=e.events&&e.events.click,h;k&&(h=k.call(e,d));!1!==h&&w.clickButton(f);w.isActive=!0},n,g&&g.hover,g&&g.select,g&&g.disabled).attr({"text-align":"center",width:l}).add(w.buttonGroup);e.title&&v[f].attr("title",e.title)})};a.prototype.alignElements=function(){var ae=this,ad=this.buttonGroup,J=this.buttons,L=this.chart,F=this.group,E=this.inputGroup,D=this.options,B=this.zoomText,C=L.options,af=C.exporting&&!1!==C.exporting.enabled&&C.navigation&&C.navigation.buttonOptions;C=D.buttonPosition;var x=D.inputPosition,ac=D.verticalAlign,z=function(e,f){return af&&ae.titleCollision(L)&&"top"===ac&&"right"===f.align&&f.y-e.getBBox().height-12<(af.y||0)+(af.height||0)+L.spacing[0]?-40:0},t=L.plotLeft;if(F&&C&&x){var v=C.x-L.spacing[3];if(ad){this.positionButtons();if(!this.initialButtonGroupWidth){var w=0;B&&(w+=B.getBBox().width+5);J.forEach(function(e,d){w+=e.width;d!==J.length-1&&(w+=D.buttonSpacing)});this.initialButtonGroupWidth=w}t-=L.spacing[3];this.updateButtonStates();B=z(ad,C);this.alignButtonGroup(B);F.placed=ad.placed=L.hasLoaded}ad=0;E&&(ad=z(E,x),"left"===x.align?v=t:"right"===x.align&&(v=-Math.max(L.axisOffset[1],-ad)),E.align({y:x.y,width:E.getBBox().width,align:x.align,x:x.x+v-2},!0,L.spacingBox),E.placed=L.hasLoaded);this.handleCollision(ad);F.align({verticalAlign:ac},!0,L.spacingBox);E=F.alignAttr.translateY;ad=F.getBBox().height+20;z=0;"bottom"===ac&&(z=(z=L.legend&&L.legend.options)&&"bottom"===z.verticalAlign&&z.enabled&&!z.floating?L.legend.legendHeight+N(z.margin,10):0,ad=ad+z-20,z=E-ad-(D.floating?0:D.y)-(L.titleOffset?L.titleOffset[2]:0)-10);if("top"===ac){D.floating&&(z=0),L.titleOffset&&L.titleOffset[0]&&(z=L.titleOffset[0]),z+=L.margin[0]-L.spacing[0]||0}else{if("middle"===ac){if(x.y===C.y){z=E}else{if(x.y||C.y){z=0>x.y||0>C.y?z-Math.min(x.y,C.y):E-ad}}}}F.translate(D.x,D.y+Math.floor(z));C=this.minInput;x=this.maxInput;E=this.dropdown;D.inputEnabled&&C&&x&&(C.style.marginTop=F.translateY+"px",x.style.marginTop=F.translateY+"px");E&&(E.style.marginTop=F.translateY+"px")}};a.prototype.alignButtonGroup=function(k,h){var q=this.chart,t=this.buttonGroup,p=this.options.buttonPosition,n=q.plotLeft-q.spacing[3],l=p.x-q.spacing[3];"right"===p.align?l+=k-n:"center"===p.align&&(l-=n/2);t&&t.align({y:p.y,width:N(h,this.initialButtonGroupWidth),align:p.align,x:l},!0,q.spacingBox)};a.prototype.positionButtons=function(){var l=this.buttons,h=this.chart,v=this.options,w=this.zoomText,t=h.hasLoaded?"animate":"attr",q=v.buttonPosition,p=h.plotLeft,n=p;w&&"hidden"!==w.visibility&&(w[t]({x:N(p+q.x,p)}),n+=q.x+w.getBBox().width+5);this.buttonOptions.forEach(function(d,e){if("hidden"!==l[e].visibility){l[e][t]({x:n}),n+=l[e].width+v.buttonSpacing}else{l[e][t]({x:p})}})};a.prototype.handleCollision=function(B){var A=this,y=this.chart,z=this.buttonGroup,x=this.inputGroup,w=this.options,v=w.buttonPosition,p=w.dropdown,q=w.inputPosition;w=function(){var d=0;A.buttons.forEach(function(e){e=e.getBBox();e.width>d&&(d=e.width)});return d};var t=function(g){if(x&&z){var k=x.alignAttr.translateX+x.alignOptions.x-B+x.getBBox().x+2,h=x.alignOptions.width,e=z.alignAttr.translateX+z.getBBox().x;return e+g>k&&k+h>e&&v.y<q.y+x.getBBox().height}return !1},l=function(){x&&z&&x.attr({translateX:x.alignAttr.translateX+(y.axisOffset[1]>=-B?0:-B),translateY:x.alignAttr.translateY+z.getBBox().height+10})};if(z){if("always"===p){this.collapseButtons(B);t(w())&&l();return}"never"===p&&this.expandButtons()}x&&z?q.align===v.align||t(this.initialButtonGroupWidth+20)?"responsive"===p?(this.collapseButtons(B),t(w())&&l()):l():"responsive"===p&&this.expandButtons():z&&"responsive"===p&&(this.initialButtonGroupWidth>y.plotWidth?this.collapseButtons(B):this.expandButtons())};a.prototype.collapseButtons=function(z){var y=this.buttons,w=this.buttonOptions,x=this.chart,v=this.dropdown,t=this.options,q=this.zoomText,l=x.userOptions.rangeSelector&&x.userOptions.rangeSelector.buttonTheme||{},n=function(d){return{text:d?""+d+" \u25be":"\u25be",width:"auto",paddingLeft:N(t.buttonTheme.paddingLeft,l.padding,8),paddingRight:N(t.buttonTheme.paddingRight,l.padding,8)}};q&&q.hide();var p=!1;w.forEach(function(e,f){f=y[f];2!==f.state?f.hide():(f.show(),f.attr(n(e.text)),p=!0)});p||(v&&(v.selectedIndex=0),y[0].show(),y[0].attr(n(this.zoomText&&this.zoomText.textStr)));w=t.buttonPosition.align;this.positionButtons();"right"!==w&&"center"!==w||this.alignButtonGroup(z,y[this.currentButtonIndex()].getBBox().width);this.showDropdown()};a.prototype.expandButtons=function(){var f=this.buttons,e=this.buttonOptions,g=this.options,h=this.zoomText;this.hideDropdown();h&&h.show();e.forEach(function(d,k){k=f[k];k.show();k.attr({text:d.text,width:g.buttonTheme.width||28,paddingLeft:N(g.buttonTheme.paddingLeft,"unset"),paddingRight:N(g.buttonTheme.paddingRight,"unset")});2>k.state&&k.setState(0)});this.positionButtons()};a.prototype.currentButtonIndex=function(){var d=this.dropdown;return d&&0<d.selectedIndex?d.selectedIndex-1:0};a.prototype.showDropdown=function(){var g=this.buttonGroup,f=this.buttons,k=this.chart,l=this.dropdown;if(g&&l){var h=g.translateX;g=g.translateY;f=f[this.currentButtonIndex()].getBBox();T(l,{left:k.plotLeft+h+"px",top:g+0.5+"px",width:f.width+"px",height:f.height+"px"});this.hasVisibleDropdown=!0}};a.prototype.hideDropdown=function(){var d=this.dropdown;d&&(T(d,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)};a.prototype.getHeight=function(){var g=this.options,f=this.group,k=g.y,l=g.buttonPosition.y,h=g.inputPosition.y;if(g.height){return g.height}this.alignElements();g=f?f.getBBox(!0).height+13+k:0;f=Math.min(h,l);if(0>h&&0>l||0<h&&0<l){g+=Math.abs(f)}return g};a.prototype.titleCollision=function(d){return !(d.options.title.text||d.options.subtitle.text)};a.prototype.update=function(e){var d=this.chart;r(!0,d.options.rangeSelector,e);this.destroy();this.init(d);this.render()};a.prototype.destroy=function(){var e=this,d=e.minInput,f=e.maxInput;e.eventsToUnbind&&(e.eventsToUnbind.forEach(function(g){return g()}),e.eventsToUnbind=void 0);X(e.buttons);d&&(d.onfocus=d.onblur=d.onchange=null);f&&(f.onfocus=f.onblur=f.onchange=null);m(e,function(g,h){g&&"chart"!==h&&(g instanceof O?g.destroy():g instanceof window.HTMLElement&&Y(g));g!==a.prototype[h]&&(e[h]=null)},this)};return a}();M.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}];M.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"};ab.prototype.minFromRange=function(){var l=this.range,h=l.type,v=this.max,w=this.chart.time,t=function(k,A){var z="year"===h?"FullYear":"Month",y=new w.Date(k),x=w.get(z,y);w.set(z,y,x+A);x===w.get(z,y)&&w.set("Date",y,0);return y.getTime()-k};if(j(l)){var q=v-l;var p=l}else{l&&(q=v+t(v,-(l.count||1)),this.chart&&(this.chart.fixedRange=v-q))}var n=N(this.dataMin,Number.MIN_VALUE);j(q)||(q=n);q<=n&&(q=n,"undefined"===typeof p&&(p=t(q,l.count)),this.newMax=Math.min(q+p,N(this.dataMax,Number.MAX_VALUE)));j(v)?!j(l)&&l&&l._offsetMin&&(q+=l._offsetMin):q=void 0;return q};if(!Q.RangeSelector){var K=[],i=function(g){function f(){t&&(q=g.xAxis[0].getExtremes(),p=g.legend,n=t&&t.options.verticalAlign,j(q.min)&&t.render(q.min,q.max),p.display&&"top"===n&&n===p.options.verticalAlign&&(l=r(g.spacingBox),l.y="vertical"===p.options.layout?g.plotTop:l.y+t.getHeight(),p.group.placed=!1,p.align(l)))}var q,t=g.rangeSelector,p,l,n;t&&(W(K,function(a){return a[0]===g})||K.push([g,[V(g.xAxis[0],"afterSetExtremes",function(d){t&&t.render(d.min,d.max)}),V(g,"redraw",f)]]),f())};V(U,"afterGetContainer",function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new M(this))});V(U,"beforeRender",function(){var e=this.axes,d=this.rangeSelector;d&&(j(d.deferredYTDClick)&&(d.clickButton(d.deferredYTDClick),delete d.deferredYTDClick),e.forEach(function(f){f.updateNames();f.setScale()}),this.getAxisMargins(),d.render(),e=d.options.verticalAlign,d.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)))});V(U,"update",function(g){var f=g.options.rangeSelector;g=this.rangeSelector;var k=this.extraBottomMargin,h=this.extraTopMargin;f&&f.enabled&&!Z(g)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=g=new M(this));this.extraTopMargin=this.extraBottomMargin=!1;g&&(i(this),f=f&&f.verticalAlign||g.options&&g.options.verticalAlign,g.options.floating||("bottom"===f?this.extraBottomMargin=!0:"middle"!==f&&(this.extraTopMargin=!0)),this.extraBottomMargin!==k||this.extraTopMargin!==h)&&(this.isDirtyBox=!0)});V(U,"render",function(){var d=this.rangeSelector;d&&!d.options.floating&&(d.render(),d=d.options.verticalAlign,"bottom"===d?this.extraBottomMargin=!0:"middle"!==d&&(this.extraTopMargin=!0))});V(U,"getMargins",function(){var d=this.rangeSelector;d&&(d=d.getHeight(),this.extraTopMargin&&(this.plotTop+=d),this.extraBottomMargin&&(this.marginBottom+=d))});U.prototype.callbacks.push(i);V(U,"destroy",function(){for(var e=0;e<K.length;e++){var d=K[e];if(d[0]===this){d[1].forEach(function(f){return f()});K.splice(e,1);break}}});Q.RangeSelector=M}return M});b(c,"Accessibility/Components/RangeSelectorComponent.js",[c["Extensions/RangeSelector.js"],c["Accessibility/AccessibilityComponent.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/Utils/Announcer.js"],c["Accessibility/KeyboardNavigationHandler.js"],c["Core/Utilities.js"]],function(r,m,e,s,d,i){var x=this&&this.__extends||function(){var g=function(h,a){g=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(k,l){k.__proto__=l}||function(l,n){for(var k in n){n.hasOwnProperty(k)&&(l[k]=n[k])}};return g(h,a)};return function(k,h){function a(){this.constructor=k}g(k,h);k.prototype=null===h?Object.create(h):(a.prototype=h.prototype,new a)}}(),u=e.unhideChartElementFromAT,o=e.getAxisRangeDescription,f=i.addEvent,j=i.attr;m=function(g){function h(){var a=null!==g&&g.apply(this,arguments)||this;a.announcer=void 0;return a}x(h,g);h.prototype.init=function(){this.announcer=new s(this.chart,"polite")};h.prototype.onChartUpdate=function(){var l=this.chart,k=this,n=l.rangeSelector;n&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),n.buttons&&n.buttons.length&&n.buttons.forEach(function(p){k.setRangeButtonAttrs(p)}),n.maxInput&&n.minInput&&["minInput","maxInput"].forEach(function(p,a){if(p=n[p]){u(l,p),k.setRangeInputAttrs(p,"accessibility.rangeSelector."+(a?"max":"min")+"InputLabel")}}))};h.prototype.updateSelectorVisibility=function(){var l=this.chart,k=l.rangeSelector,p=k&&k.dropdown,n=k&&k.buttons||[];k&&k.hasVisibleDropdown&&p?(u(l,p),n.forEach(function(q){return q.element.setAttribute("aria-hidden",!0)})):(p&&p.setAttribute("aria-hidden",!0),n.forEach(function(a){return u(l,a.element)}))};h.prototype.setDropdownAttrs=function(){var l=this.chart,k=l.rangeSelector&&l.rangeSelector.dropdown;k&&(l=l.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:l.options.lang.rangeSelectorZoom}),k.setAttribute("aria-label",l),k.setAttribute("tabindex",-1))};h.prototype.setRangeButtonAttrs=function(k){j(k.element,{tabindex:-1,role:"button"})};h.prototype.setRangeInputAttrs=function(l,k){var n=this.chart;j(l,{tabindex:-1,"aria-label":n.langFormat(k,{chart:n})})};h.prototype.onButtonNavKbdArrowKey=function(l,k){var t=l.response,q=this.keyCodes,p=this.chart,n=p.options.accessibility.keyboardNavigation.wrapAround;k=k===q.left||k===q.up?-1:1;return p.highlightRangeSelectorButton(p.highlightedRangeSelectorItemIx+k)?t.success:n?(l.init(k),t.success):t[0<k?"next":"prev"]};h.prototype.onButtonNavKbdClick=function(l){l=l.response;var k=this.chart;3!==k.oldRangeSelectorItemState&&this.fakeClickEvent(k.rangeSelector.buttons[k.highlightedRangeSelectorItemIx].element);return l.success};h.prototype.onAfterBtnClick=function(){var l=this.chart,k=o(l.xAxis[0]);(l=l.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:l,axisRangeDescription:k}))&&this.announcer.announce(l)};h.prototype.onInputKbdMove=function(l){var k=this.chart,p=k.rangeSelector,n=k.highlightedInputRangeIx=(k.highlightedInputRangeIx||0)+l;1<n||0>n?k.accessibility&&(k.accessibility.keyboardNavigation.tabindexContainer.focus(),k.accessibility.keyboardNavigation.move(l)):p&&(l=p[n?"maxDateBox":"minDateBox"],p=p[n?"maxInput":"minInput"],l&&p&&k.setFocusToElement(l,p))};h.prototype.onInputNavInit=function(A){var z=this,y=this,w=this.chart,v=0<A?0:1,t=w.rangeSelector,p=t&&t[v?"maxDateBox":"minDateBox"];A=t&&t.minInput;t=t&&t.maxInput;w.highlightedInputRangeIx=v;if(p&&A&&t){w.setFocusToElement(p,v?t:A);this.removeInputKeydownHandler&&this.removeInputKeydownHandler();w=function(k){(k.which||k.keyCode)===z.keyCodes.tab&&(k.preventDefault(),k.stopPropagation(),y.onInputKbdMove(k.shiftKey?-1:1))};var q=f(A,"keydown",w),n=f(t,"keydown",w);this.removeInputKeydownHandler=function(){q();n()}}};h.prototype.onInputNavTerminate=function(){var k=this.chart.rangeSelector||{};k.maxInput&&k.hideInput("max");k.minInput&&k.hideInput("min");this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)};h.prototype.initDropdownNav=function(){var l=this,k=this.chart,p=k.rangeSelector,n=p&&p.dropdown;p&&n&&(k.setFocusToElement(p.buttonGroup,n),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=f(n,"keydown",function(q){var a=k.accessibility;(q.which||q.keyCode)===l.keyCodes.tab&&(q.preventDefault(),q.stopPropagation(),a&&(a.keyboardNavigation.tabindexContainer.focus(),a.keyboardNavigation.move(q.shiftKey?-1:1)))}))};h.prototype.getRangeSelectorButtonNavigation=function(){var l=this.chart,k=this.keyCodes,n=this;return new d(l,{keyCodeMap:[[[k.left,k.right,k.up,k.down],function(p){return n.onButtonNavKbdArrowKey(this,p)}],[[k.enter,k.space],function(){return n.onButtonNavKbdClick(this)}]],validate:function(){return !!(l.rangeSelector&&l.rangeSelector.buttons&&l.rangeSelector.buttons.length)},init:function(a){var p=l.rangeSelector;p&&p.hasVisibleDropdown?n.initDropdownNav():p&&(p=p.buttons.length-1,l.highlightRangeSelectorButton(0<a?0:p))},terminate:function(){n.removeDropdownKeydownHandler&&(n.removeDropdownKeydownHandler(),delete n.removeDropdownKeydownHandler)}})};h.prototype.getRangeSelectorInputNavigation=function(){var l=this.chart,k=this;return new d(l,{keyCodeMap:[],validate:function(){return !!(l.rangeSelector&&l.rangeSelector.inputGroup&&"hidden"!==l.rangeSelector.inputGroup.element.style.visibility&&!1!==l.options.rangeSelector.inputEnabled&&l.rangeSelector.minInput&&l.rangeSelector.maxInput)},init:function(n){k.onInputNavInit(n)},terminate:function(){k.onInputNavTerminate()}})};h.prototype.getKeyboardNavigation=function(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]};h.prototype.destroy=function(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler();this.removeInputKeydownHandler&&this.removeInputKeydownHandler();this.announcer&&this.announcer.destroy()};return h}(m);(function(k){function g(n){var l=this.rangeSelector&&this.rangeSelector.buttons||[],q=this.highlightedRangeSelectorItemIx,p=this.rangeSelector&&this.rangeSelector.selected;"undefined"!==typeof q&&l[q]&&q!==p&&l[q].setState(this.oldRangeSelectorItemState||0);this.highlightedRangeSelectorItemIx=n;return l[n]?(this.setFocusToElement(l[n].box,l[n].element),n!==p&&(this.oldRangeSelectorItemState=l[n].state,l[n].setState(1)),!0):!1}function h(){var l=this.chart.accessibility;if(l&&l.components.rangeSelector){return l.components.rangeSelector.onAfterBtnClick()}}var a=[];k.compose=function(n,l){-1===a.indexOf(n)&&(a.push(n),n.prototype.highlightRangeSelectorButton=g);-1===a.indexOf(l)&&(a.push(l),f(r,"afterBtnClick",h))}})(m||(m={}));return m});b(c,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[c["Core/Utilities.js"]],function(d){var f=d.addEvent,g=d.merge,e;(function(i){function h(k){g(!0,k,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function p(k){return k.marker.states&&k.marker.states.normal&&k.marker.states.normal.opacity}function m(){if(this.chart.styledMode){if(this.markerGroup){this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden")}this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach(function(k){k.graphic&&(k.graphic[k.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),k.graphic[!1===k.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))})}}function o(k){this.resetA11yMarkerOptions=g(k.options.marker||{},this.userOptions.marker||{})}function r(){var l=this.options,n=!1!==(this.options.accessibility&&this.options.accessibility.enabled);if(n=this.chart.options.accessibility.enabled&&n){n=this.chart.options.accessibility,n=this.points.length<n.series.pointDescriptionEnabledThreshold||!1===n.series.pointDescriptionEnabledThreshold}if(n){if(l.marker&&!1===l.marker.enabled&&(this.a11yMarkersForced=!0,h(this.options)),this._hasPointMarkers&&this.points&&this.points.length){for(l=this.points.length;l--;){n=this.points[l];var q=n.options,k=n.hasForcedA11yMarker;delete n.hasForcedA11yMarker;q.marker&&(k=k&&0===p(q),q.marker.enabled&&!k?(g(!0,q.marker,{states:{normal:{opacity:p(q)||1}}}),n.hasForcedA11yMarker=!1):!1===q.marker.enabled&&(h(q),n.hasForcedA11yMarker=!0))}}}else{this.a11yMarkersForced&&(delete this.a11yMarkersForced,(l=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:l.enabled,states:{normal:{opacity:l.states&&l.states.normal&&l.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}}var j=[];i.compose=function(k){-1===j.indexOf(k)&&(j.push(k),f(k,"afterSetOptions",o),f(k,"render",r),f(k,"afterRender",m))}})(e||(e={}));return e});b(c,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[c["Core/Series/Point.js"],c["Core/Series/Series.js"],c["Core/Series/SeriesRegistry.js"],c["Core/Globals.js"],c["Core/Utilities.js"],c["Accessibility/KeyboardNavigationHandler.js"],c["Accessibility/Utils/EventProvider.js"],c["Accessibility/Utils/ChartUtilities.js"]],function(P,H,B,o,A,D,m,s){function I(f){var e=f.index,h=f.series.points,g=h.length;if(h[e]!==f){for(;g--;){if(h[g]===f){return g}}}else{return e}}function C(f){var e=f.chart.options.accessibility.keyboardNavigation.seriesNavigation,h=f.options.accessibility||{},g=h.keyboardNavigation;return g&&!1===g.enabled||!1===h.enabled||!1===f.options.enableMouseTracking||!f.visible||e.pointNavigationEnabledThreshold&&e.pointNavigationEnabledThreshold<=f.points.length}function E(e){var d=e.series.chart.options.accessibility,f=e.options.accessibility&&!1===e.options.accessibility.enabled;return e.isNull&&d.keyboardNavigation.seriesNavigation.skipNullPoints||!1===e.visible||!1===e.isInside||f||C(e.series)}function N(h){h=h.series||[];for(var g=h.length,p=0;p<g;++p){if(!C(h[p])){h:{var n=h[p].points||[];for(var l=n.length,k=0;k<l;++k){if(!E(n[k])){n=n[k];break h}}n=null}if(n){return n}}}return null}function L(e){for(var d=e.series.length,f=!1;d--&&!(e.highlightedPoint=e.series[d].points[e.series[d].points.length-1],f=e.series[d].highlightNextValidPoint());){}return f}function M(d){delete d.highlightedPoint;return(d=N(d))?d.highlight():!1}var O=B.seriesTypes,K=o.doc,y=A.defined,i=A.fireEvent,r=s.getPointFromXY,j=s.getSeriesFromName,u=s.scrollToPoint;B=function(){function a(e,d){this.keyCodes=d;this.chart=e}a.prototype.init=function(){var f=this,h=this.chart,g=this.eventProvider=new m;g.addEvent(H,"destroy",function(){return f.onSeriesDestroy(this)});g.addEvent(h,"afterApplyDrilldown",function(){var d=N(this);d&&d.highlight(!1)});g.addEvent(h,"drilldown",function(d){d=d.point;var e=d.series;f.lastDrilledDownPoint={x:d.x,y:d.y,seriesName:e?e.name:""}});g.addEvent(h,"drillupall",function(){setTimeout(function(){f.onDrillupAll()},10)});g.addEvent(P,"afterSetState",function(){var e=this.graphic&&this.graphic.element,d=K.activeElement,k=d&&d.getAttribute("class");k=k&&-1<k.indexOf("highcharts-a11y-proxy-button");h.highlightedPoint===this&&d!==e&&!k&&e&&e.focus&&e.focus()})};a.prototype.onDrillupAll=function(){var g=this.lastDrilledDownPoint,f=this.chart,k=g&&j(f,g.seriesName),h;g&&k&&y(g.x)&&y(g.y)&&(h=r(k,g.x,g.y));h=h||N(f);f.container&&f.container.focus();h&&h.highlight&&h.highlight(!1)};a.prototype.getKeyboardNavigationHandler=function(){var e=this,d=this.keyCodes,k=this.chart,h=k.inverted;return new D(k,{keyCodeMap:[[h?[d.up,d.down]:[d.left,d.right],function(f){return e.onKbdSideways(this,f)}],[h?[d.left,d.right]:[d.up,d.down],function(f){return e.onKbdVertical(this,f)}],[[d.enter,d.space],function(g,f){if(g=k.highlightedPoint){f.point=g,i(g.series,"click",f),g.firePointEvent("click")}return this.response.success}],[[d.home],function(){M(k);return this.response.success}],[[d.end],function(){L(k);return this.response.success}],[[d.pageDown,d.pageUp],function(f){k.highlightAdjacentSeries(f===d.pageDown);return this.response.success}]],init:function(){return e.onHandlerInit(this)},validate:function(){return !!N(k)},terminate:function(){return e.onHandlerTerminate()}})};a.prototype.onKbdSideways=function(e,d){var f=this.keyCodes;return this.attemptHighlightAdjacentPoint(e,d===f.right||d===f.down)};a.prototype.onHandlerInit=function(e){var d=this.chart;d.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&d.highlightedPoint?d.highlightedPoint.highlight():M(d);return e.response.success};a.prototype.onKbdVertical=function(f,e){var h=this.chart,g=this.keyCodes;e=e===g.down||e===g.right;g=h.options.accessibility.keyboardNavigation.seriesNavigation;if(g.mode&&"serialize"===g.mode){return this.attemptHighlightAdjacentPoint(f,e)}h[h.highlightedPoint&&h.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](e);return f.response.success};a.prototype.onHandlerTerminate=function(){var e=this.chart,d=e.options.accessibility.keyboardNavigation;e.tooltip&&e.tooltip.hide(0);var f=e.highlightedPoint&&e.highlightedPoint.series;if(f&&f.onMouseOut){f.onMouseOut()}if(e.highlightedPoint&&e.highlightedPoint.onMouseOut){e.highlightedPoint.onMouseOut()}d.seriesNavigation.rememberPointFocus||delete e.highlightedPoint};a.prototype.attemptHighlightAdjacentPoint=function(e,d){var h=this.chart,g=h.options.accessibility.keyboardNavigation.wrapAround;return h.highlightAdjacentPoint(d)?e.response.success:g&&(d?M(h):L(h))?e.response.success:e.response[d?"next":"prev"]};a.prototype.onSeriesDestroy=function(e){var d=this.chart;d.highlightedPoint&&d.highlightedPoint.series===e&&(delete d.highlightedPoint,d.focusElement&&d.focusElement.removeFocusBorder())};a.prototype.destroy=function(){this.eventProvider.removeAddedEvents()};return a}();(function(n){function w(l){var h=this.series,G=this.highlightedPoint,F=G&&I(G)||0,z=G&&G.series.points||[],x=this.series&&this.series[this.series.length-1];x=x&&x.points&&x.points[x.points.length-1];if(!h[0]||!h[0].points){return !1}if(G){if(h=h[G.series.index+(l?1:-1)],F=z[F+(l?1:-1)],!F&&h&&(F=h.points[l?0:h.points.length-1]),!F){return !1}}else{F=l?h[0].points[0]:x}return E(F)?(h=F.series,C(h)?this.highlightedPoint=l?h.points[h.points.length-1]:h.points[0]:this.highlightedPoint=F,this.highlightAdjacentPoint(l)):F.highlight()}function v(f){var e=this.highlightedPoint,l=Infinity,h;if(!y(e.plotX)||!y(e.plotY)){return !1}this.series.forEach(function(a){C(a)||a.points.forEach(function(z){if(y(z.plotY)&&y(z.plotX)&&z!==e){var x=z.plotY-e.plotY,d=Math.abs(z.plotX-e.plotX);d=Math.abs(x)*Math.abs(x)+d*d*4;a.yAxis&&a.yAxis.reversed&&(x*=-1);!(0>=x&&f||0<=x&&!f||5>d||E(z))&&d<l&&(l=d,h=z)}})});return h?h.highlight():!1}function t(f){var e=this.highlightedPoint,l=this.series&&this.series[this.series.length-1],h=l&&l.points&&l.points[l.points.length-1];if(!this.highlightedPoint){return l=f?this.series&&this.series[0]:l,(h=f?l&&l.points&&l.points[0]:h)?h.highlight():!1}l=this.series[e.series.index+(f?-1:1)];if(!l){return !1}h=q(e,l,4);if(!h){return !1}if(C(l)){return h.highlight(),f=this.highlightAdjacentSeries(f),f?f:(e.highlight(),!1)}h.highlight();return h.series.highlightNextValidPoint()}function q(S,R,Q,J){var G=Infinity,F=R.points.length,z=function(d){return !(y(d.plotX)&&y(d.plotY))};if(!z(S)){for(;F--;){var l=R.points[F];if(!z(l)&&(l=(S.plotX-l.plotX)*(S.plotX-l.plotX)*(Q||1)+(S.plotY-l.plotY)*(S.plotY-l.plotY)*(J||1),l<G)){G=l;var x=F}}return y(x)?R.points[x]:void 0}}function p(e){void 0===e&&(e=!0);var d=this.series.chart;if(!this.isNull&&e){this.onMouseOver()}else{d.tooltip&&d.tooltip.hide(0)}u(this);this.graphic&&(d.setFocusToElement(this.graphic),!e&&d.focusElement&&d.focusElement.removeFocusBorder());d.highlightedPoint=this;return this}function k(){var f=this.chart.highlightedPoint,e=(f&&f.series)===this?I(f):0;f=this.points;var l=f.length;if(f&&l){for(var h=e;h<l;++h){if(!E(f[h])){return f[h].highlight()}}for(;0<=e;--e){if(!E(f[e])){return f[e].highlight()}}}return !1}var g=[];n.compose=function(d,h,e){-1===g.indexOf(d)&&(g.push(d),d=d.prototype,d.highlightAdjacentPoint=w,d.highlightAdjacentPointVertical=v,d.highlightAdjacentSeries=t);-1===g.indexOf(h)&&(g.push(h),h.prototype.highlight=p);-1===g.indexOf(e)&&(g.push(e),h=e.prototype,h.keyboardMoveVertical=!0,["column","gantt","pie"].forEach(function(f){O[f]&&(O[f].prototype.keyboardMoveVertical=!1)}),h.highlightNextValidPoint=k)}})(B||(B={}));return B});b(c,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[c["Accessibility/AccessibilityComponent.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],c["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],c["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],c["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"],c["Core/Tooltip.js"]],function(m,j,e,r,d,i,o){var s=this&&this.__extends||function(){var g=function(h,a){g=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var p in l){l.hasOwnProperty(p)&&(n[p]=l[p])}};return g(h,a)};return function(l,a){function h(){this.constructor=l}g(l,a);l.prototype=null===a?Object.create(a):(h.prototype=a.prototype,new h)}}(),k=j.hideSeriesFromAT,f=d.describeSeries;return function(g){function h(){return null!==g&&g.apply(this,arguments)||this}s(h,g);h.compose=function(n,p,l){r.compose(l);e.compose(l);i.compose(n,p,l)};h.prototype.init=function(){this.newDataAnnouncer=new r(this.chart);this.newDataAnnouncer.init();this.keyboardNavigation=new i(this.chart,this.keyCodes);this.keyboardNavigation.init();this.hideTooltipFromATWhenShown();this.hideSeriesLabelsFromATWhenShown()};h.prototype.hideTooltipFromATWhenShown=function(){var l=this;this.addEvent(o,"refresh",function(){this.chart===l.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})};h.prototype.hideSeriesLabelsFromATWhenShown=function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(l){l.labelBySeries&&l.labelBySeries.attr("aria-hidden",!0)})})};h.prototype.onChartRender=function(){this.chart.series.forEach(function(l){!1!==(l.options.accessibility&&l.options.accessibility.enabled)&&l.visible?f(l):k(l)})};h.prototype.getKeyboardNavigation=function(){return this.keyboardNavigation.getKeyboardNavigationHandler()};h.prototype.destroy=function(){this.newDataAnnouncer.destroy();this.keyboardNavigation.destroy()};return h}(m)});b(c,"Accessibility/Components/ZoomComponent.js",[c["Accessibility/AccessibilityComponent.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/KeyboardNavigationHandler.js"],c["Core/Utilities.js"]],function(f,j,m,e){var k=this&&this.__extends||function(){var h=function(l,a){h=Object.setPrototypeOf||{__proto__:[]} instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var p in o){o.hasOwnProperty(p)&&(n[p]=o[p])}};return h(l,a)};return function(l,a){function n(){this.constructor=l}h(l,a);l.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),d=j.unhideChartElementFromAT,i=e.attr,g=e.pick;return function(h){function l(){var a=null!==h&&h.apply(this,arguments)||this;a.focusedMapNavButtonIx=-1;return a}k(l,h);l.prototype.init=function(){var n=this,o=this.chart;this.proxyProvider.addGroup("zoom","div");["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach(function(a){n.addEvent(o,a,function(){n.updateProxyOverlays()})})};l.prototype.onChartUpdate=function(){var n=this.chart,o=this;n.mapNavigation&&n.mapNavigation.navButtons.forEach(function(a,p){d(n,a.element);o.setMapNavButtonAttrs(a.element,"accessibility.zoom.mapZoom"+(p?"Out":"In"))})};l.prototype.setMapNavButtonAttrs=function(n,p){var o=this.chart;p=o.langFormat(p,{chart:o});i(n,{tabindex:-1,role:"button","aria-label":p})};l.prototype.onChartRender=function(){this.updateProxyOverlays()};l.prototype.updateProxyOverlays=function(){var n=this.chart;this.proxyProvider.clearGroup("zoom");n.resetZoomButton&&this.createZoomProxyButton(n.resetZoomButton,"resetZoomProxyButton",n.langFormat("accessibility.zoom.resetZoomButton",{chart:n}));n.drillUpButton&&n.breadcrumbs&&n.breadcrumbs.list&&this.createZoomProxyButton(n.drillUpButton,"drillUpProxyButton",n.langFormat("accessibility.drillUpButton",{chart:n,buttonText:n.breadcrumbs.getButtonText(n.breadcrumbs.list[n.breadcrumbs.list.length-1])}))};l.prototype.createZoomProxyButton=function(n,p,o){this[p]=this.proxyProvider.addProxyElement("zoom",{click:n},{"aria-label":o,tabindex:-1})};l.prototype.getMapZoomNavigation=function(){var n=this.keyCodes,p=this.chart,o=this;return new m(p,{keyCodeMap:[[[n.up,n.down,n.left,n.right],function(q){return o.onMapKbdArrow(this,q)}],[[n.tab],function(r,q){return o.onMapKbdTab(this,q)}],[[n.space,n.enter],function(){return o.onMapKbdClick(this)}]],validate:function(){return !!(p.mapZoom&&p.mapNavigation&&p.mapNavigation.navButtons.length)},init:function(q){return o.onMapNavInit(q)}})};l.prototype.onMapKbdArrow=function(o,t){var r=this.keyCodes,s=this.chart[t===r.up||t===r.down?"yAxis":"xAxis"][0];t=t===r.left||t===r.up?-1:1;r=s.getExtremes();var n=(r.max-r.min)/3*t,q=r.max+n;n=r.min+n;var p=q-n;0>t&&n<r.dataMin?(n=r.dataMin,q=n+p):0<t&&q>r.dataMax&&(q=r.dataMax,n=q-p);s.setExtremes(n,q);return o.response.success};l.prototype.onMapKbdTab=function(n,q){var o=this.chart;n=n.response;var p=(q=q.shiftKey)&&!this.focusedMapNavButtonIx||!q&&this.focusedMapNavButtonIx;o.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0);if(p){return o.mapZoom(),n[q?"prev":"next"]}this.focusedMapNavButtonIx+=q?-1:1;q=o.mapNavigation.navButtons[this.focusedMapNavButtonIx];o.setFocusToElement(q.box,q.element);q.setState(2);return n.success};l.prototype.onMapKbdClick=function(n){this.fakeClickEvent(this.chart.mapNavButtons[this.focusedMapNavButtonIx].element);return n.response.success};l.prototype.onMapNavInit=function(n){var q=this.chart,o=q.mapNavigation.navButtons[0],p=q.mapNavigation.navButtons[1];o=0<n?o:p;q.setFocusToElement(o.box,o.element);o.setState(2);this.focusedMapNavButtonIx=0<n?0:1};l.prototype.simpleButtonNavigation=function(o,s,q){var r=this.keyCodes,n=this,p=this.chart;return new m(p,{keyCodeMap:[[[r.tab,r.up,r.down,r.left,r.right],function(u,t){return this.response[u===r.tab&&t.shiftKey||u===r.left||u===r.up?"prev":"next"]}],[[r.space,r.enter],function(){var t=q(this,p);return g(t,this.response.success)}]],validate:function(){return p[o]&&p[o].box&&n[s].buttonElement},init:function(){p.setFocusToElement(p[o].box,n[s].buttonElement)}})};l.prototype.getKeyboardNavigation=function(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",function(n,o){o.zoomOut()}),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",function(n,o){o.drillUp();return n.response.prev}),this.getMapZoomNavigation()]};return l}(f)});b(c,"Accessibility/HighContrastMode.js",[c["Core/Globals.js"]],function(d){var f=d.doc,g=d.isMS,e=d.win;return{isHighContrastModeActive:function(){var i=/(Edg)/.test(e.navigator.userAgent);if(e.matchMedia&&i){return e.matchMedia("(-ms-high-contrast: active)").matches}if(g&&e.getComputedStyle){i=f.createElement("div");i.style.backgroundImage="url(".concat("data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",")");f.body.appendChild(i);var h=(i.currentStyle||e.getComputedStyle(i)).backgroundImage;f.body.removeChild(i);return"none"===h}return e.matchMedia&&e.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(i){i.highContrastModeActive=!0;var j=i.options.accessibility.highContrastTheme;i.update(j,!1);i.series.forEach(function(k){var h=j.plotOptions[k.type]||{};k.update({color:h.color||"windowText",colors:[h.color||"windowText"],borderColor:h.borderColor||"window"});k.points.forEach(function(l){l.options&&l.options.color&&l.update({color:h.color||"windowText",borderColor:h.borderColor||"window"},!1)})});i.redraw()}}});b(c,"Accessibility/HighContrastTheme.js",[],function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},labels:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}});b(c,"Accessibility/Options/A11yDefaults.js",[],function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#335cad",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5000,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}});b(c,"Accessibility/Options/LangDefaults.js",[],function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{"default":"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}});b(c,"Accessibility/Options/DeprecatedOptions.js",[c["Core/Utilities.js"]],function(f){function j(l,o,n){for(var q,p=0;p<o.length-1;++p){q=o[p],l=l[q]=g(l[q],{})}l[o[o.length-1]]=n}function m(o,n,p,s){function q(t,l){return l.reduce(function(v,u){return v[u]},t)}var r=q(o.options,n),h=q(o.options,p);Object.keys(s).forEach(function(t){var l,a=r[t];"undefined"!==typeof a&&(j(h,s[t],a),d(32,!1,o,(l={},l[n.join(".")+"."+t]=p.join(".")+"."+s[t].join("."),l)))})}function i(l){var o=l.options.chart,n=l.options.accessibility||{};["description","typeDescription"].forEach(function(h){var a;o[h]&&(n[h]=o[h],d(32,!1,l,(a={},a["chart.".concat(h)]="use accessibility.".concat(h),a)))})}function k(h){h.axes.forEach(function(a){(a=a.options)&&a.description&&(a.accessibility=a.accessibility||{},a.accessibility.description=a.description,d(32,!1,h,{"axis.description":"use axis.accessibility.description"}))})}function e(h){var l={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};h.series.forEach(function(a){Object.keys(l).forEach(function(p){var n,o=a.options[p];"accessibility.pointDescriptionFormatter"===p&&(o=a.options.accessibility&&a.options.accessibility.pointDescriptionFormatter);"undefined"!==typeof o&&(j(a.options,l[p],"skipKeyboardNavigation"===p?!o:o),d(32,!1,h,(n={},n["series.".concat(p)]="series."+l[p].join("."),n)))})})}var d=f.error,g=f.pick;return function(h){i(h);k(h);h.series&&e(h);m(h,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]});m(h,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]});m(h,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}});b(c,"Accessibility/Accessibility.js",[c["Core/DefaultOptions.js"],c["Core/Globals.js"],c["Core/Utilities.js"],c["Accessibility/Utils/HTMLUtilities.js"],c["Accessibility/A11yI18n.js"],c["Accessibility/Components/ContainerComponent.js"],c["Accessibility/FocusBorder.js"],c["Accessibility/Components/InfoRegionsComponent.js"],c["Accessibility/KeyboardNavigation.js"],c["Accessibility/Components/LegendComponent.js"],c["Accessibility/Components/MenuComponent.js"],c["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],c["Accessibility/ProxyProvider.js"],c["Accessibility/Components/RangeSelectorComponent.js"],c["Accessibility/Components/SeriesComponent/SeriesComponent.js"],c["Accessibility/Components/ZoomComponent.js"],c["Accessibility/HighContrastMode.js"],c["Accessibility/HighContrastTheme.js"],c["Accessibility/Options/A11yDefaults.js"],c["Accessibility/Options/LangDefaults.js"],c["Accessibility/Options/DeprecatedOptions.js"]],function(ab,U,Q,s,O,S,r,B,V,R,T,Z,X,Y,aa,W,o,j,i,m,H){ab=ab.defaultOptions;var L=U.doc,P=Q.addEvent,I=Q.extend,N=Q.fireEvent,M=Q.merge,u=s.removeElement;U=function(){function d(e){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0;this.init(e)}d.prototype.init=function(e){this.chart=e;L.addEventListener&&e.renderer.isSVG?(H(e),this.proxyProvider=new X(this.chart),this.initComponents(),this.keyboardNavigation=new V(e,this.components)):(this.zombie=!0,this.components={},e.renderTo.setAttribute("aria-hidden",!0))};d.prototype.initComponents=function(){var f=this.chart,l=this.proxyProvider,k=f.options.accessibility;this.components={container:new S,infoRegions:new B,legend:new R,chartMenu:new T,rangeSelector:new Y,series:new aa,zoom:new W};k.customComponents&&I(this.components,k.customComponents);var h=this.components;this.getComponentOrder().forEach(function(a){h[a].initBase(f,l);h[a].init()})};d.prototype.getComponentOrder=function(){if(!this.components){return[]}if(!this.components.series){return Object.keys(this.components)}var e=Object.keys(this.components).filter(function(f){return"series"!==f});return["series"].concat(e)};d.prototype.update=function(){var f=this.components,e=this.chart,g=e.options.accessibility;N(e,"beforeA11yUpdate");e.types=this.getChartTypes();g=g.keyboardNavigation.order;this.proxyProvider.updateGroupOrder(g);this.getComponentOrder().forEach(function(a){f[a].onChartUpdate();N(e,"afterA11yComponentUpdate",{name:a,component:f[a]})});this.keyboardNavigation.update(g);!e.highContrastModeActive&&o.isHighContrastModeActive()&&o.setHighContrastTheme(e);N(e,"afterA11yUpdate",{accessibility:this})};d.prototype.destroy=function(){var f=this.chart||{},e=this.components;Object.keys(e).forEach(function(g){e[g].destroy();e[g].destroyBase()});this.proxyProvider&&this.proxyProvider.destroy();f.announcerContainer&&u(f.announcerContainer);this.keyboardNavigation&&this.keyboardNavigation.destroy();f.renderTo&&f.renderTo.setAttribute("aria-hidden",!0);f.focusElement&&f.focusElement.removeFocusBorder()};d.prototype.getChartTypes=function(){var e={};this.chart.series.forEach(function(a){e[a.type]=1});return Object.keys(e)};return d}();(function(g){function w(){this.accessibility&&this.accessibility.destroy()}function q(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());var e=this.accessibility;e&&!e.zombie&&(e.proxyProvider.updateProxyElementPositions(),e.getComponentOrder().forEach(function(a){e.components[a].onChartRender()}))}function n(e){if(e=e.options.accessibility){e.customComponents&&(this.options.accessibility.customComponents=e.customComponents,delete e.customComponents),M(!0,this.options.accessibility,e),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)}this.a11yDirty=!0}function d(){var a=this.accessibility,e=this.options.accessibility;e&&e.enabled?a&&!a.zombie?a.update():(this.accessibility=a=new g(this),!a.zombie)&&a.update():a?(a.destroy&&a.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function v(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}var k=[];g.i18nFormat=O.i18nFormat;g.compose=function(h,e,t,p,l,f,x){V.compose(e);Z.compose(l);R.compose(e,t);T.compose(e);aa.compose(e,p,l);O.compose(e);r.compose(e,f);x&&Y.compose(e,x);-1===k.indexOf(e)&&(k.push(e),e.prototype.updateA11yEnabled=d,P(e,"destroy",w),P(e,"render",q),P(e,"update",n),["addSeries","init"].forEach(function(y){P(e,y,function(){this.a11yDirty=!0})}),["afterApplyDrilldown","drillupall"].forEach(function(y){P(e,y,function(){var z=this.accessibility;z&&!z.zombie&&z.update()})}));-1===k.indexOf(p)&&(k.push(p),P(p,"update",v));-1===k.indexOf(l)&&(k.push(l),["update","updatedData","remove"].forEach(function(y){P(l,y,function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)})}))}})(U||(U={}));M(!0,ab,i,{accessibility:{highContrastTheme:j},lang:m});return U});b(c,"masters/modules/accessibility.src.js",[c["Core/Globals.js"],c["Accessibility/Accessibility.js"],c["Accessibility/AccessibilityComponent.js"],c["Accessibility/Utils/ChartUtilities.js"],c["Accessibility/Utils/HTMLUtilities.js"],c["Accessibility/KeyboardNavigationHandler.js"],c["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],function(g,i,k,f,j,e,d){g.i18nFormat=i.i18nFormat;g.A11yChartUtilities=f;g.A11yHTMLUtilities=j;g.AccessibilityComponent=k;g.KeyboardNavigationHandler=e;g.SeriesAccessibilityDescriber=d;i.compose(g.Axis,g.Chart,g.Legend,g.Point,g.Series,g.SVGElement,g.RangeSelector)})});