(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(a){b(a);b.Highcharts=a;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function c(f,e,g,h){f.hasOwnProperty(e)||(f[e]=h.apply(null,g))}b=b?b._modules:{};c(b,"Extensions/DownloadURL.js",[b["Core/Globals.js"]],function(i){var g=i.win,l=g.navigator,m=g.document,j=g.URL||g.webkitURL||g,h=/Edge\/\d+/.test(l.userAgent),k=i.dataURLtoBlob=function(f){if((f=f.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<f.length&&g.atob&&g.ArrayBuffer&&g.Uint8Array&&g.Blob&&j.createObjectURL){var n=g.atob(f[3]),o=new g.ArrayBuffer(n.length);o=new g.Uint8Array(o);for(var p=0;p<o.length;++p){o[p]=n.charCodeAt(p)}f=new g.Blob([o],{type:f[1]});return j.createObjectURL(f)}};i=i.downloadURL=function(e,o){var d=m.createElement("a");if("string"===typeof e||e instanceof String||!l.msSaveOrOpenBlob){e=""+e;if(h||2000000<e.length){if(e=k(e)||"",!e){throw Error("Failed to convert to blob")}}if("undefined"!==typeof d.download){d.href=e,d.download=o,m.body.appendChild(d),d.click(),m.body.removeChild(d)}else{try{var n=g.open(e,"chart");if("undefined"===typeof n||null===n){throw Error("Failed to open window")}}catch(p){g.location.href=e}}}else{l.msSaveOrOpenBlob(e,o)}};return{dataURLtoBlob:k,downloadURL:i}});c(b,"Extensions/OfflineExporting.js",[b["Core/Chart/Chart.js"],b["Core/Globals.js"],b["Core/Renderer/SVG/SVGRenderer.js"],b["Core/Utilities.js"],b["Extensions/DownloadURL.js"]],function(K,J,y,F,m){function j(e,d){var f=v.getElementsByTagName("head")[0],k=v.createElement("script");k.type="text/javascript";k.src=e;k.onload=d;k.onerror=function(){u("Error loading script "+e)};f.appendChild(k)}var z=J.win,v=J.doc,t=F.addEvent,u=F.error,i=F.extend,r=F.getOptions,o=F.merge,s=m.downloadURL,n=z.URL||z.webkitURL||z,h=z.navigator,q=/Edge\/|Trident\/|MSIE /.test(h.userAgent),g=q?150:0;J.CanVGRenderer={};J.svgToDataUrl=function(e){var d=-1<h.userAgent.indexOf("WebKit")&&0>h.userAgent.indexOf("Chrome");try{if(!d&&0>h.userAgent.toLowerCase().indexOf("firefox")){return n.createObjectURL(new z.Blob([e],{type:"image/svg+xml;charset-utf-16"}))}}catch(f){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e)};J.imageToDataUrl=function(G,E,x,D,B,p,A,l,H){var w=new z.Image,e=function(){setTimeout(function(){var f=v.createElement("canvas"),a=f.getContext&&f.getContext("2d");try{if(a){f.height=w.height*D;f.width=w.width*D;a.drawImage(w,0,0,f.width,f.height);try{var I=f.toDataURL(E);B(I,E,x,D)}catch(d){k(G,E,x,D)}}else{A(G,E,x,D)}}finally{H&&H(G,E,x,D)}},g)},C=function(){l(G,E,x,D);H&&H(G,E,x,D)};var k=function(){w=new z.Image;k=p;w.crossOrigin="Anonymous";w.onload=e;w.onerror=C;w.src=G};w.onload=e;w.onerror=C;w.src=G};J.downloadSVGLocal=function(L,G,D,H){function E(f,d){var l=f.width.baseVal.value+2*d;d=f.height.baseVal.value+2*d;l=new z.jsPDF(d>l?"p":"l","pt",[l,d]);[].forEach.call(f.querySelectorAll('*[visibility="hidden"]'),function(p){p.parentNode.removeChild(p)});z.svg2pdf(f,l,{removeInvalid:!0});return l.output("datauristring")}function A(){O.innerHTML=L;var a=O.getElementsByTagName("text"),f;[].forEach.call(a,function(l){["font-family","font-size"].forEach(function(p){for(var P=l;P&&P!==O;){if(P.style[p]){l.style[p]=P.style[p];break}P=P.parentNode}});l.style["font-family"]=l.style["font-family"]&&l.style["font-family"].split(" ").splice(-1);f=l.getElementsByTagName("title");[].forEach.call(f,function(p){l.removeChild(p)})});a=E(O.firstChild,0);try{s(a,e),H&&H()}catch(d){D(d)}}var B=!0,x=G.libURL||r().exporting.libURL,O=v.createElement("div"),C=G.type||"image/png",e=(G.filename||"chart")+"."+("image/svg+xml"===C?"svg":C.split("/")[1]),w=G.scale||1;x="/"!==x.slice(-1)?x+"/":x;if("image/svg+xml"===C){try{if("undefined"!==typeof h.msSaveOrOpenBlob){var k=new MSBlobBuilder;k.append(L);var N=k.getBlob("image/svg+xml")}else{N=J.svgToDataUrl(L)}s(N,e);H&&H()}catch(I){D(I)}}else{if("application/pdf"===C){z.jsPDF&&z.svg2pdf?A():(B=!0,j(x+"jspdf.js",function(){j(x+"svg2pdf.js",function(){A()})}))}else{N=J.svgToDataUrl(L);var M=function(){try{n.revokeObjectURL(N)}catch(a){}};J.imageToDataUrl(N,C,{},w,function(d){try{s(d,e),H&&H()}catch(f){D(f)}},function(){var l=v.createElement("canvas"),Q=l.getContext("2d"),a=L.match(/^<svg[^>]*width\s*=\s*"?(\d+)"?[^>]*>/)[1]*w,p=L.match(/^<svg[^>]*height\s*=\s*"?(\d+)"?[^>]*>/)[1]*w,P=function(){Q.drawSvg(L,0,0,a,p);try{s(h.msSaveOrOpenBlob?l.msToBlob():l.toDataURL(C),e),H&&H()}catch(d){D(d)}finally{M()}};l.width=a;l.height=p;z.canvg?P():(B=!0,j(x+"rgbcolor.js",function(){j(x+"canvg.js",function(){P()})}))},D,D,function(){B&&M()})}}};K.prototype.getSVGForLocalExport=function(N,H,E,L){var I=this,A=0,G,x,B,D,C=function(){A===w.length&&L(I.sanitizeSVG(G.innerHTML,x))},p=function(e,d,f){++A;f.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",e);C()};I.unbindGetSVG=t(I,"getSVG",function(d){x=d.chartCopy.options;G=d.chartCopy.container.cloneNode(!0)});I.getSVGForExport(N,H);var w=G.getElementsByTagName("image");try{if(!w.length){L(I.sanitizeSVG(G.innerHTML,x));return}var P=0;for(B=w.length;P<B;++P){var O=w[P];(D=O.getAttributeNS("http://www.w3.org/1999/xlink","href"))?J.imageToDataUrl(D,"image/png",{imageElement:O},N.scale,p,E,E,E):(++A,O.parentNode.removeChild(O),C())}}catch(M){E(M)}I.unbindGetSVG()};K.prototype.exportChartLocal=function(f,p){var w=this,x=o(w.options.exporting,f),l=function(d){!1===x.fallbackToExportServer?x.error?x.error(x,d):u(28,!0):w.exportChart(x)};f=function(){return[].some.call(w.container.getElementsByTagName("image"),function(d){d=d.getAttribute("href");return""!==d&&0!==d.indexOf("data:")})};q&&w.styledMode&&(y.prototype.inlineWhitelist=[/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/]);q&&("application/pdf"===x.type||w.container.getElementsByTagName("image").length&&"image/svg+xml"!==x.type)||"application/pdf"===x.type&&f()?l("Image type not supported for this chart/browser."):w.getSVGForLocalExport(x,p,l,function(d){-1<d.indexOf("<foreignObject")&&"image/svg+xml"!==x.type?l("Image type not supportedfor charts with embedded HTML"):J.downloadSVGLocal(d,i({filename:w.getFilename()},x),l)})};o(!0,r().exporting,{libURL:"https://code.highcharts.com/8.2.0/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}})});c(b,"masters/modules/offline-exporting.src.js",[],function(){})});