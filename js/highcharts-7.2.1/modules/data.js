(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/data",["highcharts"],function(b){a(b);a.Highcharts=b;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function a(f,e,c,g){f.hasOwnProperty(e)||(f[e]=g.apply(null,c))}b=b?b._modules:{};a(b,"mixins/ajax.js",[b["parts/Globals.js"],b["parts/Utilities.js"]],function(f,c){var e=c.objectEach;f.ajax=function(i){var h=f.merge(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},i);i={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var g=new XMLHttpRequest;if(!h.url){return !1}g.open(h.type.toUpperCase(),h.url,!0);h.headers["Content-Type"]||g.setRequestHeader("Content-Type",i[h.dataType]||i.text);e(h.headers,function(j,k){g.setRequestHeader(k,j)});g.onreadystatechange=function(){if(4===g.readyState){if(200===g.status){var k=g.responseText;if("json"===h.dataType){try{k=JSON.parse(k)}catch(j){h.error&&h.error(g,j);return}}return h.success&&h.success(k)}h.error&&h.error(g,g.responseText)}};try{h.data=JSON.stringify(h.data)}catch(d){}g.send(h.data||!0)};f.getJSON=function(d,g){f.ajax({url:d,success:g,dataType:"json",headers:{"Content-Type":"text/plain"}})}});a(b,"modules/data.src.js",[b["parts/Globals.js"],b["parts/Utilities.js"]],function(j,m){var r=m.defined,l=m.extend,i=m.isNumber,f=m.objectEach,k=m.pick,c=m.splat;m=j.addEvent;var s=j.Chart,p=j.win.document,g=j.merge,o=j.fireEvent,e=function(n,q,d){this.init(n,q,d)};l(e.prototype,{init:function(n,u,d){var t=n.decimalPoint;u&&(this.chartOptions=u);d&&(this.chart=d);"."!==t&&","!==t&&(t=void 0);this.options=n;this.columns=n.columns||this.rowsToColumns(n.rows)||[];this.firstRowAsNames=k(n.firstRowAsNames,this.firstRowAsNames,!0);this.decimalRegex=t&&new RegExp("^(-?[0-9]+)"+t+"([0-9]+)$");this.rawColumns=[];if(this.columns.length){this.dataFound();var q=!0}this.hasURLOption(n)&&(clearTimeout(this.liveDataTimeout),q=!1);q||(q=this.fetchLiveData());q||(q=!!this.parseCSV().length);q||(q=!!this.parseTable().length);q||(q=this.parseGoogleSpreadsheet());!q&&n.afterComplete&&n.afterComplete()},hasURLOption:function(d){return !(!d||!(d.rowsURL||d.csvURL||d.columnsURL))},getColumnDistribution:function(){var y=this.chartOptions,w=this.options,x=[],v=function(z){return(j.seriesTypes[z||"line"].prototype.pointArrayMap||[0]).length},u=y&&y.chart&&y.chart.type,t=[],d=[],q=0;w=w&&w.seriesMapping||y&&y.series&&y.series.map(function(){return{x:0}})||[];var n;(y&&y.series||[]).forEach(function(z){t.push(v(z.type||u))});w.forEach(function(z){x.push(z.x||0)});0===x.length&&x.push(0);w.forEach(function(E){var z=new h,B=t[q]||v(u),C=(y&&y.series||[])[q]||{},A=j.seriesTypes[C.type||u||"line"].prototype.pointArrayMap,D=A||["y"];(r(E.x)||C.isCartesian||!A)&&z.addColumnReader(E.x,"x");f(E,function(F,G){"x"!==G&&z.addColumnReader(F,G)});for(n=0;n<B;n++){z.hasReader(D[n])||z.addColumnReader(void 0,D[n])}d.push(z);q++});w=j.seriesTypes[u||"line"].prototype.pointArrayMap;void 0===w&&(w=["y"]);this.valueCount={global:v(u),xColumns:x,individual:t,seriesBuilders:d,globalPointArrayMap:w}},dataFound:function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns));this.getColumnDistribution();this.parseTypes();!1!==this.parsed()&&this.complete()},parseCSV:function(H){function F(T,R,S,P){function O(d){M=T[d];t=T[d-1];V=T[d+1]}function N(d){K.length<n+1&&K.push([d]);K[n][K[n].length-1]!==d&&K[n].push(d)}function Q(){y>U||U>x?(++U,u=""):(!isNaN(parseFloat(u))&&isFinite(u)?(u=parseFloat(u),N("number")):isNaN(Date.parse(u))?N("string"):(u=u.replace(/\//g,"-"),N("date")),J.length<n+1&&J.push([]),S||(J[n][R]=u),u="",++n,++U)}var E=0,M="",t="",V="",u="",U=0,n=0;if(T.trim().length&&"#"!==T.trim()[0]){for(;E<T.length;E++){O(E);if("#"===M){Q();return}if('"'===M){for(O(++E);E<T.length&&('"'!==M||'"'===t||'"'===V);){if('"'!==M||'"'===M&&'"'!==t){u+=M}O(++E)}}else{P&&P[M]?P[M](M,u)&&Q():M===L?Q():u+=M}}Q()}}function G(n){var u=0,d=0,t=!1;n.some(function(E,P){var O=!1,N="";if(13<P){return !0}for(var Q=0;Q<E.length;Q++){P=E[Q];var M=E[Q+1];var w=E[Q-1];if("#"===P){break}if('"'===P){if(O){if('"'!==w&&'"'!==M){for(;" "===M&&Q<E.length;){M=E[++Q]}"undefined"!==typeof q[M]&&q[M]++;O=!1}}else{O=!0}}else{"undefined"!==typeof q[P]?(N=N.trim(),isNaN(Date.parse(N))?!isNaN(N)&&isFinite(N)||q[P]++:q[P]++,N=""):N+=P}","===P&&d++;"."===P&&u++}});t=q[";"]>q[","]?";":",";A.decimalPoint||(A.decimalPoint=u>d?".":",",B.decimalRegex=new RegExp("^(-?[0-9]+)"+A.decimalPoint+"([0-9]+)$"));return t}function C(P,N){var O=[],E=0,M=!1,w=[],n=[],t;if(!N||N>P.length){N=P.length}for(;E<N;E++){if("undefined"!==typeof P[E]&&P[E]&&P[E].length){var u=P[E].trim().replace(/\//g," ").replace(/\-/g," ").replace(/\./g," ").split(" ");O=["","",""];for(t=0;t<u.length;t++){t<O.length&&(u[t]=parseInt(u[t],10),u[t]&&(n[t]=!n[t]||n[t]<u[t]?u[t]:n[t],"undefined"!==typeof w[t]?w[t]!==u[t]&&(w[t]=!1):w[t]=u[t],31<u[t]?O[t]=100>u[t]?"YY":"YYYY":12<u[t]&&31>=u[t]?(O[t]="dd",M=!0):O[t].length||(O[t]="mm")))}}}if(M){for(t=0;t<w.length;t++){!1!==w[t]?12<n[t]&&"YY"!==O[t]&&"YYYY"!==O[t]&&(O[t]="YY"):12<n[t]&&"mm"===O[t]&&(O[t]="dd")}3===O.length&&"dd"===O[1]&&"dd"===O[2]&&(O[2]="YY");P=O.join("/");return(A.dateFormats||B.dateFormats)[P]?P:(o("deduceDateFailed"),"YYYY/mm/dd")}return"YYYY/mm/dd"}var B=this,A=H||this.options,D=A.csv;H="undefined"!==typeof A.startRow&&A.startRow?A.startRow:0;var z=A.endRow||Number.MAX_VALUE,y="undefined"!==typeof A.startColumn&&A.startColumn?A.startColumn:0,x=A.endColumn||Number.MAX_VALUE,v=0,K=[],q={",":0,";":0,"\t":0};var J=this.columns=[];D&&A.beforeParse&&(D=A.beforeParse.call(this,D));if(D){D=D.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(A.lineDelimiter||"\n");if(!H||0>H){H=0}if(!z||z>=D.length){z=D.length-1}if(A.itemDelimiter){var L=A.itemDelimiter}else{L=null,L=G(D)}var I=0;for(v=H;v<=z;v++){"#"===D[v][0]?I++:F(D[v],v-H-I)}A.columnTypes&&0!==A.columnTypes.length||!K.length||!K[0].length||"date"!==K[0][1]||A.dateFormat||(A.dateFormat=C(J[0]));this.dataFound()}return J},parseTable:function(){var q=this.options,x=q.table,n=this.columns,v=q.startRow||0,u=q.endRow||Number.MAX_VALUE,t=q.startColumn||0,w=q.endColumn||Number.MAX_VALUE;x&&("string"===typeof x&&(x=p.getElementById(x)),[].forEach.call(x.getElementsByTagName("tr"),function(d,y){y>=v&&y<=u&&[].forEach.call(d.children,function(z,A){("TD"===z.tagName||"TH"===z.tagName)&&A>=t&&A<=w&&(n[A-t]||(n[A-t]=[]),n[A-t][y-v]=z.innerHTML)})}),this.dataFound());return n},fetchLiveData:function(){function q(y){function z(A,D,B){function C(){u&&n.liveDataURL===A&&(x.liveDataTimeout=setTimeout(q,d))}if(!A||0!==A.indexOf("http")){return A&&w.error&&w.error("Invalid URL"),!1}y&&(clearTimeout(x.liveDataTimeout),n.liveDataURL=A);j.ajax({url:A,dataType:B||"json",success:function(E){n&&n.series&&D(E);C()},error:function(F,E){3>++v&&C();return w.error&&w.error(E,F)}});return !0}z(t.csvURL,function(A){n.update({data:{csv:A}})},"text")||z(t.rowsURL,function(A){n.update({data:{rows:A}})})||z(t.columnsURL,function(A){n.update({data:{columns:A}})})}var x=this,n=this.chart,w=this.options,v=0,u=w.enablePolling,d=1000*(w.dataRefreshRate||2),t=g(w);if(!this.hasURLOption(w)){return !1}1000>d&&(d=1000);delete w.csvURL;delete w.rowsURL;delete w.columnsURL;q(!0);return this.hasURLOption(w)},parseGoogleSpreadsheet:function(){function B(C){var n=["https://spreadsheets.google.com/feeds/cells",y,w,"public/values?alt=json"].join("/");j.ajax({url:n,dataType:"json",success:function(D){C(D);A.enablePolling&&setTimeout(function(){B(C)},1000*(A.dataRefreshRate||2))},error:function(D,E){return A.error&&A.error(E,D)}})}var z=this,A=this.options,y=A.googleSpreadsheetKey,x=this.chart,w=A.googleSpreadsheetWorksheet||1,t=A.startRow||0,v=A.endRow||Number.MAX_VALUE,u=A.startColumn||0,q=A.endColumn||Number.MAX_VALUE,d=1000*(A.dataRefreshRate||2);4000>d&&(d=4000);y&&(delete A.googleSpreadsheetKey,B(function(C){var n=[];C=C.feed.entry;var H=(C||[]).length,E=0,I;if(!C||0===C.length){return !1}for(I=0;I<H;I++){var G=C[I];E=Math.max(E,G.gs$cell.col)}for(I=0;I<E;I++){I>=u&&I<=q&&(n[I-u]=[])}for(I=0;I<H;I++){G=C[I];E=G.gs$cell.row-1;var D=G.gs$cell.col-1;if(D>=u&&D<=q&&E>=t&&E<=v){var F=G.gs$cell||G.content;G=null;F.numericValue?G=0<=F.$t.indexOf("/")||0<=F.$t.indexOf("-")?F.$t:0<F.$t.indexOf("%")?100*parseFloat(F.numericValue):parseFloat(F.numericValue):F.$t&&F.$t.length&&(G=F.$t);n[D-u][E-t]=G}}n.forEach(function(J){for(I=0;I<J.length;I++){void 0===J[I]&&(J[I]=null)}});x&&x.series?x.update({data:{columns:n}}):(z.columns=n,z.dataFound())}));return !1},trim:function(d,n){"string"===typeof d&&(d=d.replace(/^\s+|\s+$/g,""),n&&/^[0-9\s]+$/.test(d)&&(d=d.replace(/\s/g,"")),this.decimalRegex&&(d=d.replace(this.decimalRegex,"$1.$2")));return d},parseTypes:function(){for(var d=this.columns,n=d.length;n--;){this.parseColumn(d[n],n)}},parseColumn:function(H,F){var G=this.rawColumns,D=this.columns,C=H.length,E=this.firstRowAsNames,z=-1!==this.valueCount.xColumns.indexOf(F),B,A=[],x=this.chartOptions,y,L=(this.options.columnTypes||[])[F];x=z&&(x&&x.xAxis&&"category"===c(x.xAxis)[0].type||"string"===L);for(G[F]||(G[F]=[]);C--;){var n=A[C]||H[C];var K=this.trim(n);var J=this.trim(n,!0);var I=parseFloat(J);void 0===G[F][C]&&(G[F][C]=K);x||0===C&&E?H[C]=""+K:+J===I?(H[C]=I,31536000000<I&&"float"!==L?H.isDatetime=!0:H.isNumeric=!0,void 0!==H[C+1]&&(y=I>H[C+1])):(K&&K.length&&(B=this.parseDate(n)),z&&i(B)&&"float"!==L?(A[C]=n,H[C]=B,H.isDatetime=!0,void 0!==H[C+1]&&(n=B>H[C+1],n!==y&&void 0!==y&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,C=H.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):H.unsorted=!0),y=n)):(H[C]=""===K?null:K,0!==C&&(H.isDatetime||H.isNumeric)&&(H.mixed=!0)))}z&&H.mixed&&(D[F]=G[F]);if(z&&y&&this.options.sort){for(F=0;F<D.length;F++){D[F].reverse(),E&&D[F].unshift(D[F].pop())}}},dateFormats:{"YYYY/mm/dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{1,2})$/,parser:function(d){return Date.UTC(+d[1],d[2]-1,+d[3])}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(d){return Date.UTC(+d[3],d[2]-1,+d[1])},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(d){return Date.UTC(+d[3],d[1]-1,+d[2])}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(d){var n=+d[3];n=n>(new Date).getFullYear()-2000?n+1900:n+2000;return Date.UTC(n,d[2]-1,+d[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(d){return Date.UTC(+d[3]+2000,d[1]-1,+d[2])}}},parseDate:function(q){var w=this.options.parseDate,n,u=this.options.dateFormat||this.dateFormat,t;if(w){var v=w(q)}else{if("string"===typeof q){if(u){(w=this.dateFormats[u])||(w=this.dateFormats["YYYY/mm/dd"]),(t=q.match(w.regex))&&(v=w.parser(t))}else{for(n in this.dateFormats){if(w=this.dateFormats[n],t=q.match(w.regex)){this.dateFormat=n;this.alternativeFormat=w.alternative;v=w.parser(t);break}}}t||(t=Date.parse(q),"object"===typeof t&&null!==t&&t.getTime?v=t.getTime()-60000*t.getTimezoneOffset():i(t)&&(v=t-60000*(new Date(t)).getTimezoneOffset()))}}return v},rowsToColumns:function(q){var w,n;if(q){var u=[];var v=q.length;for(w=0;w<v;w++){var t=q[w].length;for(n=0;n<t;n++){u[n]||(u[n]=[]),u[n][w]=q[w][n]}}}return u},getData:function(){if(this.columns){return this.rowsToColumns(this.columns).slice(1)}},parsed:function(){if(this.options.parsed){return this.options.parsed.call(this,this.columns)}},getFreeIndexes:function(q,w){var n,u=[],v=[];for(n=0;n<q;n+=1){u.push(!0)}for(q=0;q<w.length;q+=1){var t=w[q].getReferencedColumnIndexes();for(n=0;n<t.length;n+=1){u[t[n]]=!1}}for(n=0;n<u.length;n+=1){u[n]&&v.push(n)}return v},complete:function(){var z=this.columns,x,y=this.options,v,w,u=[];if(y.complete||y.afterComplete){if(this.firstRowAsNames){for(v=0;v<z.length;v++){z[v].name=z[v].shift()}}var n=[];var t=this.getFreeIndexes(z.length,this.valueCount.seriesBuilders);for(v=0;v<this.valueCount.seriesBuilders.length;v++){var q=this.valueCount.seriesBuilders[v];q.populateColumns(t)&&u.push(q)}for(;0<t.length;){q=new h;q.addColumnReader(0,"x");v=t.indexOf(0);-1!==v&&t.splice(v,1);for(v=0;v<this.valueCount.global;v++){q.addColumnReader(void 0,this.valueCount.globalPointArrayMap[v])}q.populateColumns(t)&&u.push(q)}0<u.length&&0<u[0].readers.length&&(q=z[u[0].readers[0].columnIndex],void 0!==q&&(q.isDatetime?x="datetime":q.isNumeric||(x="category")));if("category"===x){for(v=0;v<u.length;v++){for(q=u[v],t=0;t<q.readers.length;t++){"x"===q.readers[t].configName&&(q.readers[t].configName="name")}}}for(v=0;v<u.length;v++){q=u[v];t=[];for(w=0;w<z[0].length;w++){t[w]=q.read(z,w)}n[v]={data:t};q.name&&(n[v].name=q.name);"category"===x&&(n[v].turboThreshold=0)}z={series:n};x&&(z.xAxis={type:x},"category"===x&&(z.xAxis.uniqueNames=!1));y.complete&&y.complete(z);y.afterComplete&&y.afterComplete(z)}},update:function(n,q){var d=this.chart;n&&(n.afterComplete=function(t){t&&(t.xAxis&&d.xAxis[0]&&t.xAxis.type===d.xAxis[0].options.type&&delete t.xAxis,d.update(t,q,!0))},g(!0,d.options.data,n),this.init(d.options.data))}});j.Data=e;j.data=function(n,q,d){return new e(n,q,d)};m(s,"init",function(q){var u=this,n=q.args[0]||{},t=q.args[1];n&&n.data&&!u.hasDataDef&&(u.hasDataDef=!0,u.data=new e(l(n.data,{afterComplete:function(d){var w;if(Object.hasOwnProperty.call(n,"series")){if("object"===typeof n.series){for(w=Math.max(n.series.length,d&&d.series?d.series.length:0);w--;){var v=n.series[w]||{};n.series[w]=g(v,d&&d.series?d.series[w]:{})}}else{delete n.series}}n=g(d,n);u.init(n,t)}}),n,u),q.preventDefault())});var h=function(){this.readers=[];this.pointIsArray=!0};h.prototype.populateColumns=function(d){var n=!0;this.readers.forEach(function(q){void 0===q.columnIndex&&(q.columnIndex=d.shift())});this.readers.forEach(function(q){void 0===q.columnIndex&&(n=!1)});return n};h.prototype.read=function(n,u){var d=this.pointIsArray,t=d?[]:{};this.readers.forEach(function(w){var v=n[w.columnIndex][u];d?t.push(v):0<w.configName.indexOf(".")?j.Point.prototype.setNestedProperty(t,v,w.configName):t[w.configName]=v});if(void 0===this.name&&2<=this.readers.length){var q=this.getReferencedColumnIndexes();2<=q.length&&(q.shift(),q.sort(function(w,v){return w-v}),this.name=n[q.shift()].name)}return t};h.prototype.addColumnReader=function(d,n){this.readers.push({columnIndex:d,configName:n});"x"!==n&&"y"!==n&&void 0!==n&&(this.pointIsArray=!1)};h.prototype.getReferencedColumnIndexes=function(){var n,q=[];for(n=0;n<this.readers.length;n+=1){var d=this.readers[n];void 0!==d.columnIndex&&q.push(d.columnIndex)}return q};h.prototype.hasReader=function(n){var q;for(q=0;q<this.readers.length;q+=1){var d=this.readers[q];if(d.configName===n){return !0}}}});a(b,"masters/modules/data.src.js",[],function(){})});