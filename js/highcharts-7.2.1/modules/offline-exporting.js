(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(a){b(a);b.Highcharts=a;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function c(f,h,g,e){f.hasOwnProperty(h)||(f[h]=e.apply(null,g))}b=b?b._modules:{};c(b,"mixins/download-url.js",[b["parts/Globals.js"]],function(h){var l=h.win,i=l.navigator,e=l.document,k=l.URL||l.webkitURL||l,j=/Edge\/\d+/.test(i.userAgent);h.dataURLtoBlob=function(d){if((d=d.match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<d.length&&l.atob&&l.ArrayBuffer&&l.Uint8Array&&l.Blob&&k.createObjectURL){var f=l.atob(d[3]),n=new l.ArrayBuffer(f.length);n=new l.Uint8Array(n);for(var m=0;m<n.length;++m){n[m]=f.charCodeAt(m)}d=new l.Blob([n],{type:d[1]});return k.createObjectURL(d)}};h.downloadURL=function(n,g){var d=e.createElement("a");if("string"===typeof n||n instanceof String||!i.msSaveOrOpenBlob){if(j||2000000<n.length){if(n=h.dataURLtoBlob(n),!n){throw Error("Failed to convert to blob")}}if(void 0!==d.download){d.href=n,d.download=g,e.body.appendChild(d),d.click(),e.body.removeChild(d)}else{try{var m=l.open(n,"chart");if(void 0===m||null===m){throw Error("Failed to open window")}}catch(a){l.location.href=n}}}else{i.msSaveOrOpenBlob(n,g)}}});c(b,"modules/offline-exporting.src.js",[b["parts/Globals.js"],b["parts/Utilities.js"]],function(s,t){function q(e,g){var f=r.getElementsByTagName("head")[0],l=r.createElement("script");l.type="text/javascript";l.src=e;l.onload=g;l.onerror=function(){s.error("Error loading script "+e)};f.appendChild(l)}var n=t.extend,h=s.addEvent;t=s.merge;var m=s.win,o=m.navigator,r=m.document,k=m.URL||m.webkitURL||m,i=/Edge\/|Trident\/|MSIE /.test(o.userAgent),j=i?150:0;s.CanVGRenderer={};s.svgToDataUrl=function(d){var e=-1<o.userAgent.indexOf("WebKit")&&0>o.userAgent.indexOf("Chrome");try{if(!e&&0>o.userAgent.toLowerCase().indexOf("firefox")){return k.createObjectURL(new m.Blob([d],{type:"image/svg+xml;charset-utf-16"}))}}catch(f){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(d)};s.imageToDataUrl=function(B,C,v,A,z,y,x,l,p){var w=new m.Image,D=function(){setTimeout(function(){var f=r.createElement("canvas"),d=f.getContext&&f.getContext("2d");try{if(d){f.height=w.height*A;f.width=w.width*A;d.drawImage(w,0,0,f.width,f.height);try{var a=f.toDataURL(C);z(a,C,v,A)}catch(u){E(B,C,v,A)}}else{x(B,C,v,A)}}finally{p&&p(B,C,v,A)}},j)},g=function(){l(B,C,v,A);p&&p(B,C,v,A)};var E=function(){w=new m.Image;E=y;w.crossOrigin="Anonymous";w.onload=D;w.onerror=g;w.src=B};w.onload=D;w.onerror=g;w.src=B};s.downloadSVGLocal=function(G,D,A,F){function K(p,f){f=new m.jsPDF("l","pt",[p.width.baseVal.value+2*f,p.height.baseVal.value+2*f]);[].forEach.call(p.querySelectorAll('*[visibility="hidden"]'),function(a){a.parentNode.removeChild(a)});m.svg2pdf(p,f,{removeInvalid:!0});return f.output("datauristring")}function J(){y.innerHTML=G;var f=y.getElementsByTagName("text"),p;[].forEach.call(f,function(u){["font-family","font-size"].forEach(function(v){for(var w=u;w&&w!==y;){if(w.style[v]){u.style[v]=w.style[v];break}w=w.parentNode}});u.style["font-family"]=u.style["font-family"]&&u.style["font-family"].split(" ").splice(-1);p=u.getElementsByTagName("title");[].forEach.call(p,function(v){u.removeChild(v)})});f=K(y.firstChild,0);try{s.downloadURL(f,E),F&&F()}catch(a){A(a)}}var g=!0,x=D.libURL||s.getOptions().exporting.libURL,y=r.createElement("div"),B=D.type||"image/png",E=(D.filename||"chart")+"."+("image/svg+xml"===B?"svg":B.split("/")[1]),l=D.scale||1;x="/"!==x.slice(-1)?x+"/":x;if("image/svg+xml"===B){try{if("undefined"!==typeof o.msSaveOrOpenBlob){var e=new MSBlobBuilder;e.append(G);var d=e.getBlob("image/svg+xml")}else{d=s.svgToDataUrl(G)}s.downloadURL(d,E);F&&F()}catch(H){A(H)}}else{if("application/pdf"===B){m.jsPDF&&m.svg2pdf?J():(g=!0,q(x+"jspdf.js",function(){q(x+"svg2pdf.js",function(){J()})}))}else{d=s.svgToDataUrl(G);var I=function(){try{k.revokeObjectURL(d)}catch(a){}};s.imageToDataUrl(d,B,{},l,function(f){try{s.downloadURL(f,E),F&&F()}catch(p){A(p)}},function(){var z=r.createElement("canvas"),v=z.getContext("2d"),w=G.match(/^<svg[^>]*width\s*=\s*"?(\d+)"?[^>]*>/)[1]*l,a=G.match(/^<svg[^>]*height\s*=\s*"?(\d+)"?[^>]*>/)[1]*l,p=function(){v.drawSvg(G,0,0,w,a);try{s.downloadURL(o.msSaveOrOpenBlob?z.msToBlob():z.toDataURL(B),E),F&&F()}catch(f){A(f)}finally{I()}};z.width=w;z.height=a;m.canvg?p():(g=!0,q(x+"rgbcolor.js",function(){q(x+"canvg.js",function(){p()})}))},A,A,function(){g&&I()})}}};s.Chart.prototype.getSVGForLocalExport=function(J,G,H,I){var F=this,C=0,E,z,A,D,B=function(){C===x.length&&I(F.sanitizeSVG(E.innerHTML,z))},y=function(d,e,f){++C;f.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",d);B()};F.unbindGetSVG=h(F,"getSVG",function(a){z=a.chartCopy.options;E=a.chartCopy.container.cloneNode(!0)});F.getSVGForExport(J,G);var x=E.getElementsByTagName("image");try{if(!x.length){I(F.sanitizeSVG(E.innerHTML,z));return}var u=0;for(A=x.length;u<A;++u){var L=x[u];(D=L.getAttributeNS("http://www.w3.org/1999/xlink","href"))?s.imageToDataUrl(D,"image/png",{imageElement:L},J.scale,y,H,H,H):(++C,L.parentNode.removeChild(L),B())}}catch(K){H(K)}F.unbindGetSVG()};s.Chart.prototype.exportChartLocal=function(f,p){var u=this,v=s.merge(u.options.exporting,f),l=function(d){!1===v.fallbackToExportServer?v.error?v.error(v,d):s.error(28,!0):u.exportChart(v)};f=function(){return[].some.call(u.container.getElementsByTagName("image"),function(d){d=d.getAttribute("href");return""!==d&&0!==d.indexOf("data:")})};i&&u.styledMode&&(s.SVGRenderer.prototype.inlineWhitelist=[/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/]);i&&("application/pdf"===v.type||u.container.getElementsByTagName("image").length&&"image/svg+xml"!==v.type)||"application/pdf"===v.type&&f()?l("Image type not supported for this chart/browser."):u.getSVGForLocalExport(v,p,l,function(d){-1<d.indexOf("<foreignObject")&&"image/svg+xml"!==v.type?l("Image type not supportedfor charts with embedded HTML"):s.downloadSVGLocal(d,n({filename:u.getFilename()},v),l)})};t(!0,s.getOptions().exporting,{libURL:"https://code.highcharts.com/7.2.1/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}})});c(b,"masters/modules/offline-exporting.src.js",[],function(){})});