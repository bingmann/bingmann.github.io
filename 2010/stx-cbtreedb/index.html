<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=iso-8859-1" http-equiv="content-type" /><meta name="viewport" content="initial-scale=1"><title>STX Constant B-Tree Database Template Classes - panthema.net</title><link rel="stylesheet" type="text/css" href="/css/base.css" /><link rel="stylesheet" type="text/css" href="/css/fonts.css" /><link rel="alternate" type="application/rss+xml" title="panthema.net Weblog Feed RSS 2.0" href="http://panthema.net/xmlfeed/weblog-rss20.xml" /><link rel="alternate" type="application/atom+xml" title="panthema.net Weblog Feed Atom 1.0" href="http://panthema.net/xmlfeed/weblog-atom10.xml" /><script type="text/javascript" src="/js/base.js"></script><script type="text/javascript">/* <!-- */makeIEHover = function() {var lis = document.getElementById('ptnav').getElementsByTagName('li');for (var i = 0; i < lis.length; i++) {lis[i].onmouseover = function() {this.className += ' sfhover';};lis[i].onmouseout = function() {this.className = this.className.replace(new RegExp(' sfhover\b'), '');};}};if (window.attachEvent) window.attachEvent('onload', makeIEHover);/* --> */</script></head><body style="background-image: url(/img/bgfractal8.jpg)"><div class="pttopbar"><div style="float: right"><ul id="ptnav"><li class="top"><a class="ni" href="/"><i class="icon-book"></i> Weblog</a><ul style="margin-left: -6px; margin-top: 4px" class="nx"><li><a href="/2015/">2015</a></li><li><a href="/2014/">2014</a></li><li><a href="/2013/">2013</a></li><li><a href="/2012/">2012</a></li><li><a href="/2011/">2011</a></li><li><a href="/2010/">2010</a></li><li><a href="/2009/">2009</a></li><li><a href="/2008/">2008</a></li><li><a href="/2007/">2007</a></li><li><a href="/2006/">2006</a></li><li class="nt"><a href="/2005/">2005</a></li><li class="ns"><a href="/xmlfeed/weblog-rss20.xml">RSS Feed</a></li><li class="nt"><a href="/xmlfeed/weblog-atom10.xml">XML Atom</a></li><li class="ns"><a href="/search.html">Search</a></li></ul></li><li class="top"><a class="ni" href="/tags/"><i class="icon-tags"></i> Tags</a><div style="width: 14em; margin-left: -9em; margin-top: 4px"><a style="font-size: 10pt" href="/tags/algebra.html">algebra</a> <a style="font-size: 16pt" href="/tags/c++.html">c++</a> <a style="font-size: 12pt" href="/tags/code-example.html">code-example</a> <a style="font-size: 14pt" href="/tags/code-snippet.html">code-snippet</a> <a style="font-size: 11pt" href="/tags/coding_tricks.html">coding tricks</a> <a style="font-size: 10pt" href="/tags/compsci.html">compsci</a> <a style="font-size: 10pt" href="/tags/compsci_study_thesis.html">compsci study thesis</a> <a style="font-size: 9pt" href="/tags/crypto-speedtest.html">crypto-speedtest</a> <a style="font-size: 10pt" href="/tags/cryptography.html">cryptography</a> <a style="font-size: 9pt" href="/tags/cryptote.html">cryptote</a> <a style="font-size: 12pt" href="/tags/flex-bison-cpp-example.html">flex-bison-cpp-example</a> <a style="font-size: 16pt" href="/tags/frontpage.html">frontpage</a> <a style="font-size: 14pt" href="/tags/fun.html">fun</a> <a style="font-size: 10pt" href="/tags/graphviz.html">graphviz</a> <a style="font-size: 9pt" href="http://www.hmtg.de">hartmetall</a> <a style="font-size: 9pt" href="/tags/helppc.html">helppc</a> <a style="font-size: 9pt" href="/tags/hifi_selbstbau.html">hifi selbstbau</a> <a style="font-size: 10pt" href="/tags/latex.html">latex</a> <a style="font-size: 10pt" href="/tags/librivox.html">librivox</a> <a style="font-size: 10pt" href="/tags/linux.html">linux</a> <a style="font-size: 9pt" href="/tags/massive-sorting.html">massive-sorting</a> <a style="font-size: 10pt" href="/tags/maths.html">maths</a> <a style="font-size: 9pt" href="/tags/music.html">music</a> <a style="font-size: 10pt" href="/tags/netfundamentals.html">netfundamentals</a> <a style="font-size: 11pt" href="/tags/ns-3.html">ns-3</a> <a style="font-size: 10pt" href="/tags/parallel-string-sorting.html">parallel-string-sorting</a> <a style="font-size: 9pt" href="/tags/qtsqlview.html">qtsqlview</a> <a style="font-size: 12pt" href="/tags/research.html">research</a> <a style="font-size: 11pt" href="/tags/sdios06.html">sdios06</a> <a style="font-size: 9pt" href="/tags/sdlfractal.html">sdlfractal</a> <a style="font-size: 13pt" href="/tags/sorting.html">sorting</a> <a style="font-size: 10pt" href="/tags/stringology.html">stringology</a> <a style="font-size: 16pt" href="/tags/stx-btree.html">stx-btree</a> <a style="font-size: 9pt" href="/tags/stx-exparser.html">stx-exparser</a> <a style="font-size: 14pt" href="/tags/stxxl.html">stxxl</a> <a style="font-size: 16pt" href="/tags/talk.html">talk</a> <a style="font-size: 10pt" href="/tags/tutorium.html">tutorium</a> <a style="font-size: 16pt" href="/tags/university.html">university</a> <a style="font-size: 13pt" href="/tags/utilities.html">utilities</a> <a style="font-size: 10pt" href="/tags/vncrec.html">vncrec</a> <a style="font-size: 9pt" href="/tags/webdesign.html">webdesign</a> </div></li><li class="top"> <a class="ni" href="#"><i class="icon-cubes"></i> Projects</a> <ul style="margin-left: -8em; margin-top: 4px;" class="nx"> <li><a href="/2009/cryptote/">CryptoTE</a></li> <li><a href="/2009/digup/">digup</a></li> <li><a href="/2013/disk-filltest/">disk-filltest</a></li> <li><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">eSAIS-LCP</a></li> <li><a href="/2007/flex-bison-cpp-example/">Flex Bison C++ Example</a></li> <li><a href="/2013/malloc_count/">malloc_count</a></li> <li><a href="/2013/parallel-string-sorting/">parallel-string-sorting</a></li> <li><a href="/2013/pmbw/">Parallel Memory Bandwidth</a></li> <li><a href="/2014/sqlplot-tools/">SqlPlotTools</a></li> <li><a href="/2013/sound-of-sorting/">The Sound of Sorting</a></li> <li><a href="/2007/stx-btree/">STX B+ Tree</a></li> <li><a href="/2010/stx-cbtreedb/">STX Constant BTreeDB</a></li> <li><a href="/2010/stx-execpipe/">STX ExecPipe</a></li> <li><a href="/2007/stx-exparser/">STX Expression Parser</a></li> <li><a href="/tags/stxxl.html">STXXL 1.4</a></li> <li class="nt"><a href="/2014/vncrec-rgb/">VNCrec RGB 0.4</a></li> <li class="ns"><a href="/search.html">Search</a></li> </ul></li><li class="top"> <a class="ni" href="#"><i class="icon-graduation-cap"></i> Research</a> <ul style="margin-left: -16em; margin-top: 4px" class="nx"> <li><a href="/2012/1119-eSAIS-Inducing-Suffix-and-LCP-Arrays-in-External-Memory/">eSAIS-LCP - External Memory Suffix Sorting</a></li> <li><a href="/2013/parallel-string-sorting/">Parallel String Sorting</a></li> <li><a href="/tags/massive-sorting.html">Practical Massively Parallel Sorting</a></li> <li><a href="/tags/stxxl.html">STXXL - External Memory Algorithms</a></li> <li class="ns"><a href="/search.html">Search</a></li> </ul></li><li class="top"> <a class="ni" href="/about/"><i class="icon-info-circled"></i> About</a> <ul style="margin-left: -6em; margin-top: 4px" class="nx"> <li><a href="/about/">Timo Bingmann</a></li> <li><a href="/about/impressum.html">Impressum</a></li> </ul></li><li class="top"> <a class="ni" href="/subscribe.html"><i class="icon-rss-squared"></i> Subscribe</a></li></ul></div><div style="padding: 6px"><a href="/">panthema</a>  / <a href="/2010/">2010</a> / <a href="/2010/stx-cbtreedb/">stx-cbtreedb</a></div></div><div class="pttextcontent"><div style="float: right; clear: right; margin: 12pt 0pt 12pt 12pt; font-size: smaller; text-align: center" class="aimg"><a href="/2010/stx-cbtreedb/"><img src="/2010/stx-cbtreedb/thumb.jpg" width="300" height="185" alt="Thumbnail of structure of the packed, sequential B-tree" title="Thumbnail of structure of the packed, sequential B-tree" /></a></div><h1>STX Constant B-Tree Database Template Classes</h1><div class="sbframe" style="height: 16em; width: 248px"><a id="shoutbox"></a><table class="sbtable"> <tr><td class="a0">TalkBox</td></tr> <tr> <td title="2013-02-27 09:22 UTC" class="d0"> <a href="http://www.gravatar.com/4fd90a5a5fda15a16764d1bdbdaf9008" rel="nofollow"> <img src="/img/gravatar/4fd90a5a5fda15a16764d1bdbdaf9008-34.jpg" width="34" height="34" class="sbimg" alt="Gravatar" /> </a> <b><a href="http://www.gravatar.com/4fd90a5a5fda15a16764d1bdbdaf9008" rel="nofollow">Timo</a></b>: Alexey: the library works just like you expected it to: constant keys are mapped to variable length data blobs.<br /> </td></tr><tr> <td title="2013-02-27 08:15 UTC" class="d0"> <a href="http://www.gravatar.com/150d6ca5347234c29032fd9fb539fae1" rel="nofollow"> <img src="/img/gravatar/150d6ca5347234c29032fd9fb539fae1-34.jpg" width="34" height="34" class="sbimg" alt="Gravatar" /> </a> <b><a href="http://www.gravatar.com/150d6ca5347234c29032fd9fb539fae1" rel="nofollow">Alexey</a></b>: Thanks, Timo! :-) This thing is ugly fast on reading! But will this thing break if I will pump it with variable-sized blobs ( having constant-size keys, however )? Thanks in advance!<br /> </td></tr><tr> <td title="2012-10-07 11:19 UTC" class="d0"> <a href="http://www.gravatar.com/af715ce89694e2976e0cc44b9b91a964" rel="nofollow"> <img src="/img/gravatar/af715ce89694e2976e0cc44b9b91a964-34.jpg" width="34" height="34" class="sbimg" alt="Gravatar" /> </a> <b><a href="http://www.gravatar.com/af715ce89694e2976e0cc44b9b91a964" rel="nofollow">Timo</a></b>: Yes, the node sizes are configureable from the template parameter PageSize and all nodes are concatenated on disk. </td></tr><tr> <td title="2012-10-05 18:25 UTC" class="d0"> <a href="https://github.com/ArtemGr" rel="nofollow"> <img src="/img/gravatar/fba1f9ded410f483cf883a13032de561-34.jpg" width="34" height="34" class="sbimg" alt="Gravatar" /> </a> <b><a href="https://github.com/ArtemGr" rel="nofollow">Artem</a></b>: Are the nodes page-aligned? </td></tr><tr> <td title="2010-07-15 11:58 UTC" class="d0"> <a href="http://www.gravatar.com/af715ce89694e2976e0cc44b9b91a964" rel="nofollow"> <img src="/img/gravatar/af715ce89694e2976e0cc44b9b91a964-34.jpg" width="34" height="34" class="sbimg" alt="Gravatar" /> </a> <b><a href="http://www.gravatar.com/af715ce89694e2976e0cc44b9b91a964" rel="nofollow">Timo</a></b>: The two b-tree libraries are only related in ideas and underlying data structure. They do not share source code and are independent from each other. </td></tr><tr> <td title="2010-07-15 09:57 UTC" class="d0"> <a href="http://twitter.com/trungthanhmtad" rel="nofollow"> <img src="/img/gravatar/d39d574354d4a8cc95324607f26be382-34.jpg" width="34" height="34" class="sbimg" alt="Gravatar" /> </a> <b><a href="http://twitter.com/trungthanhmtad" rel="nofollow">thanhnt</a></b>: is CBTreeDB related to stx::btree? </td></tr>  <tr style="display: none" id="newpost_div"><td class="d1"><a href="http://www.gravatar.com/" id="newpost_imgurl" rel="nofollow"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAAAXNSR0IArs4c6QAAAApJREFUCB1j+A8AAQEBADZfZ4AAAAAASUVORK5CYII=" width="34" height="34" class="sbimg" id="newpost_img" alt="Gravatar" /></a><b><span id="newpost_name">Name</span></b>: <span id="newpost_body">Text</span></td></tr><tr><td class="d1"><form id="noteform" method="post" action="/sendpost.php"><div style="margin: 2px; text-align: center"><input type="hidden" name="previewok" value="0" /><input type="hidden" name="posturi" value="/2010/stx-cbtreedb/" /><input type="text" name="postname" size="30" value="Name" style="width: 95%" class="sbedit" onfocus="if (value == 'Name') { value=''; }" onblur="if (value == '') { value='Name'; }" /><br /><input type="text" name="postmail" size="30" value="Homepage/Gravatar E-Mail" style="width: 95%" class="sbedit" onfocus="if (value == 'Homepage/Gravatar E-Mail') { value=''; }" onblur="if (value == '') { value='Homepage/Gravatar E-Mail'; }" /><br /><textarea name="postbody" cols="30" rows="2" style="width: 95%" class="sbtext" onfocus="if (value == 'Text') { value=''; }" onblur="if (value == '') { value='Text'; }">Text</textarea><br /><input type="button" name="Preview" value="Preview" onclick="return sbform_submit()" class="sbbutton" /><input type="submit" name="Submit" value="Submit" disabled="disabled" id="newpost_submit" class="sbbutton" /></div></form></td></tr></table></div><p class="info">Posted on 2010-04-14 by <a href="/about/">Timo Bingmann</a><a href="http://plus.google.com/+TimoBingmann?rel=author"></a> at <a href="/2010/stx-cbtreedb/">Permlink</a>.</p><h2>Summary</h2><p>The stx::CBTreeDB is a collection of C++ classes with which <b>read-only key-value database</b> files can be created and read. A database efficiently maps a large number of integral fixed-length keys to opaque binary value blobs. Variable-length or duplicate keys are currently not supported. Keys are organized into a <b>highly compact index structure</b>, which is very similar to a B-tree and allows very fast key lookups. Both keys and values are <b>stored in order</b> and thus queries in a <b>local proximity</b> can benefit from caching effects. All applications mapping a large number of constant, integral keys to string or data blobs can benefit from this library.</p><p>Key features of the database classes are:</p><ul> <li>key locality due to ordered storage of keys and values</li> <li>lookups in close proximity benefit from caching effects</li> <li>fixed-length integral keys</li> <li>opaque binary blobs as values</li> <li>compact B-tree-like index structure</li> <li>sequential storage of value data with minimal overhead</li> <li>O(1) page cache to keep hot pages in memory</li> <li>simple C++ API for <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1Reader.html">Reader</a> and two <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1Writer.html">Writer</a> classes</li> <li>CRC32 checksum of header and SHA256 digest of b-tree and value data for integrity</li> <li>extensive test suite with 91.3% line coverage</li></ul><p>The complete B-tree source code is contained in the header file in <a href="stx-cbtreedb-0.7.0/doxygen-html/stx-cbtreedb_8h_source.html">doxygen stx-cbtreedb.h</a> or with plain text comments <a href="stx-cbtreedb-0.7.0/include/stx-cbtreedb.h.html">stx-cbtreedb.h</a>.</p><p>The main header code is covered to 91.3% by test cases. A graphical display of the <a href="stx-cbtreedb-0.7.0-coverage/">test suite&apos;s coverage</a> can be viewed online.</p><p>See the <a href="#readme">README file</a> below for a more detailed overview.</p><h2><a id="downloads"></a>Downloads</h2><table class="darkfullframe"> <tr> <td colspan="3"><b>STX Constant B-Tree Database Template Classes Version 0.7.0</b> (current) released 2010-04-14</td> </tr> <tr> <td rowspan="2">Source code archive:<br />(includes Doxygen HTML)</td> <td rowspan="2"><a href="stx-cbtreedb-0.7.0.tar.bz2">Download stx-cbtreedb-0.7.0.tar.bz2 (480kb)</a><br /><tt>MD5: 0832044ee1abcfa001e0ff2d47d068c0</tt></td> <td><a href="stx-cbtreedb-0.7.0/">Browse online</a></td> </tr> <tr> <td>&amp;nbsp;</td> </tr> <tr> <td>Extensive Documentation:</td> <td colspan="2"><a href="stx-cbtreedb-0.7.0/doxygen-html/index.html">Browse documentation online</a></td> </tr></table><h2><a id="license"></a>License</h2><p>The B-tree source code is released under the <a class="exp" href="http://www.gnu.org/licenses/lgpl.html">GNU Lesser General Public License v2.1 (LGPL)</a> which can be found in the file COPYING. Other parts of the source code were copied from the Botan library and are under a BSD-license.</p><h2><a id="git"></a>Git Repository</h2><p>The git repository containing all sources and packages is fetchable by running <code>git clone <a href="https://github.com/bingmann/stx-cbtreedb">https://github.com/bingmann/stx-cbtreedb.git</a></code><br />Some further drawings and history may also available there.</p><h2><a id="readme"></a>README</h2><div class="cite"><h2>Original Application</h2><p>The original purpose of this library is to organize lookups of 32-bit integer identifiers to constant data blobs. In my application a few million non-sequential identifier keys are mapping to data blobs, which are unalterable short strings or small (1-10 kb) data files. Most key lookups occur in close proximity, usually in ascending order.</p><p>The resulting data volume is around 20 GB in size and was previously stored using the BerkeleyDB library. However, since the key and values in my application are read-only, the overhead both in file size and processing time introduced by BerkeleyDB became unacceptable. Using <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB.html">stx::CBTreeDB</a> access to the value records is faster than before, and file sizes were reduced to a minimum due to the compact sequential storage in the read-only databases.</p><p>An alternative to the B-tree database classes are the well-known cdb or tinycdb libraries. However, these are basically hash tables and thus do not preserve key locality. Thus retrieval of 10 keys in ascending order requires 10 disk accesses at pseudo-random places in the database. With the B-tree library the disk areas read are stored in ascending order, just like the keys.</p><h2>Design Principles and Database Architecture</h2><p>Most design principles follow directly from the intended application.</p><p>Maybe the most important design aspect was to store the data blobs without separation in the most compact way possible. Thus the read-only database file simply stores all data blobs in sequence, without putting them onto data pages or similar overhead typical of a read-write database.</p><p>To accelerate key lookups an index structure very similar to a B-tree is prepended to the data area. This &quot;packed, sequential&quot; B-tree is constructed by the Writer classes and only differs from the original B-tree in one aspect. The nodes of each level containing the highest keys may be less than half full. The basic idea of the &quot;packed, sequential&quot; B-tree is to use only full nodes and creating inner nodes and levels as needed. All nodes except the one with the highest key are full! Thus the number of nodes used by the search tree is minimal and all lookup properties of the B-tree are retained. A drawing of the B-tree structure can be seen below:</p><div style="text-align: center"><p>Structure of the packed, sequential B-tree</p><object type="image/svg+xml" data="stx-cbtreedb-0.7.0/doxygen-html/drawing-2.svg" style="width: 90%; max-height: 20em"><p>SVG viewer required</p></object></div><p>All B-tree nodes are stored &quot;in order&quot; after the database file&apos;s header. The root node is always first, followed by all nodes of the next level, which in turn are followed by the next level until the leaf level is reached.</p><p>See the corresponding structures for the data fields in these nodes: <a href="stx-cbtreedb-0.7.0/doxygen-html/structstx_1_1CBTreeDB_1_1InnerNode.html">stx::CBTreeDB::InnerNode</a> and <a href="stx-cbtreedb-0.7.0/doxygen-html/structstx_1_1CBTreeDB_1_1LeafNode.html">stx::CBTreeDB::LeafNode</a>. These structures use some less obvious optimizations to further reduce overhead:</p><p>The in order storage of all B-tree nodes makes saving of offsets for each child node of an inner node unnecessary: the n+1 children nodes are stored consecutively starting after the first node. Thus the page offset of a child node can be calculated from only the first node&apos;s offset and the child number. This optimization removes about half of ordinarily needed fields in an inner node (<a href="stx-cbtreedb-0.7.0/doxygen-html/structstx_1_1CBTreeDB_1_1InnerNode.html">stx::CBTreeDB::InnerNode</a>) and allows a higher fan-out.</p><p>Each leaf node (<a href="stx-cbtreedb-0.7.0/doxygen-html/structstx_1_1CBTreeDB_1_1LeafNode.html">stx::CBTreeDB::LeafNode</a>) contains both an array of keys and corresponding data offsets. For size optimization all data offsets are 32-bit values relative to a base 64-bit starting offset. This reduces the size of the offset array and allows more keys to fit into a leaf node. This also imposes a restriction on data size: the sum of all data handled by one leaf must not exceed 2^32. This constraint is currently unchecked by the library, but should not occur in practice. Data sizes are calculated from subsequent data offsets. Furthermore, each leaf node contains one more offset number than strictly necessary: the offset of the data item following the highest key in the leaf. This offset is used to calculate the data size for the highest key without requiring retrieval of the following leaf.</p><h2>Implementation Overview</h2><p>All classes of the cbtreedb library are enclosed in the top-level template class <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>. This class is parametrized by two types and two integer values. See the <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB.html#_details">class documentation</a> for more information on the template parameters.</p><p>The library contains two writer classes, which are used to create read-only databases from a set of key-value pairs. The difference between the two classes is the order in which key-value pairs are delivered to the class. The <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1Writer.html">stx::CBTreeDB::Writer</a> allows keys to be added in <b>random order</b> to the internal std::map. When finished the B-tree is constructed and the whole set is written to the database in one function call.</p><p>The obvious problem with Writer is that with large databases all key-value data must be stored in memory until written. This prohibits use of this writer class for very large databases, which are a main goal of the library. For purpose of writing large databases the sequential writer class <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1WriterSequential.html">stx::CBTreeDB::WriterSequential</a> can be used. With this writer the key sequence must be delivered <b>in ascending order</b> and the database is constructed in two phases: in the first phase key and value-lengths are <i>declared</i> and the B-tree is constructed, and in the second phase the key-value pairs are <i>delivered</i> and written directly to the file with no extra buffering.</p><p>Note that both writer classes create _identical_ databases for equal input sets.</p><p>There is only one <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1Reader.html">stx::CBTreeDB::Reader</a> class. The Reader class itself is a pointer implementation to a referenced counted implementation object (<a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1ReaderImpl.html">stx::CBTreeDB::ReaderImpl</a>), so you can easily copy Reader objects. Note however, that non of the classes are reentrent or thread-safe. For multi-threaded applications access must be guarded by mutexes, patches welcome.</p><p>Each Reader object may optionally have an associated <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1PageCache.html">stx::CBTreeDB::PageCache</a> object, which is then used to cache hot B-tree pages like the root. The PageCache contains the most recently used pages (LRU replacement strategy) up to the maximum number specified. It features a structure allowing O(1) Store() and Retrieve() functions. A PageCache object can be shared between different database Readers. For more information see the corresponding documentation page.</p><p>A Reader object can load exactly one database using the <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1Reader.html#ad4653b248da59d01ef55890f2004047c">Open()</a> function. Note that the class template parameters must match those used to write the database. Some parameters are checked by the Open() function and appropriate error messages are returned.</p><p>Once opened the database can be queried using <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1Reader.html#a2da743e3f6302a950f0ce26d01268b80">Exists()</a>, <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1Reader.html#ac4473a0cdd049876c7f8f98de452841b">Lookup()</a>, <a href="stx-cbtreedb-0.7.0/doxygen-html/classstx_1_1CBTreeDB_1_1Reader.html#affb374aed822d0552e16c7627a8acdf1">GetIndex()</a> and the operator[] functions as if it were a map.</p><h2>Example Usage</h2><p>Please see the <a href="stx-cbtreedb-0.7.0/doxygen-html/index.html#sec_example">doxygen HTML documentation</a> for example usage of the Reader and Writer classes.</p></div></div><div style="text-align: right; padding: 8pt; font-size: 12px"><a href="/xmlfeed/weblog-rss20.xml"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPAgMAAAAOp6AcAAAADFBMVEVmZmb/ZgD///+JjnlbTUWmAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABQAAAADwCexKkxAAAAWUlEQVQYlWNgwAa0VmGAFQyqoSCQ/x8J/CBFMCt0ZdTU/F/7/+1HEkydFpoKVPn+93sUlUujQvP/7UcRTAuNDJ2a//s/imDqtKVZofm/1qGYSZk7sfodGwAAiobBJtffoNAAAAAASUVORK5CYII=" alt="RSS 2.0 Weblog Feed" width="80" height="15"/></a> <a href="/xmlfeed/weblog-atom10.xml"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPAgMAAAAOp6AcAAAADFBMVEVmZmb/ZgD///+JjnlbTUWmAAAAaklEQVQYlWNgwAa0VmGAFQyqoSCQ/x8J/CBFMDV16rTQ/H/7V//69+//v/3/9oMEI6cuAwr+fv/+/b5d///v//0eJBgWOhMo+Gs9UPAdXDBy6lSYyn9wQZCZS0GCYDPXQcykzJ1Y/Y4NAABKvL80wyoMPgAAAABJRU5ErkJggg==" alt="Atom 1.0 Weblog Feed" width="80" height="15"/></a> <a href="http://validator.w3.org/check?uri=referer"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAB1FBMVEUHQIgIRY0MN4QNRYoSRYsXUpIYVJQeUpUhWpgjUJMjWpgmU5QnXJkuYZ0uYpwwV5YyZJ4zaKM3ZaA5aaI6aqM6a6E8ZqA8Z6BAbaRBbqdCbaVHd61KSkpKcaZQUFBUf69UgbBVVVVXfq9Yg7NZhbJZh7RagrNeXVxeh7RfjLdgYGBiiLZmZmZnZ2doirhpkbt0m8F3m8B3ncJ5lb55ocR+ocSDgX+Do8eEpMqGhoaHp8iIpMeJjnmJpseKqMeOqsqPsdCQrcyVlZWVsM2Zs9CZtNCfu9ahoaGhuNShudSivNSjtMWjvNSmpqWnpqSrw9qvxNqyxdmyxdyzsK6zs7Ozx9y0xt21yN22tra4y+K80eK/v7/AwMDExMTEy9DH2ejK2+jM2ujN3uvP0dLR0NDR3uvS3uvS3+zU4u3V1dXY2dnY4u7Y4+3b5e/d3d3d5u/d5/De3t7f39/h4uLj4uHj6/Ll7PXm7fTn7/Xo7/Tp7/bq7Ozr6unr8ffw8PDw9vvx9fny+P7z8/Pz9vnz9vv3+fv4+vz5+vz6+vr6+/36/P36///7+/77/Pz7/f37/f78/Pz8/f38/f79/f39/f79/f/9/v79///+/v7+/v////3///+tYR2LAAABKklEQVQ4y2PQoTJg0JlNVYDPQBsyAMTAqaFes8tdsmdPCtA3MDStr3GKKK6myMAprgJ9pcpWs/MlRExYJBvNZLR0sigycHYOV1S7mtjsQJ4gf+HIFPXoWMs6qIGzIRiKZs9GFoEaMRuZhhrYqqJXy8uZYauRxC/VHew7e3YTPAxnI5swG6JxNrKBNjB1EFmIgV0+HA6C8pqqzhXG7BbJJROQIwViMYQ7G2oDQQNn57JyG7kxiCfObrBmS5+BHMuYLkTzMnYDm5WY4lOZZRPKZocxes+aPbuwCFsYohiICLvZsKBAMrDTQ7K/StveU8icTzrOL8JdLpOyWJ49u8Bx9ozw8DY7UYW03hhdxZAOSg2c3jN79rSJs1vSKmfOnpFXNJmynELlvExlAADnaZpLFGEC2wAAAABJRU5ErkJggg==" alt="Valid XHTML 1.1" width="80" height="15"/></a> <a href="http://jigsaw.w3.org/css-validator/check/referer"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAMAAABEF7i9AAAB1FBMVEUHQIgIRY0MN4QNRYoSRYsXUpIYVJQeUpUhWpgjUJMjWpgmU5QnXJkuYZ0uYpwwV5YyZJ4zaKM3ZaA5aaI6aqM6a6E8ZqA8Z6BAbaRBbqdCbaVHd61KSkpKcaZQUFBUf69UgbBVVVVXfq9Yg7NZhbJZh7RagrNeXVxeh7RfjLdgYGBiiLZmZmZnZ2doirhpkbt0m8F3m8B3ncJ5lb55ocR+ocSDgX+Do8eEpMqGhoaHp8iIpMeJjnmJpseKqMeOqsqPsdCQrcyVlZWVsM2Zs9CZtNCfu9ahoaGhuNShudSivNSjtMWjvNSmpqWnpqSrw9qvxNqyxdmyxdyzsK6zs7Ozx9y0xt21yN22tra4y+K80eK/v7/AwMDExMTEy9DH2ejK2+jM2ujN3uvP0dLR0NDR3uvS3uvS3+zU4u3V1dXY2dnY4u7Y4+3b5e/d3d3d5u/d5/De3t7f39/h4uLj4uHj6/Ll7PXm7fTn7/Xo7/Tp7/bq7Ozr6unr8ffw8PDw9vvx9fny+P7z8/Pz9vnz9vv3+fv4+vz5+vz6+vr6+/36/P36///7+/77/Pz7/f37/f78/Pz8/f38/f79/f39/f79/f/9/v79///+/v7+/v////3///+tYR2LAAABEUlEQVQ4y2PQoTJg0JlNVYDPQBsyAMTAqaFes8tdsmdPCtA3MDStr3GKKK6myMAprgJ9pcpWs/MlRExYJBvNZLR0sigycHYOV1S7mtjsQJ4gf+HIFPXoWMs6mIEQCsIjwhKoga0qerW8nBm2Gkn8Ut3BvrNnN8HCcDYM2cBIogzs8uFwEJTXVHWuMGa3SC6ZgIgUqCEwdxJr4OxcVm4jNwbxxNkN1mzpM2ajGIjsPGK9PLtZiSk+lVk2oWx2GKP3rNmzC4tQwpDoIIQb2Okh2V+lbe8pZM4nHecX4S6XSVksz55d4Dh7Rnh4m52oQlpvjK5iSAelBk7vmT172sTZLWmVM2fPyCuaTFlOoXJepjIAANlljDGY/l5pAAAAAElFTkSuQmCC" alt="Valid CSS (2.1)" width="80" height="15"/></a><br/>Copyright 2005-2015 <a href="/about/">Timo Bingmann</a> - <a href="/about/impressum.html">Impressum</a></div><script type="text/javascript">var _paq = _paq || []; _paq.push(["trackPageView"]); _paq.push(["enableLinkTracking"]);(function() {var u=(("https:" == document.location.protocol) ? "https" : "http") + "://panthema.net/wik-331/"; _paq.push(["setTrackerUrl", u+"js/"]); _paq.push(["setSiteId", "2"]);var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";g.defer=true; g.async=true; g.src=u+"js/"; s.parentNode.insertBefore(g,s);})();</script><noscript><p><img src="http://panthema.net/wik-331/js/?idsite=2&amp;rec=1" style="border:0" alt="" /></p></noscript></body></html>