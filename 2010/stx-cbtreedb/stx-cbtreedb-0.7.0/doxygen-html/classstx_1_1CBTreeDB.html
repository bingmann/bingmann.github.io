<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>stx-cbtreedb: stx::CBTreeDB&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacestx.html">stx</a>::<a class="el" href="classstx_1_1CBTreeDB.html">CBTreeDB</a>
  </div>
</div>
<div class="contents">
<h1>stx::CBTreeDB&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt; Class Template Reference</h1><!-- doxytag: class="stx::CBTreeDB" -->
<p>Template super-class enclosing all classes which can operate on a constant B-tree database file.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for stx::CBTreeDB&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;:</div>
<div class="dynsection">
<div class="center"><img src="classstx_1_1CBTreeDB__coll__graph.png" border="0" usemap="#stx_1_1CBTreeDB_3_01__Key_00_01__Compare_00_01__BTreePageSize_00_01__AppVersionId_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="stx_1_1CBTreeDB_3_01__Key_00_01__Compare_00_01__BTreePageSize_00_01__AppVersionId_01_4_coll__map" id="stx_1_1CBTreeDB_3_01__Key_00_01__Compare_00_01__BTreePageSize_00_01__AppVersionId_01_4_coll__map">
<area shape="rect" id="node2" href="structstx_1_1CBTreeDB_1_1SignaturePage.html" title="Signature page which heads all cbtreedb files." alt="" coords="5,5,557,35"/><area shape="rect" id="node4" href="structstx_1_1CBTreeDB_1_1LeafNode.html" title="Leaf node structure of the B&#45;tree leaf pages." alt="" coords="21,59,541,88"/><area shape="rect" id="node6" href="structstx_1_1CBTreeDB_1_1InnerNode.html" title="Inner node structure of the B&#45;tree inner pages." alt="" coords="19,112,544,141"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classstx_1_1CBTreeDB-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1BTreeBuilder.html">BTreeBuilder</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classstx_1_1CBTreeDB_1_1BTreeBuilder.html" title="BTreeBuilder is used to construct an index very similar to a B-tree from an ordered...">BTreeBuilder</a> is used to construct an index very similar to a B-tree from an ordered sequence.  <a href="classstx_1_1CBTreeDB_1_1BTreeBuilder.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1BTreePage.html">BTreePage</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classstx_1_1CBTreeDB_1_1BTreePage.html" title="BTreePage is a reference-counted buffer holding one page of the B-tree index.">BTreePage</a> is a reference-counted buffer holding one page of the B-tree index.  <a href="classstx_1_1CBTreeDB_1_1BTreePage.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1CRC32.html">CRC32</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classstx_1_1CBTreeDB_1_1CRC32.html" title="CRC32 Cyclic redundancy check implementation class.">CRC32</a> Cyclic redundancy check implementation class.  <a href="classstx_1_1CBTreeDB_1_1CRC32.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1Exception.html">Exception</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Our own exception class derived from std::runtime_error.  <a href="classstx_1_1CBTreeDB_1_1Exception.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html">InnerNode</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inner node structure of the B-tree inner pages.  <a href="structstx_1_1CBTreeDB_1_1InnerNode.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html">LeafNode</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Leaf node structure of the B-tree leaf pages.  <a href="structstx_1_1CBTreeDB_1_1LeafNode.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1PageCache.html">PageCache</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classstx_1_1CBTreeDB_1_1PageCache.html" title="PageCache and PageCacheImpl implement a LRU-strategy cache of B-tree pages used by...">PageCache</a> and <a class="el" href="classstx_1_1CBTreeDB_1_1PageCacheImpl.html" title="PageCache and PageCacheImpl implement a LRU-strategy cache of B-tree pages used by...">PageCacheImpl</a> implement a LRU-strategy cache of B-tree pages used by <a class="el" href="classstx_1_1CBTreeDB.html" title="Template super-class enclosing all classes which can operate on a constant B-tree...">CBTreeDB</a> reader objects.  <a href="classstx_1_1CBTreeDB_1_1PageCache.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1PageCacheImpl.html">PageCacheImpl</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classstx_1_1CBTreeDB_1_1PageCache.html" title="PageCache and PageCacheImpl implement a LRU-strategy cache of B-tree pages used by...">PageCache</a> and <a class="el" href="classstx_1_1CBTreeDB_1_1PageCacheImpl.html" title="PageCache and PageCacheImpl implement a LRU-strategy cache of B-tree pages used by...">PageCacheImpl</a> implement a LRU-strategy cache of B-tree pages used by <a class="el" href="classstx_1_1CBTreeDB.html" title="Template super-class enclosing all classes which can operate on a constant B-tree...">CBTreeDB</a> reader objects.  <a href="classstx_1_1CBTreeDB_1_1PageCacheImpl.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1Reader.html">Reader</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Class used to read constant B-tree database files.  <a href="classstx_1_1CBTreeDB_1_1Reader.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html">ReaderImpl</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Implementation class used to read constant B-tree database files.  <a href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1SHA256.html">SHA256</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SHA-256 Message Digest implementation class.  <a href="classstx_1_1CBTreeDB_1_1SHA256.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstx_1_1CBTreeDB_1_1SignaturePage.html">SignaturePage</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Signature page which heads all cbtreedb files.  <a href="structstx_1_1CBTreeDB_1_1SignaturePage.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1Writer.html">Writer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classstx_1_1CBTreeDB_1_1Writer.html" title="Writer is used to construct an constant B-tree database from an unsorted input sequence...">Writer</a> is used to construct an constant B-tree database from an unsorted input sequence.  <a href="classstx_1_1CBTreeDB_1_1Writer.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1WriterSequential.html">WriterSequential</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="classstx_1_1CBTreeDB_1_1WriterSequential.html" title="WriterSequential is used to construct a constant B-tree database from an _ordered_...">WriterSequential</a> is used to construct a constant B-tree database from an _ordered_ input sequence.  <a href="classstx_1_1CBTreeDB_1_1WriterSequential.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef _Key&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">first template parameter: the key type of the B-tree.  <a href="#a3853858e7d8cc630c832232bc46ed2c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef _Compare&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#aa8d64c69bfec9eb6728d50ce1668d522">key_compare</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">second template parameter: key comparison function object type.  <a href="#aa8d64c69bfec9eb6728d50ce1668d522"></a><br/></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#a651bc40a21e741a77d73163da358c262">STX_STATIC_ASSERT</a> (<a class="el" href="classstx_1_1CBTreeDB.html#acca9b452de05001486b111a4c415cfcb">LeafNodeNumKeys</a> &gt;=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#aae60d0a4df54e0ca8489d5c77a44b3c4">STX_STATIC_ASSERT</a> (<a class="el" href="classstx_1_1CBTreeDB.html#ae95b23de1103556bb96353fda4efe052">InnerNodeNumKeys</a> &gt;=2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#a2428ccc423ed23406ee2357b20b944e3">STX_STATIC_ASSERT</a> (sizeof(<a class="el" href="structstx_1_1CBTreeDB_1_1SignaturePage.html">SignaturePage</a>)&lt;=<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a>)</td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structstx_1_1CBTreeDB_1_1SignaturePage.html">stx::CBTreeDB::SignaturePage</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#a0a57e296404542a54803e92ef3539de8">packed</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Signature page which heads all cbtreedb files.  <a href="#a0a57e296404542a54803e92ef3539de8"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> = _BTreePageSize</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">third template parameter: B-tree page size. Usually 1024 or 2048.  <a href="#a924efff56b96b6c5a0397211b0cf8685"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#afbb1611aa42b9f5630ca5dc1b8546988">AppVersionId</a> = _AppVersionId</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">fourth template parameter: application-defined 32-bit identifier to mark database format or version.  <a href="#afbb1611aa42b9f5630ca5dc1b8546988"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#a7e0cd4ed3915f9b944b5828b02b27fa5">LeafNodeHead</a> = 2 * sizeof(uint16_t) + sizeof(uint64_t) + sizeof(uint32_t)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">size of fields before key+offset array in <a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html" title="Leaf node structure of the B-tree leaf pages.">LeafNode</a> and additional offset at end.  <a href="#a7e0cd4ed3915f9b944b5828b02b27fa5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#acca9b452de05001486b111a4c415cfcb">LeafNodeNumKeys</a> = (<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> - <a class="el" href="classstx_1_1CBTreeDB.html#a7e0cd4ed3915f9b944b5828b02b27fa5">LeafNodeHead</a>) / (sizeof(<a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a>) + sizeof(uint32_t))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of key+offsets in each <a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html" title="Leaf node structure of the B-tree leaf pages.">LeafNode</a>  <a href="#acca9b452de05001486b111a4c415cfcb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#ab19bfe8cccf12e1d2d38bf98369e6fb8">LeafNodeFiller</a> = <a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> - <a class="el" href="classstx_1_1CBTreeDB.html#a7e0cd4ed3915f9b944b5828b02b27fa5">LeafNodeHead</a> - <a class="el" href="classstx_1_1CBTreeDB.html#acca9b452de05001486b111a4c415cfcb">LeafNodeNumKeys</a> * (sizeof(<a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a>) + sizeof(uint32_t))</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of unused fill bytes in each <a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html" title="Leaf node structure of the B-tree leaf pages.">LeafNode</a>  <a href="#ab19bfe8cccf12e1d2d38bf98369e6fb8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#af944ce7bcec9897ed7c0e1a3f3c8bebf">InnerNodeHead</a> = 2 * sizeof(uint16_t) + sizeof(uint32_t)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">size of fields before key array in <a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html" title="Inner node structure of the B-tree inner pages.">InnerNode</a>  <a href="#af944ce7bcec9897ed7c0e1a3f3c8bebf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#ae95b23de1103556bb96353fda4efe052">InnerNodeNumKeys</a> = (<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> - <a class="el" href="classstx_1_1CBTreeDB.html#af944ce7bcec9897ed7c0e1a3f3c8bebf">InnerNodeHead</a>) / sizeof(<a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of keys in each <a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html" title="Inner node structure of the B-tree inner pages.">InnerNode</a>  <a href="#ae95b23de1103556bb96353fda4efe052"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#a0e3da86f9a215193cb291ca7321143dc">InnerNodeFiller</a> = <a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> - <a class="el" href="classstx_1_1CBTreeDB.html#af944ce7bcec9897ed7c0e1a3f3c8bebf">InnerNodeHead</a> - <a class="el" href="classstx_1_1CBTreeDB.html#ae95b23de1103556bb96353fda4efe052">InnerNodeNumKeys</a> * sizeof(<a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of unused fill bytes in each <a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html" title="Inner node structure of the B-tree inner pages.">InnerNode</a>  <a href="#a0e3da86f9a215193cb291ca7321143dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#af31d6adca51ce73acce0abbb0ac3bd72">SignaturePageSize</a> = <a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fixed signature page size: always equal to the B-tree page.  <a href="#af31d6adca51ce73acce0abbb0ac3bd72"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#ae2990437d96c87ba1c6e4f8783af2640">STX_STATIC_ASSERT</a> (sizeof(<a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html">LeafNode</a>)==<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#a5fd15fa1c55aca984f44b28bdf46fe14">STX_STATIC_ASSERT</a> (sizeof(<a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html">InnerNode</a>)==<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a>)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html">stx::CBTreeDB::LeafNode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#aed52b8ad780ce28fc8697ec9dae62321">packed</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Leaf node structure of the B-tree leaf pages.  <a href="#aed52b8ad780ce28fc8697ec9dae62321"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html">stx::CBTreeDB::InnerNode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB.html#a1c5010e7ac4ab7e705d98a1bd3e6453b">packed</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Inner node structure of the B-tree inner pages.  <a href="#a1c5010e7ac4ab7e705d98a1bd3e6453b"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename _Key = uint32_t, typename _Compare = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt;<br/>
 class stx::CBTreeDB&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;</h3>

<p>Template super-class enclosing all classes which can operate on a constant B-tree database file. </p>
<p>By parameterizing this class an instance of all sub-classes is created. The parameters described important database parameters and database files should be read and written using the _same_ class parameters!</p>
<p>The first template parameter is the key type, which must be an integral, fixed-length type like uint32_t or a struct.</p>
<p>The second template parameter is the order functional used to sort the keys, it must form a total order relation over the keys.</p>
<p>The size of B-tree pages containing nodes are defined by the third parameter. The number of key slots in each node is calculated from this number and sizeof(_Key). There are some obvious constraints on the relationship of page size and key size which are checked by compile-time assertions.</p>
<p>The fourth template parameter is an uint32_t version number stored in the signature page of the database. It can be used by an application to mark its own database. When opening databases this parameter must match the signature.</p>
<p>For more information see <a href="http://idlebox.net/2010/stx-cbtreedb/">http://idlebox.net/2010/stx-cbtreedb/</a> </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00090">90</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="aa8d64c69bfec9eb6728d50ce1668d522"></a><!-- doxytag: member="stx::CBTreeDB::key_compare" ref="aa8d64c69bfec9eb6728d50ce1668d522" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef _Compare <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#aa8d64c69bfec9eb6728d50ce1668d522">key_compare</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>second template parameter: key comparison function object type. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00100">100</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3853858e7d8cc630c832232bc46ed2c0"></a><!-- doxytag: member="stx::CBTreeDB::key_type" ref="a3853858e7d8cc630c832232bc46ed2c0" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef _Key <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>first template parameter: the key type of the B-tree. </p>
<p>This must be an integral, fixed-length type as it is used in arrays in the tree nodes. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00097">97</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5fd15fa1c55aca984f44b28bdf46fe14"></a><!-- doxytag: member="stx::CBTreeDB::STX_STATIC_ASSERT" ref="a5fd15fa1c55aca984f44b28bdf46fe14" args="(sizeof(InnerNode)==BTreePageSize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::STX_STATIC_ASSERT </td>
          <td>(</td>
          <td class="paramtype">sizeof(<a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html">InnerNode</a>)&nbsp;</td>
          <td class="paramname"> = <code>=<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a></code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae2990437d96c87ba1c6e4f8783af2640"></a><!-- doxytag: member="stx::CBTreeDB::STX_STATIC_ASSERT" ref="ae2990437d96c87ba1c6e4f8783af2640" args="(sizeof(LeafNode)==BTreePageSize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::STX_STATIC_ASSERT </td>
          <td>(</td>
          <td class="paramtype">sizeof(<a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html">LeafNode</a>)&nbsp;</td>
          <td class="paramname"> = <code>=<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a></code></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a2428ccc423ed23406ee2357b20b944e3"></a><!-- doxytag: member="stx::CBTreeDB::STX_STATIC_ASSERT" ref="a2428ccc423ed23406ee2357b20b944e3" args="(sizeof(SignaturePage)&lt;=BTreePageSize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::STX_STATIC_ASSERT </td>
          <td>(</td>
          <td class="paramtype">sizeof(<a class="el" href="structstx_1_1CBTreeDB_1_1SignaturePage.html">SignaturePage</a>)&lt;=&nbsp;</td>
          <td class="paramname"> <em>BTreePageSize</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aae60d0a4df54e0ca8489d5c77a44b3c4"></a><!-- doxytag: member="stx::CBTreeDB::STX_STATIC_ASSERT" ref="aae60d0a4df54e0ca8489d5c77a44b3c4" args="(InnerNodeNumKeys &gt;=2)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::STX_STATIC_ASSERT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB.html#ae95b23de1103556bb96353fda4efe052">InnerNodeNumKeys</a> &gt;=&nbsp;</td>
          <td class="paramname"> <em>2</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a651bc40a21e741a77d73163da358c262"></a><!-- doxytag: member="stx::CBTreeDB::STX_STATIC_ASSERT" ref="a651bc40a21e741a77d73163da358c262" args="(LeafNodeNumKeys &gt;=1)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::STX_STATIC_ASSERT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB.html#acca9b452de05001486b111a4c415cfcb">LeafNodeNumKeys</a> &gt;=&nbsp;</td>
          <td class="paramname"> <em>1</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="afbb1611aa42b9f5630ca5dc1b8546988"></a><!-- doxytag: member="stx::CBTreeDB::AppVersionId" ref="afbb1611aa42b9f5630ca5dc1b8546988" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#afbb1611aa42b9f5630ca5dc1b8546988">AppVersionId</a> = _AppVersionId<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>fourth template parameter: application-defined 32-bit identifier to mark database format or version. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00107">107</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a924efff56b96b6c5a0397211b0cf8685"></a><!-- doxytag: member="stx::CBTreeDB::BTreePageSize" ref="a924efff56b96b6c5a0397211b0cf8685" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> = _BTreePageSize<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>third template parameter: B-tree page size. Usually 1024 or 2048. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00103">103</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0e3da86f9a215193cb291ca7321143dc"></a><!-- doxytag: member="stx::CBTreeDB::InnerNodeFiller" ref="a0e3da86f9a215193cb291ca7321143dc" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#a0e3da86f9a215193cb291ca7321143dc">InnerNodeFiller</a> = <a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> - <a class="el" href="classstx_1_1CBTreeDB.html#af944ce7bcec9897ed7c0e1a3f3c8bebf">InnerNodeHead</a> - <a class="el" href="classstx_1_1CBTreeDB.html#ae95b23de1103556bb96353fda4efe052">InnerNodeNumKeys</a> * sizeof(<a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a>)<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of unused fill bytes in each <a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html" title="Inner node structure of the B-tree inner pages.">InnerNode</a> </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00132">132</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="af944ce7bcec9897ed7c0e1a3f3c8bebf"></a><!-- doxytag: member="stx::CBTreeDB::InnerNodeHead" ref="af944ce7bcec9897ed7c0e1a3f3c8bebf" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#af944ce7bcec9897ed7c0e1a3f3c8bebf">InnerNodeHead</a> = 2 * sizeof(uint16_t) + sizeof(uint32_t)<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>size of fields before key array in <a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html" title="Inner node structure of the B-tree inner pages.">InnerNode</a> </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00124">124</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae95b23de1103556bb96353fda4efe052"></a><!-- doxytag: member="stx::CBTreeDB::InnerNodeNumKeys" ref="ae95b23de1103556bb96353fda4efe052" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#ae95b23de1103556bb96353fda4efe052">InnerNodeNumKeys</a> = (<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> - <a class="el" href="classstx_1_1CBTreeDB.html#af944ce7bcec9897ed7c0e1a3f3c8bebf">InnerNodeHead</a>) / sizeof(<a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a>)<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of keys in each <a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html" title="Inner node structure of the B-tree inner pages.">InnerNode</a> </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00127">127</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab19bfe8cccf12e1d2d38bf98369e6fb8"></a><!-- doxytag: member="stx::CBTreeDB::LeafNodeFiller" ref="ab19bfe8cccf12e1d2d38bf98369e6fb8" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#ab19bfe8cccf12e1d2d38bf98369e6fb8">LeafNodeFiller</a> = <a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> - <a class="el" href="classstx_1_1CBTreeDB.html#a7e0cd4ed3915f9b944b5828b02b27fa5">LeafNodeHead</a> - <a class="el" href="classstx_1_1CBTreeDB.html#acca9b452de05001486b111a4c415cfcb">LeafNodeNumKeys</a> * (sizeof(<a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a>) + sizeof(uint32_t))<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of unused fill bytes in each <a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html" title="Leaf node structure of the B-tree leaf pages.">LeafNode</a> </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00121">121</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7e0cd4ed3915f9b944b5828b02b27fa5"></a><!-- doxytag: member="stx::CBTreeDB::LeafNodeHead" ref="a7e0cd4ed3915f9b944b5828b02b27fa5" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#a7e0cd4ed3915f9b944b5828b02b27fa5">LeafNodeHead</a> = 2 * sizeof(uint16_t) + sizeof(uint64_t) + sizeof(uint32_t)<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>size of fields before key+offset array in <a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html" title="Leaf node structure of the B-tree leaf pages.">LeafNode</a> and additional offset at end. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00113">113</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="acca9b452de05001486b111a4c415cfcb"></a><!-- doxytag: member="stx::CBTreeDB::LeafNodeNumKeys" ref="acca9b452de05001486b111a4c415cfcb" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#acca9b452de05001486b111a4c415cfcb">LeafNodeNumKeys</a> = (<a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a> - <a class="el" href="classstx_1_1CBTreeDB.html#a7e0cd4ed3915f9b944b5828b02b27fa5">LeafNodeHead</a>) / (sizeof(<a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a>) + sizeof(uint32_t))<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of key+offsets in each <a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html" title="Leaf node structure of the B-tree leaf pages.">LeafNode</a> </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00116">116</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1c5010e7ac4ab7e705d98a1bd3e6453b"></a><!-- doxytag: member="stx::CBTreeDB::packed" ref="a1c5010e7ac4ab7e705d98a1bd3e6453b" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstx_1_1CBTreeDB_1_1InnerNode.html">stx::CBTreeDB::InnerNode</a> <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#a0a57e296404542a54803e92ef3539de8">packed</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inner node structure of the B-tree inner pages. </p>
<p>Each inner node has n+1 children nodes, where n is the number of keys in the node. The n+1 children nodes are stored consecutively starting at childrenoffset. </p>

</div>
</div>
<a class="anchor" id="aed52b8ad780ce28fc8697ec9dae62321"></a><!-- doxytag: member="stx::CBTreeDB::packed" ref="aed52b8ad780ce28fc8697ec9dae62321" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstx_1_1CBTreeDB_1_1LeafNode.html">stx::CBTreeDB::LeafNode</a> <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#a0a57e296404542a54803e92ef3539de8">packed</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Leaf node structure of the B-tree leaf pages. </p>
<p>Each leaf node contains a key array and an array of relative value offsets. It does not contain the size of the value elements, because these can be computed from two successive relative offsets. This works for the last offset only because of the extra offset of the successor value item in the next leaf. The value offsets are relative to a starting 64-bit offset, because all leaf's data items are stored in order. </p>

</div>
</div>
<a class="anchor" id="a0a57e296404542a54803e92ef3539de8"></a><!-- doxytag: member="stx::CBTreeDB::packed" ref="a0a57e296404542a54803e92ef3539de8" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstx_1_1CBTreeDB_1_1SignaturePage.html">stx::CBTreeDB::SignaturePage</a> <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#a0a57e296404542a54803e92ef3539de8">packed</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signature page which heads all cbtreedb files. </p>
<p>It contains a signature and many important fields to correctly access the database file. Due to disk page alignment reasons, the signature block is stored with a full B-tree page size. </p>

</div>
</div>
<a class="anchor" id="af31d6adca51ce73acce0abbb0ac3bd72"></a><!-- doxytag: member="stx::CBTreeDB::SignaturePageSize" ref="af31d6adca51ce73acce0abbb0ac3bd72" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB.html#af31d6adca51ce73acce0abbb0ac3bd72">SignaturePageSize</a> = <a class="el" href="classstx_1_1CBTreeDB.html#a924efff56b96b6c5a0397211b0cf8685">BTreePageSize</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fixed signature page size: always equal to the B-tree page. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l00190">190</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Apr 14 13:43:41 2010 for stx-cbtreedb by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
