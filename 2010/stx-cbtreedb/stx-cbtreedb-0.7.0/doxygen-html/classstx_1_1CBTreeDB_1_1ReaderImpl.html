<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>stx-cbtreedb: stx::CBTreeDB&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacestx.html">stx</a>::<a class="el" href="classstx_1_1CBTreeDB.html">CBTreeDB</a>::<a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html">ReaderImpl</a>
  </div>
</div>
<div class="contents">
<h1>stx::CBTreeDB&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl Class Reference</h1><!-- doxytag: class="stx::CBTreeDB::ReaderImpl" -->
<p>Implementation class used to read constant B-tree database files.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for stx::CBTreeDB&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl:</div>
<div class="dynsection">
<div class="center"><img src="classstx_1_1CBTreeDB_1_1ReaderImpl__coll__graph.png" border="0" usemap="#stx_1_1CBTreeDB_3_01__Key_00_01__Compare_00_01__BTreePageSize_00_01__AppVersionId_01_4_1_1ReaderImpl_coll__map" alt="Collaboration graph"/></div>
<map name="stx_1_1CBTreeDB_3_01__Key_00_01__Compare_00_01__BTreePageSize_00_01__AppVersionId_01_4_1_1ReaderImpl_coll__map" id="stx_1_1CBTreeDB_3_01__Key_00_01__Compare_00_01__BTreePageSize_00_01__AppVersionId_01_4_1_1ReaderImpl_coll__map">
<area shape="rect" id="node2" href="structstx_1_1CBTreeDB_1_1SignaturePage.html" title="Signature page which heads all cbtreedb files." alt="" coords="5,5,557,35"/><area shape="rect" id="node4" title="STL class." alt="" coords="232,59,331,88"/><area shape="rect" id="node6" href="classstx_1_1CBTreeDB_1_1PageCache.html" title="PageCache and PageCacheImpl implement a LRU&#45;strategy cache of B&#45;tree pages used by..." alt="" coords="16,112,547,141"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classstx_1_1CBTreeDB_1_1ReaderImpl-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#aa3994b781dd70ae6eb7135922e6462aa">ReaderImpl</a> (const <a class="el" href="classstx_1_1CBTreeDB.html#aa8d64c69bfec9eb6728d50ce1668d522">key_compare</a> &amp;key_less)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create new reader, which is initially set to closed state.  <a href="#aa3994b781dd70ae6eb7135922e6462aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a098443c5ed8f8e7a62b488e5e39e149c">RefInc</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Increment reference counter by one.  <a href="#a098443c5ed8f8e7a62b488e5e39e149c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a8e42bdcc7582888d961da20aedf7474e">RefDec</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decrement reference counter by one and return it.  <a href="#a8e42bdcc7582888d961da20aedf7474e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#ac8391c872514c45fd8eb57fa5fa431a9">SetSignature</a> (const char *newsignature)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the database signature (first 8 bytes) from 'cbtreedb' to a custom string.  <a href="#ac8391c872514c45fd8eb57fa5fa431a9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a835dfdb78068c4ba4720a44b60372a7e">Open</a> (std::istream &amp;file, std::string *errortext=NULL)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to open a cbtreedb database file.  <a href="#a835dfdb78068c4ba4720a44b60372a7e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a7a215ab363ae9517e629d7c332252fb6">Close</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the opened database.  <a href="#a7a215ab363ae9517e629d7c332252fb6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a679f537a80c1985cce214bb76675f223">SetPageCache</a> (<a class="el" href="classstx_1_1CBTreeDB_1_1PageCache.html">PageCache</a> *newpagecache)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Change the currently used page cache object.  <a href="#a679f537a80c1985cce214bb76675f223"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#ab40620b926ca9f0a46e82b08d524fc1a">Size</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of items in the loaded database.  <a href="#ab40620b926ca9f0a46e82b08d524fc1a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structstx_1_1CBTreeDB_1_1SignaturePage.html">SignaturePage</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#ae464958b91b949125fb940cc58fe7398">GetSignature</a> () const </td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a const reference to the signature page of the currently loaded database.  <a href="#ae464958b91b949125fb940cc58fe7398"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#af6b4e2ab54b52205bf9d219972aa16b5">Exists</a> (const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a key is in the constant database.  <a href="#af6b4e2ab54b52205bf9d219972aa16b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a3028a30dca7f22b3bacc598413f2768f">Lookup</a> (const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;key, void *outvalue, uint32_t maxsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a key in the constant database.  <a href="#a3028a30dca7f22b3bacc598413f2768f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a04fca9039088858adc1431857e23d88b">Lookup</a> (const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;key, std::string &amp;outvalue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a key in the constant database.  <a href="#a04fca9039088858adc1431857e23d88b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#ae6ffcc392fbd9ac62ea7e1e93eda4862">operator[]</a> (const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find a key in the constant database.  <a href="#ae6ffcc392fbd9ac62ea7e1e93eda4862"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a0d73ffa78a159c4201fc6c0d98fb1591">GetIndex</a> (uint32_t index, <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;outkey)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns only the key by index.  <a href="#a0d73ffa78a159c4201fc6c0d98fb1591"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a205d93c3a6d87572891858dbf5c176dc">GetIndex</a> (uint32_t index, <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;outkey, void *outvalue, uint32_t maxsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a key and associated value by index.  <a href="#a205d93c3a6d87572891858dbf5c176dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a935c7c01e6d63339e6250887b86bd584">GetIndex</a> (uint32_t index, <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;outkey, std::string &amp;outvalue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return a key and associated value by index.  <a href="#a935c7c01e6d63339e6250887b86bd584"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a70676ad9056f4218fd8ed2fd519d09b5">Verify</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verify all aspects of the loaded database.  <a href="#a70676ad9056f4218fd8ed2fd519d09b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#ae8a66caab78c33fa81ec5eaf19e30dc7">VerifyBTree</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verify B-tree structure in the loaded database.  <a href="#ae8a66caab78c33fa81ec5eaf19e30dc7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a5d6722b69910bb7b1d897025093bca5f">VerifyBTreeChecksum</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verify the <a class="el" href="classstx_1_1CBTreeDB_1_1SHA256.html" title="SHA-256 Message Digest implementation class.">SHA256</a> checksum of the B-tree pages in the loaded database.  <a href="#a5d6722b69910bb7b1d897025093bca5f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a80c66f52eb8b8ab85a1ad544dec8d0bc">VerifyValueChecksum</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Verify the <a class="el" href="classstx_1_1CBTreeDB_1_1SHA256.html" title="SHA-256 Message Digest implementation class.">SHA256</a> checksum of value data area in the loaded database.  <a href="#a80c66f52eb8b8ab85a1ad544dec8d0bc"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstx_1_1CBTreeDB_1_1BTreePage.html">BTreePage</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a2134578873943a60ef2f66e91000dd18">ReadIndexPage</a> (uint32_t pageoffset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read one B-tree page from the file (or from cache).  <a href="#a2134578873943a60ef2f66e91000dd18"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#aabc9332e31f4c19a508c6330d899c253">ReadValueRange</a> (uint64_t offset, void *data, uint32_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read byte range [offset, offset+size) from value data area into the given buffer.  <a href="#aabc9332e31f4c19a508c6330d899c253"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a2e08f1c599309c6801005cf698dac342">KeyEqual</a> (const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;a, const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to test key equality, constructed from m_key_less.  <a href="#a2e08f1c599309c6801005cf698dac342"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a7deff86a6ce09bf27b4b21ad894e1e13">KeyUnequal</a> (const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;a, const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;b)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to test key inequality, constructed from m_key_less.  <a href="#a7deff86a6ce09bf27b4b21ad894e1e13"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename NodeType &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">int&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a057accbc2f439812c213176dab755a87">BinarySearch</a> (const NodeType *node, <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> key)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the first key slot containing a greater-or-equal key.  <a href="#a057accbc2f439812c213176dab755a87"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a6b936a53a3071e4bad0ea8fe9ec4efb4">FindKey</a> (const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;key, uint64_t &amp;outoffset, uint32_t &amp;outsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function to look down the B-tree and find a key.  <a href="#a6b936a53a3071e4bad0ea8fe9ec4efb4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#ac2f53460507624518c1fe79f0981db9f">FindIndex</a> (uint32_t index, <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;outkey, uint64_t &amp;outoffset, uint32_t &amp;outsize)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function to look directly into the B-tree's leaf pages and find a key by index.  <a href="#ac2f53460507624518c1fe79f0981db9f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#afc8bb442ea5b43b172a3a83595171be6">VerifyBTreeNode</a> (uint32_t offset, <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> *minkey, <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> *maxkey, uint64_t *lastoffset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Internal function: Recursively verify B-tree structure.  <a href="#afc8bb442ea5b43b172a3a83595171be6"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a4e05b1bc9eda6d66b9716e6325a5c0d2">m_refs</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">reference counter  <a href="#a4e05b1bc9eda6d66b9716e6325a5c0d2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstx_1_1CBTreeDB.html#aa8d64c69bfec9eb6728d50ce1668d522">key_compare</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a782b6f840494a9a56e2862e718fb7847">m_key_less</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">key comparison functional  <a href="#a782b6f840494a9a56e2862e718fb7847"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a51e63336b13bbe290c9f91bf8c2b7b2f">m_signaturestr</a> [8]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">signature characters to expect file to begin with.  <a href="#a51e63336b13bbe290c9f91bf8c2b7b2f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::istream *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a127dd81bf846ed41baae74aaa14d5e59">m_istream</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">file stream object currently opened.  <a href="#a127dd81bf846ed41baae74aaa14d5e59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structstx_1_1CBTreeDB_1_1SignaturePage.html">SignaturePage</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#acac61213eb7fb4a4f8504de5812bc9cc">m_signature</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">signature page read from file  <a href="#acac61213eb7fb4a4f8504de5812bc9cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstx_1_1CBTreeDB_1_1PageCache.html">PageCache</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a1f845e51369f70addfcb5cf16e794df1">m_pagecache</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">pointer to b-tree page cache to used.  <a href="#a1f845e51369f70addfcb5cf16e794df1"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename _Key = uint32_t, typename _Compare = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt;<br/>
 class stx::CBTreeDB&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl</h3>

<p>Implementation class used to read constant B-tree database files. </p>
<p>Refer to <a class="el" href="index.html#sec_architecture">Design Principles and Database Architecture</a> and <a class="el" href="index.html#sec_example">Example Usage</a> on how to use this class. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01419">1419</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa3994b781dd70ae6eb7135922e6462aa"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::ReaderImpl" ref="aa3994b781dd70ae6eb7135922e6462aa" args="(const key_compare &amp;key_less)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::ReaderImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#aa8d64c69bfec9eb6728d50ce1668d522">key_compare</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key_less</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create new reader, which is initially set to closed state. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01535">1535</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a057accbc2f439812c213176dab755a87"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::BinarySearch" ref="a057accbc2f439812c213176dab755a87" args="(const NodeType *node, key_type key)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
<div class="memtemplate">
template&lt;typename NodeType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::BinarySearch </td>
          <td>(</td>
          <td class="paramtype">const NodeType *&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a>&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find the first key slot containing a greater-or-equal key. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01504">1504</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7a215ab363ae9517e629d7c332252fb6"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::Close" ref="a7a215ab363ae9517e629d7c332252fb6" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::Close </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the opened database. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01666">1666</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="af6b4e2ab54b52205bf9d219972aa16b5"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::Exists" ref="af6b4e2ab54b52205bf9d219972aa16b5" args="(const key_type &amp;key)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::Exists </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a key is in the constant database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key to lookup </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if found. </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01769">1769</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac2f53460507624518c1fe79f0981db9f"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::FindIndex" ref="ac2f53460507624518c1fe79f0981db9f" args="(uint32_t index, key_type &amp;outkey, uint64_t &amp;outoffset, uint32_t &amp;outsize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::FindIndex </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>outkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t &amp;&nbsp;</td>
          <td class="paramname"> <em>outoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&nbsp;</td>
          <td class="paramname"> <em>outsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal function to look directly into the B-tree's leaf pages and find a key by index. </p>
<p>If found, returns the key, offset and size of the corresponding value area. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01860">1860</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6b936a53a3071e4bad0ea8fe9ec4efb4"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::FindKey" ref="a6b936a53a3071e4bad0ea8fe9ec4efb4" args="(const key_type &amp;key, uint64_t &amp;outoffset, uint32_t &amp;outsize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::FindKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t &amp;&nbsp;</td>
          <td class="paramname"> <em>outoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&nbsp;</td>
          <td class="paramname"> <em>outsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal function to look down the B-tree and find a key. </p>
<p>If found, returns the offset and size of the corresponding value data area. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01702">1702</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a935c7c01e6d63339e6250887b86bd584"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::GetIndex" ref="a935c7c01e6d63339e6250887b86bd584" args="(uint32_t index, key_type &amp;outkey, std::string &amp;outvalue)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::GetIndex </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>outkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>outvalue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a key and associated value by index. </p>
<p>Looks directly into the leaf pages.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>zero-based index of item to retrieve </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outkey</em>&nbsp;</td><td>set to key of item </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outvalue</em>&nbsp;</td><td>string to hold data of value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>size of associated value </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01951">1951</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a205d93c3a6d87572891858dbf5c176dc"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::GetIndex" ref="a205d93c3a6d87572891858dbf5c176dc" args="(uint32_t index, key_type &amp;outkey, void *outvalue, uint32_t maxsize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::GetIndex </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>outkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>outvalue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>maxsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a key and associated value by index. </p>
<p>Looks directly into the leaf pages.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>zero-based index of item to retrieve </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outkey</em>&nbsp;</td><td>set to key of item </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outvalue</em>&nbsp;</td><td>buffer to hold data of value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxsize</em>&nbsp;</td><td>maximum size of buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>size of associated value </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01923">1923</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0d73ffa78a159c4201fc6c0d98fb1591"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::GetIndex" ref="a0d73ffa78a159c4201fc6c0d98fb1591" args="(uint32_t index, key_type &amp;outkey)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::GetIndex </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>outkey</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns only the key by index. </p>
<p>Looks directly into the leaf pages.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>index</em>&nbsp;</td><td>zero-based index of item to retrieve </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outkey</em>&nbsp;</td><td>set to key of item </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>size of associated value if found </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01900">1900</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae464958b91b949125fb940cc58fe7398"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::GetSignature" ref="ae464958b91b949125fb940cc58fe7398" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structstx_1_1CBTreeDB_1_1SignaturePage.html">SignaturePage</a>&amp; <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::GetSignature </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a const reference to the signature page of the currently loaded database. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01692">1692</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2e08f1c599309c6801005cf698dac342"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::KeyEqual" ref="a2e08f1c599309c6801005cf698dac342" args="(const key_type &amp;a, const key_type &amp;b)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::KeyEqual </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to test key equality, constructed from m_key_less. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01491">1491</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7deff86a6ce09bf27b4b21ad894e1e13"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::KeyUnequal" ref="a7deff86a6ce09bf27b4b21ad894e1e13" args="(const key_type &amp;a, const key_type &amp;b)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::KeyUnequal </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to test key inequality, constructed from m_key_less. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01497">1497</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a04fca9039088858adc1431857e23d88b"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::Lookup" ref="a04fca9039088858adc1431857e23d88b" args="(const key_type &amp;key, std::string &amp;outvalue)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::Lookup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>outvalue</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find a key in the constant database. </p>
<p>If found the coresponding value is copied into the output string buffer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key to lookup </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outvalue</em>&nbsp;</td><td>string filled with the associated value if the key is found </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if found. </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01812">1812</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3028a30dca7f22b3bacc598413f2768f"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::Lookup" ref="a3028a30dca7f22b3bacc598413f2768f" args="(const key_type &amp;key, void *outvalue, uint32_t maxsize)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::Lookup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>outvalue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>maxsize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find a key in the constant database. </p>
<p>If found the corresponding value is copied into the output buffer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key to lookup </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>outvalue</em>&nbsp;</td><td>buffer filled with the associated value if the key is found </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>maxsize</em>&nbsp;</td><td>maximum size of buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if found. </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01788">1788</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a835dfdb78068c4ba4720a44b60372a7e"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::Open" ref="a835dfdb78068c4ba4720a44b60372a7e" args="(std::istream &amp;file, std::string *errortext=NULL)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::Open </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&nbsp;</td>
          <td class="paramname"> <em>errortext</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attempt to open a cbtreedb database file. </p>
<p>Reads and verifies the signature and initializes the reader. Note that this function does not through an exception if the file could not be loaded! The istream object must exist as long as the <a class="el" href="classstx_1_1CBTreeDB_1_1Reader.html" title="Class used to read constant B-tree database files.">Reader</a> is used.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>database file input stream to attach. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errortext</em>&nbsp;</td><td>in case of error, set to an informative text. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if loaded and verified correctly. </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01578">1578</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae6ffcc392fbd9ac62ea7e1e93eda4862"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::operator[]" ref="ae6ffcc392fbd9ac62ea7e1e93eda4862" args="(const key_type &amp;key)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::operator[] </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find a key in the constant database. </p>
<p>If found the corresponding value is copied into the output string buffer. If the key does not exist, an empty string is returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>key to lookup </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>string containing the value </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01835">1835</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2134578873943a60ef2f66e91000dd18"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::ReadIndexPage" ref="a2134578873943a60ef2f66e91000dd18" args="(uint32_t pageoffset)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstx_1_1CBTreeDB_1_1BTreePage.html">BTreePage</a> <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::ReadIndexPage </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>pageoffset</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read one B-tree page from the file (or from cache). </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01442">1442</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="aabc9332e31f4c19a508c6330d899c253"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::ReadValueRange" ref="aabc9332e31f4c19a508c6330d899c253" args="(uint64_t offset, void *data, uint32_t size)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::ReadValueRange </td>
          <td>(</td>
          <td class="paramtype">uint64_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read byte range [offset, offset+size) from value data area into the given buffer. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01475">1475</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8e42bdcc7582888d961da20aedf7474e"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::RefDec" ref="a8e42bdcc7582888d961da20aedf7474e" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::RefDec </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decrement reference counter by one and return it. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01548">1548</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a098443c5ed8f8e7a62b488e5e39e149c"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::RefInc" ref="a098443c5ed8f8e7a62b488e5e39e149c" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::RefInc </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Increment reference counter by one. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01542">1542</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a679f537a80c1985cce214bb76675f223"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::SetPageCache" ref="a679f537a80c1985cce214bb76675f223" args="(PageCache *newpagecache)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::SetPageCache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB_1_1PageCache.html">PageCache</a> *&nbsp;</td>
          <td class="paramname"> <em>newpagecache</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change the currently used page cache object. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01673">1673</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac8391c872514c45fd8eb57fa5fa431a9"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::SetSignature" ref="ac8391c872514c45fd8eb57fa5fa431a9" args="(const char *newsignature)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::SetSignature </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>newsignature</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change the database signature (first 8 bytes) from 'cbtreedb' to a custom string. </p>
<p>The signature is always 8 bytes long. Longer strings are truncated, shorter ones padded with nulls. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01558">1558</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab40620b926ca9f0a46e82b08d524fc1a"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::Size" ref="ab40620b926ca9f0a46e82b08d524fc1a" args="() const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::Size </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of items in the loaded database. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01681">1681</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a70676ad9056f4218fd8ed2fd519d09b5"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::Verify" ref="a70676ad9056f4218fd8ed2fd519d09b5" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::Verify </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify all aspects of the loaded database. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if database is ok. </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01974">1974</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae8a66caab78c33fa81ec5eaf19e30dc7"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::VerifyBTree" ref="ae8a66caab78c33fa81ec5eaf19e30dc7" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::VerifyBTree </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify B-tree structure in the loaded database. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if database is ok. </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01992">1992</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5d6722b69910bb7b1d897025093bca5f"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::VerifyBTreeChecksum" ref="a5d6722b69910bb7b1d897025093bca5f" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::VerifyBTreeChecksum </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify the <a class="el" href="classstx_1_1CBTreeDB_1_1SHA256.html" title="SHA-256 Message Digest implementation class.">SHA256</a> checksum of the B-tree pages in the loaded database. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if database is ok. </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l02072">2072</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="afc8bb442ea5b43b172a3a83595171be6"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::VerifyBTreeNode" ref="afc8bb442ea5b43b172a3a83595171be6" args="(uint32_t offset, key_type *minkey, key_type *maxkey, uint64_t *lastoffset)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::VerifyBTreeNode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> *&nbsp;</td>
          <td class="paramname"> <em>minkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classstx_1_1CBTreeDB.html#a3853858e7d8cc630c832232bc46ed2c0">key_type</a> *&nbsp;</td>
          <td class="paramname"> <em>maxkey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&nbsp;</td>
          <td class="paramname"> <em>lastoffset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Internal function: Recursively verify B-tree structure. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l02007">2007</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a80c66f52eb8b8ab85a1ad544dec8d0bc"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::VerifyValueChecksum" ref="a80c66f52eb8b8ab85a1ad544dec8d0bc" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::ReaderImpl::VerifyValueChecksum </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Verify the <a class="el" href="classstx_1_1CBTreeDB_1_1SHA256.html" title="SHA-256 Message Digest implementation class.">SHA256</a> checksum of value data area in the loaded database. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if database is ok. </dd></dl>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l02094">2094</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a127dd81bf846ed41baae74aaa14d5e59"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::m_istream" ref="a127dd81bf846ed41baae74aaa14d5e59" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::istream* <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a127dd81bf846ed41baae74aaa14d5e59">ReaderImpl::m_istream</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>file stream object currently opened. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01433">1433</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a782b6f840494a9a56e2862e718fb7847"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::m_key_less" ref="a782b6f840494a9a56e2862e718fb7847" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstx_1_1CBTreeDB.html#aa8d64c69bfec9eb6728d50ce1668d522">key_compare</a> <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a782b6f840494a9a56e2862e718fb7847">ReaderImpl::m_key_less</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>key comparison functional </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01427">1427</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1f845e51369f70addfcb5cf16e794df1"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::m_pagecache" ref="a1f845e51369f70addfcb5cf16e794df1" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstx_1_1CBTreeDB_1_1PageCache.html">PageCache</a>* <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a1f845e51369f70addfcb5cf16e794df1">ReaderImpl::m_pagecache</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>pointer to b-tree page cache to used. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01439">1439</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4e05b1bc9eda6d66b9716e6325a5c0d2"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::m_refs" ref="a4e05b1bc9eda6d66b9716e6325a5c0d2" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">unsigned int <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a4e05b1bc9eda6d66b9716e6325a5c0d2">ReaderImpl::m_refs</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>reference counter </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01424">1424</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="acac61213eb7fb4a4f8504de5812bc9cc"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::m_signature" ref="acac61213eb7fb4a4f8504de5812bc9cc" args="" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstx_1_1CBTreeDB_1_1SignaturePage.html">SignaturePage</a> <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#acac61213eb7fb4a4f8504de5812bc9cc">ReaderImpl::m_signature</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>signature page read from file </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01436">1436</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<a class="anchor" id="a51e63336b13bbe290c9f91bf8c2b7b2f"></a><!-- doxytag: member="stx::CBTreeDB::ReaderImpl::m_signaturestr" ref="a51e63336b13bbe290c9f91bf8c2b7b2f" args="[8]" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename _Key  = uint32_t, typename _Compare  = std::less&lt;_Key&gt;, unsigned int _BTreePageSize = 1024, uint32_t _AppVersionId = 0&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="classstx_1_1CBTreeDB.html">stx::CBTreeDB</a>&lt; _Key, _Compare, _BTreePageSize, _AppVersionId &gt;::<a class="el" href="classstx_1_1CBTreeDB_1_1ReaderImpl.html#a51e63336b13bbe290c9f91bf8c2b7b2f">ReaderImpl::m_signaturestr</a>[8]<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>signature characters to expect file to begin with. </p>

<p>Definition at line <a class="el" href="stx-cbtreedb_8h_source.html#l01430">1430</a> of file <a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/<a class="el" href="stx-cbtreedb_8h_source.html">stx-cbtreedb.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Apr 14 13:43:42 2010 for stx-cbtreedb by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
